{"version":3,"sources":["utils/events.utils.js","components/snackbar.jsx","components/about.jsx","components/navigator.jsx","components/menu.jsx","components/login.jsx","components/feature.jsx","utils/map.utils.js","components/controllers/styleController.jsx","components/controllers/layerController.jsx","plugins/geocoder.plugin.js","plugins/marker.plugin.js","plugins/minimap.plugin.js","config.js","components/canvas.jsx","components/popup.jsx","components/componentsJS/ControlledAccordions__.js","components/controllers/rusleController.jsx","components/controllers/bushEncoracherController.jsx","components/componentsJS/DataDisplay.js","components/componentsReact/CadastralSearch.jsx","components/controllers/searchContoller.jsx","components/componentsJS/StepperData.js","components/controllers/dataController.jsx","components/controllers/modelController.jsx","components/componentsJS/StepperImport.js","components/controllers/importController.jsx","components/componentsJS/ControlledAccordions_.js","components/controllers/vegInspectorController.jsx","components/controllers/spatioTemporalAnalysisController.jsx","components/componentsJS/StepperAoi.js","components/controllers/bandContoller.jsx","components/controllers/biodiversityController.jsx","pages/main.jsx","router/router.js","serviceWorker.js","index.js"],"names":["events_utils","EventEmitter","Snackbar","state","key","handleCloseClick","_this","props","closeSnackbar","_this2","this","action","react_default","a","createElement","Fragment","Button","className","onClick","bind","showSnackbarListener","emitter","addListener","variant","message","console","log","enqueueSnackbar","autoHideDuration","showloggingSnackbarListener","e","concat","persist","setState","hideloggingSnackbarListener","removeListener","React","Component","withSnackbar","styles","root","position","top","zIndex","logoContainer","height","logo","flexContainer","right","display","flexDirection","justifyContent","svgIcon","width","fontIcon","fontSize","toolbar","background","About","modal","document","addEventListener","elem","getElementById","M","Modal","init","destory","id","href","style","src","alt","theme","createTheme","palette","primary","main","grey","color","Navigator","loggedin","token","handleLoginClick","emit","handleLogoutClick","localStorage","removeItem","cookie","split","forEach","c","replace","Date","toUTCString","handleToken","setLoginStateListener","on","ThemeProvider","AppBar","Toolbar","Tooltip","title","aria-label","enterDelay","IconButton","data-target","Icon","target","rel","download","bottom","Menu","open","actions","name","icon","callback","handleClose","handleClick","handleOpen","openMenuListener","SpeedDial","ariaLabel","SpeedDialIcon","openIcon","onMouseEnter","onMouseLeave","map","SpeedDialAction","tooltipTitle","axios","defaults","baseURL","withCredentials","indigo","A200","catastralList","interceptors","request","use","config","origin","URL","url","allowedOrigins","getItem","includes","headers","authorization","error","Promise","reject","loginContainer","alignItems","marginBottom","inputBox","marginTop","autocomplete","flexWrap","overflow","checkBox","loginBtnContainer","loginBtn","loginBtnProgress","left","marginLeft","Transition","forwardRef","ref","Slide","Object","assign","direction","Login","remember","logining","mode","selectedOptions","datasets","handleLoginClose","handleRememberChange","checked","handleChangeForm","handleChangeAutoComplete","newValue","updatedReferences","option","reference","getUserParcels","_callee","userId","response","regenerator_default","wrap","_context","prev","next","get","sent","status","updateDatasetUtilsFile","data","statusText","t0","stop","_callee2","newUser","userID","_context2","username","value","password","md5","post","setItem","idUser","moveDataset","datos","movedData","parcels","parcel","catastral_ref","geojson_data","loginListener","moveDatasetListener","Dialog","TransitionComponent","onClose","Typography","gutterBottom","TextField","margin","label","type","Autocomplete","multiple","onChange","limitTags","options","getOptionLabel","renderOption","_ref4","selected","Checkbox","marginRight","renderInput","params","placeholder","renderTags","disabled","CircularProgress","size","Feature","tapTarget","getElementsByClassName","setAttribute","elems","querySelectorAll","TapTarget","mapStyles","Streets","Light","Dark","Navigation_Day","Navigation_Night","Satellite","Satellite_Streets","Outdoors","borderRadius","boxShadow","content","paddingBottom","header","backgroundColor","closeBtn","stylePreview","cursor","StyleController","handleStyleClick","openStyleControllerListener","closeAllControllerListener","_this3","in","Card","CardContent","component","fontFamily","fontWeight","Grid","container","spacing","keys","item","index","styleCard","xs","GlobalStyles","typography","overrides","MuiCssBaseline","@global","body","select","layerList","layerItem","paddingLeft","paddingRight","layerText","flexGrow","maxWidth","whiteSpace","textOverflow","checkbox","slider","legend","padding","lineHeight","legendTitle","legendItem","legendColorBox","spectralLegend","LayerController","mapp","resolution","zoom","layerForm","layers","assets","selectedAsset","mapUrl","truncateLayerName","length","substring","handleDatasetChange","deleting","handleShapeChange","shape","handleLayerVisibilityChange","layerId","updatedLayers","layer","objectSpread","visible","find","handleTransparencyChange","transparency","splitAssetName","assetPath","parts","lastPart","startsWith","handleDrop","event","preventDefault","files","dataTransfer","file","reader","FileReader","onload","geoJsonData","JSON","parse","result","newLayer","prevState","defineProperty","toConsumableArray","readAsText","getLegendContent","textAlign","colores","maxHeight","overflowY","border","handleAssetChange","selectedType","selectedAssetType","fetchMapUrl","openLayerControllerListener","newLayerListener","setMapZoomListener","z","handleDatasetRemoveListener","handleDatasetRemove","window","handleDragOver","prevProps","updateDatasets","removeEventListener","List","ListItem","ListItemText","arrow","sx","Slider","min","max","geocoder","query","matches","match","coordinateFeature","lng","lat","center","geometry","coordinates","place_name","place_type","properties","coord1","Number","coord2","geocodes","push","marker","Uint8Array","onAdd","canvas","context","getContext","render","t","performance","now","clearRect","beginPath","arc","Math","PI","fillStyle","fill","strokeStyle","lineWidth","stroke","getImageData","triggerRepaint","Minimap","_ticking","_lastMouseMoveEvent","_parentMap","_isDragging","_isCursorOverFeature","_previousPoint","_currentPoint","_trackingRectCoordinates","prototype","mapboxgl","NavigationControl","parentMap","_container","_createContainer","_miniMap","Map","attributionControl","_load","_preventDefault","getContainer","appendChild","_zoomAdjust","disable","bounds","getBounds","_convertBoundsToPoints","addSource","addLayer","source","layout","paint","line-color","line-width","line-opacity","fill-color","fill-opacity","_trackingRect","getSource","_update","_mouseMove","_mouseDown","_mouseUp","_miniMapCanvas","getCanvasContainer","lngLat","features","queryRenderedFeatures","point","offset","newBounds","_moveTrackingRect","fitBounds","duration","noMoveStart","_data","_ne","_sw","setData","_setTrackingRectBounds","parentBounds","parentZoom","parseInt","getZoom","flyTo","getCenter","bearing","ACCESS_TOKEN","Canvas","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","removeTempLayer","getStyle","removeLayer","removeSource","popup","isOpen","remove","removeAllLayer","add3dLayer","labelLayerId","getLayer","moveLayer","source-layer","filter","minzoom","fill-extrusion-color","fill-extrusion-height","fill-extrusion-base","fill-extrusion-opacity","removeTempPoint","draw","delete","tempId","handleURLMoved","movedURL","tiles","tileSize","raster-opacity","polygon","flyToGeometry","mapContainer","createRef","minimap","gettingPoint","styleCode","values","accessGranted","points","accessToken","supported","current","antialias","el","link","click","Marker","setLngLat","addTo","MapboxDraw","controls","combine_features","uncombine_features","addControl","MapboxGeocoder","localGeocoder","GeolocateControl","MapboxTraffic","trafficSource","RegExp","Popup","closeButton","anchor","setHTML","classList","add","zoomLevel","setMapStyleListener","currentSources","sources","currentLayers","setStyle","sourceId","removeControl","toggleLayerVisibilityListener","setLayoutProperty","changeLayerTransparencyListener","setPaintProperty","displayDatasetListener","circle-radius","circle-color","removeDatasetListener","displayTempLayerListener","hasImage","addImage","pixelRatio","icon-image","alert","minWidth","image","titleContainer","titleContainerEnd","nameContainer","popupName","popupPinyin","weatherWidgetContainer","introductionContainer","paddingTop","popupIntroduction","wordWrap","wordBreak","bindPopupListener","script","toString","CardMedia","introduction","pinyin","useStyles","makeStyles","& .MuiDropzoneArea-root","minHeight","fileDetails","heading","pxToRem","flexBasis","flexShrink","secondaryHeading","text","secondary","checkBoxContainer","formControl","inputLabel","dateInput","foormControl","dropzone","backdrop","drawer","progressText","ControlledAccordions","_ref","onSubmit","classes","_useState","useState","setNumericColumns","slicedToArray","_useState3","setSelectedOption","_useState5","_useState6","expanded","setExpanded","_useState7","rf","svm","knn","aoiDataFiles","startDate","endDate","satelliteData","sentinel1","sentinel2","landsat","indexes","vegetationIndexes","brightnessIndexes","moistureIndexes","modelFeatures","numberOfTrees","seed","bagFraction","performanceIndicators","rsquare","rmse","mse","mae","rpiq","_useState8","formData","setFormData","_useState9","_useState10","loading","setLoading","_useState11","_useState12","timer","setTimer","useEffect","timerInterval","setInterval","prevTimer","clearInterval","handleChangeExp","panel","isExpanded","handleChange","_event$target","handleSubmit","_ref3","asyncToGenerator","mark","_key","_key2","_key3","FormData","append","fetch","method","json","output","apply","arguments","Accordion","AccordionSummary","expandIcon","ExpandMore_default","aria-controls","AccordionDetails","index_es","_ref2","columns","numericColumns","shp","_x","readAsArrayBuffer","handleFileChange","acceptedFiles","dropzoneText","maxFileSize","filesLimit","getPreviewIcon","fileObject","iconProps","Theaters","Description","PictureAsPdf","AttachFile","sm","InputLabelProps","shrink","Backdrop","rooot","searchField","searchBox","flex","searchBoxBtn","searchOptionsContainer","searchOption","searchBoxProgress","searchBoxDivider","resultWrapperOpen","resultWrapperClosed","resultContainer","resultTable","uploadBoxInput","uploadBoxBtnEdit","wrapBtn","addPointWrapperOpen","addPointWrapperClose","uploadBoxBtnAdd","previewImageContainer","nameTextField","pinyinTextField","introTextField","locationImageContainer","locationImage","locationLabel","saveBtn","saveBtnProgress","RusleController","resultUnwrap","addPointUnwrap","optionsOpen","searching","submitting","anchorEl","previewImage","previewMapUrl","previewCoordinate","traces","items","calculateSustainabilityIndex","IoValue","Io","IoType","Ic","Ih","Ig","If","sustainabilityIndex","handleDecision","choice","decision","initMaterialbox","Materialbox","onOpenStart","parentNode","onCloseEnd","resetPreviewImage","resetNewPointData","handleDataSubmit","handleAddClick","handleWrapClick","handleImageChange","readAsDataURL","handleDoneEdit","setTimeout","handleSearchOptionsClick","handleSearchOptionsClose","handleSearchOptionChange","flag","searchOptions","currentTarget","handleSearchClick","handleCancelClick","handlePreviewClick","handlePreviewMapClick","handleSelectChange","moveURL","processTemperatureData","trace","x","sampling_date","y","measurement_value","temperatureData","processPrecipitationData","precipitationData","Image","longitude","openRusleControllerListener","updatePointListener","feature","_feature$geometry$coo","parseFloat","toFixed","moveURListener","addPointListener","BushEncroacher","selectedSpecies","speciesOptions","filteredAssets","fetchAssets","getSpeciesOptions","speciesSet","Set","asset","species","Array","from","handleSpeciesChange","filterAssetsBySpecies","parseLayerName","endsWith","rcp","year","assetId","assetType","Content-Type","stringify","asset_id","asset_type","map_url","openBushEncroacherControllerListener","FormControl","InputLabel","Select","MenuItem","DataDisplay","onBack","Button_Button","Card_Card","CardContent_CardContent","Typography_Typography","parcelaInfo","provincia","municipio","poligono","parcela","dn_surface","referencia_cat","Grid_Grid","uso_sigpac","incidencias","inctexto","join","altitud","pendiente_media","arboles","arbol","trees","treeEntries","entries","_ref5","charAt","toUpperCase","slice","renderTrees","convergencia","cat_fechaultimaconv","toLocaleDateString","vuelo","fecha_vuelo","CadastralSearch","_useState2","setParcela","_useState4","setProvincia","setMunicipio","setPoligono","recintoNum","setRecintoNum","setResult","_useState13","_useState14","_useState15","_useState16","showResults","setShowResults","provinciaFormatted","municipioFormatted","poligonoFormatted","parcelaFormatted","cadastralRef","apiUrl","queryParams","padStart","parcelInfo","componentsJS_DataDisplay","TextField_TextField","fullWidth","SearchController","watsatData","layoutTemperature","xaxis","yaxis","layoutPrecipitation","layoutWatsat","barmode","moveCapa","capa","movedCapa","openSearchControllerListener","moveCapaListener","styles_ThemeProvider","Slide_Slide","componentsReact_CadastralSearch","steps","HorizontalLinearStepperData","activeStep","setActiveStep","plotData","setPlotData","equipmentType","dataTypes","setDataTypes","prevFormData","fetchEquipmentDataTypes","units","Temperatura del aire HC","Temperatura del bulbo húmedo","Punto de Rocío","Radiación solar","DPV","Humedad relativa HC","Precipitación","Humedad de la hoja","Velocidad de Viento","Ráfagas de Viento","Dirección de Viento","EnviroPro, sensor de humedad del suelo 1","EnviroPro, sensor de humedad del suelo 2","EnviroPro, sensor de humedad del suelo 3","EnviroPro, sensor de humedad del suelo 4","EnviroPro, sensor de humedad del suelo 5","EnviroPro, sensor de humedad del suelo 6","EnviroPro, sensor de humedad del suelo 7","EnviroPro, sensor de humedad del suelo 8","EnviroPro, sensor de temperatura del suelo 1","EnviroPro, sensor de temperatura del suelo 2","EnviroPro, sensor de temperatura del suelo 3","EnviroPro, sensor de temperatura del suelo 4","EnviroPro, sensor de temperatura del suelo 5","EnviroPro, sensor de temperatura del suelo 6","EnviroPro, sensor de temperatura del suelo 7","EnviroPro, sensor de temperatura del suelo 8","Panel solar","Batería","DeltaT","Duración del sol","processPlotData","dataType","tipoDato","filteredData","measurement","sort","b","fetchData","category","Box","Stepper","Step","StepLabel","mt","mb","react_plotly_default","rows","flatMap","date","toISOString","Value","Trace","csvContent","row","blob","Blob","saveAs","step","InputLabel_InputLabel","Select_Select","labelId","MenuItem_MenuItem","input","OutlinedInput","renderValue","Checkbox_Checkbox","indexOf","ListItemText_ListItemText","getStepContent","pt","prevActiveStep","DataController","openDataControllerListener","ModelController","_this$state","openModelControllerListener","_this$state2","HorizontalLinearStepperImport","tables","setTables","selectedTable","setSelectedTable","setFile","handleTableChange","_useDropzone","useDropzone","onDrop","accept","getRootProps","getInputProps","isDragActive","fetchTables","uploadFile","then","catch","alternativeLabel","displayEmpty","table","ImportController","openImportControllerListener","indexType","abrupt","VegInspectorController","openVegInspectorControllerListener","openBandControllerListener","ControlledAccordions_ControlledAccordions","SpatioTemporalAnalysisController","openSpatioTemporalAnalysisControllerListener","HorizontalLinearStepperAOI","soilDataFiles","BandController","borderBottom","borderColor","BiodiversityController","activeTab","shannonIndex","chao1Index","chao2Index","handleCalculate","endpoint","resultKey","ok","Error","finish","renderTabContent","button","shannon_index","chao1_index","chao2_index","handleTabChange","openBiodivControllerListener","Tabs","indicatorColor","textColor","tabs","Tab","Box_Box","Main","build","maxSnack","snackbar","about","components_navigator","menu","login","components_feature","bushEncoracherController","bandContoller","searchContoller","spatioTemporalAnalysisController","biodiversityController","vegInspectorController","styleController","layerController","modelController","dataController","importController","rusleController","components_popup","Router","react_router_dom","react_router","exact","path","isLocalhost","Boolean","location","hostname","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","ReactDOM","router","process","contentType","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.5e6165ce.chunk.js","sourcesContent":["/* Written by Ye Liu */\n\nimport { EventEmitter } from 'events';\n\nexport default new EventEmitter();\n","/* Written by Ye Liu */\n\nimport React from 'react';\nimport { withSnackbar } from 'notistack';\n\nimport Button from '@material-ui/core/Button';\n\nimport emitter from '@utils/events.utils';\nimport '@styles/snackbar.style.css';\n\nclass Snackbar extends React.Component {\n    state = {\n        key: null\n    }\n\n    handleCloseClick = (key) => {\n        this.props.closeSnackbar(key);\n    }\n\n    componentDidMount() {\n        // Initialize dismiss action\n        const action = (key) => (\n            <React.Fragment>\n                <Button className=\"snackbar-btn white-text\" onClick={this.handleCloseClick.bind(this, key)}>DISMISS</Button>\n            </React.Fragment>\n        );\n        // Bind event listeners\n        this.showSnackbarListener = emitter.addListener('showSnackbar', (variant, message) => {\n            // Show snackbar\n            console.log(message)\n\n            this.props.enqueueSnackbar(message, {\n                variant: variant,\n                autoHideDuration: 3000,\n                action\n            });\n        });\n\n        this.showloggingSnackbarListener = emitter.addListener('showloggingSnackbar', (e) => {\n            // Show persist snackbar\n            var message = `Logging to ${e}...`;\n            var key = this.props.enqueueSnackbar(message, {\n                variant: 'info',\n                persist: true,\n            });\n\n            // Save snackbar key\n            this.setState({\n                key: key\n            });\n        });\n\n        this.hideloggingSnackbarListener = emitter.addListener('hideloggingSnackbar', () => {\n            // Hide persist snackbar\n            this.props.closeSnackbar(this.state.key);\n        });\n    }\n\n    componentWillUnmount() {\n        // Remove event listeners\n        emitter.removeListener(this.showSnackbarListener);\n        emitter.removeListener(this.showloggingSnackbarListener);\n        emitter.removeListener(this.hideloggingSnackbarListener);\n    }\n\n    render() {\n        return (\n            <div></div>\n        );\n    }\n}\n\nexport default withSnackbar(Snackbar);\n","/* Written by Ye Liu */\n\nimport React from 'react';\nimport M from 'materialize-css';\n\nconst styles = {\n    root: {\n        position: 'fixed',\n        top: 0,\n        zIndex: 900\n    },\n    logoContainer: {\n        height: '60px'\n    },\n    logo: {\n        height: '55px',\n    },\n    flexContainer: {\n        position: 'absolute',\n        right: 12,\n        display: 'flex',\n        flexDirection: 'row-reverse',\n        justifyContent: 'flex-start'\n    },\n    svgIcon: {\n        width: 24,\n        height: 24\n    },\n    fontIcon: {\n        fontSize: 29\n    },\n    toolbar:{\n        background: '#89ca92'\n    }\n};\n\nclass About extends React.Component {\n    state = {\n        modal: null\n    }\n\n    componentDidMount() {\n        // Initialize Modal\n        document.addEventListener('DOMContentLoaded', () => {\n            var elem = document.getElementById('about');\n            var modal = M.Modal.init(elem);\n            this.setState({\n                modal: modal\n            });\n        });\n    }\n\n    componentWillUnmount() {\n        // Destory Modal\n        this.state.modal.destory();\n    }\n\n    render() {\n        return (\n            <div id=\"about\" className=\"modal\">\n                <div className=\"modal-content\">\n                    <h4>About</h4>\n                    <p>\n                    Designed & Written by&nbsp;\n                    <a href=\"https://evenor-tech.com/\">Evenor-Tech</a>.\n                    </p>\n                    <p>\n                        <a style={styles.logoContainer} href=\"https://www.steambioafrica.com/\">\n                        <img style={styles.logo} src=\"./static/assets/eu.png\" alt=\"\" />\n                        </a>\n                    </p>\n                    \n                </div>\n                <div className=\"modal-footer\">\n                    <button className=\"modal-close waves-effect waves-light btn-flat\">OK</button>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default About;\n","/* Written by Ye Liu */\n\nimport React from 'react';\n\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport IconButton from '@material-ui/core/IconButton';\nimport Icon from '@material-ui/core/Icon';\nimport { MuiThemeProvider, createTheme } from '@material-ui/core/styles';\nimport grey from '@material-ui/core/colors/grey';\n\nimport emitter from '@utils/events.utils';\n\nconst theme = createTheme({\n    palette: {\n        primary: {\n            main: grey[900]\n        }\n    }\n});\n\nconst styles = {\n    root: {\n        position: 'fixed',\n        top: 0,\n        zIndex: 900\n    },\n    logoContainer: {\n        height: '60px',\n    },\n    logo: {\n        height: '55px',\n    },\n    flexContainer: {\n        position: 'absolute',\n        right: 12,\n        display: 'flex',\n        flexDirection: 'row-reverse',\n        justifyContent: 'flex-start'\n    },\n    svgIcon: {\n        width: 24,\n        height: 24\n    },\n    fontIcon: {\n        fontSize: 29,\n        color: '#FFFFFF'\n    },\n    toolbar:{\n        background: '#89ca92'\n    }\n};\n\nclass Navigator extends React.Component {\n    state = {\n        loggedin: false,\n        token:null\n    }\n\n    handleLoginClick = () => {\n        // Display login modal\n        emitter.emit('login');\n    }\n\n    handleLogoutClick = () => {\n        // Initiate request\n        // request({\n        //    url: SERVICE.logout.url,\n        //    method: SERVICE.logout.method,\n        //    successCallback: (res) => {\n                // Display snackbar\n                emitter.emit('removeAllLayer');\n                emitter.emit('removeDataset');\n                emitter.emit('removeAllDataset');\n                emitter.emit('handleDatasetRemove');\n                localStorage.removeItem('token');\n                localStorage.removeItem('jwt');\n                document.cookie.split(\";\").forEach(function(c) { document.cookie = c.replace(/^ +/, \"\").replace(/=.*/, \"=;expires=\" + new Date().toUTCString() + \";path=/\"); });\n\n                emitter.emit('showSnackbar', 'success', 'Logout successfully.');\n                // Switch login icon\n                this.setState({\n                    token:null,\n                    loggedin: false\n                })\n            //}\n        //});\n    }\n\n    handleToken = (token) => {\n        console.log('Received token:', token);\n        // Aquí puedes hacer algo con los datos, como establecer el estado\n        this.setState({ token: token });\n    }\n\n    componentDidMount() {\n        // Bind event listener\n        this.setLoginStateListener = emitter.addListener('setLoginState', e => {\n            this.setState({\n                loggedin: e\n            })\n        });\n        emitter.on('handleToken', this.handleToken);\n    }\n\n    componentWillUnmount() {\n        // Remove event listener\n        emitter.removeListener(this.setLoginStateListener);\n    }\n\n    render() {\n        return (\n            <MuiThemeProvider theme={theme} >\n                <AppBar style={styles.root} position=\"static\">\n                    <Toolbar style={styles.toolbar}>\n                        {/* Logo */}\n                        <a style={styles.logoContainer} href=\"https://evenor-tech.com/\">\n                        <img style={styles.logo} src=\"./static/assets/logo.png\" alt=\"\" />\n                        </a>\n\n                        &nbsp;\n                        &nbsp;\n                        &nbsp;\n                        &nbsp;\n\n                        <a style={styles.logoContainer} href=\"https://tepro.es/\">\n                        <img style={styles.logo} src=\"./static/assets/tepro_.png\" alt=\"\" />\n                        </a>\n\n                        {/* Icons */}\n\n                        <div style={styles.flexContainer}>\n                            <Tooltip title=\"About\" aria-label=\"About\" enterDelay={200}>\n                                <IconButton className=\"icon-container modal-trigger\" aria-label=\"About\" color=\"inherit\" data-target=\"about\">\n                                    <Icon style={styles.fontIcon}>info_outline</Icon>\n                                </IconButton>\n                            </Tooltip>\n                            <Tooltip title=\"User Manual\" aria-label=\"User Manual\" enterDelay={200}>\n    <a href=\"https://tepro.es/\" target=\"_blank\" rel=\"noopener noreferrer\" download>\n        <IconButton className=\"icon-container modal-trigger\" aria-label=\"User Manual\" color=\"inherit\" data-target=\"user_manual\">\n            <Icon style={styles.fontIcon}>picture_as_pdf_icon</Icon>\n        </IconButton>\n    </a>\n</Tooltip>\n\n                        </div>\n                    </Toolbar>\n                </AppBar>\n            </MuiThemeProvider>\n        );\n    }\n}\n\nexport default Navigator;\n","import React from 'react';\r\n\r\n\r\n\r\nimport SpeedDial from '@material-ui/lab/SpeedDial';\r\n\r\nimport SpeedDialIcon from '@material-ui/lab/SpeedDialIcon';\r\n\r\nimport SpeedDialAction from '@material-ui/lab/SpeedDialAction';\r\n\r\nimport Icon from '@material-ui/core/Icon';\r\n\r\nimport emitter from '@utils/events.utils';\r\n\r\nimport '@styles/menu.style.css';\r\n\r\nconst styles = {\r\n\r\n    root: {\r\n\r\n        position: 'fixed',\r\n\r\n        right: 24,\r\n\r\n        bottom: 24,\r\n\r\n        zIndex: 1000\r\n\r\n    }\r\n\r\n};\r\n\r\n\r\n\r\nclass Menu extends React.Component {\r\n\r\n    state = {\r\n\r\n        open: false,\r\n\r\n        actions: [\r\n\r\n            {\r\n\r\n                name: 'Cambiar Estilo',\r\n\r\n                icon: <Icon>brush</Icon>,\r\n\r\n                color: \"red accent-2\",\r\n\r\n                callback: () => {\r\n\r\n                    emitter.emit('closeAllController');\r\n\r\n                    emitter.emit('openStyleController');\r\n\r\n                    this.handleClose();\r\n\r\n                }\r\n\r\n            },\r\n            \r\n            {\r\n                name: 'Collect indexes',\r\n                icon: <Icon>satellite</Icon>,\r\n                color: \"grey\",\r\n                callback: () => {\r\n                    emitter.emit('closeAllController');\r\n                    emitter.emit('openBandController');\r\n                    this.handleClose();\r\n                }\r\n            },\r\n            {\r\n\r\n                name: 'Spatiotemporal Analysis',\r\n\r\n                icon: <Icon>satellite_alt</Icon>,\r\n\r\n                color: \"orange\",\r\n\r\n                callback: () => {\r\n\r\n                    emitter.emit('closeAllController');\r\n\r\n                    this.handleClose();\r\n\r\n                }\r\n\r\n            },\r\n\r\n            {\r\n\r\n                name: 'Vegetation Index Change Inspector',\r\n\r\n                icon: <Icon>image_search</Icon>,\r\n\r\n                color: \"blue\",\r\n\r\n                callback: () => {\r\n\r\n                    emitter.emit('closeAllController');\r\n\r\n                    emitter.emit('openVegInspectorController');\r\n\r\n                    this.handleClose();\r\n\r\n                }\r\n\r\n            },\r\n            {\r\n                name: 'Biodiversity Indexes',\r\n                icon: <Icon>pets</Icon>,\r\n                color: \"purple darken-1\",\r\n                callback: () => {\r\n                    emitter.emit('closeAllController');\r\n                    emitter.emit('openBiodivController');\r\n                    this.handleClose();\r\n                }\r\n            },\r\n\r\n\r\n            {\r\n\r\n                name: 'Modelo Rusle',\r\n\r\n                icon: <Icon>landslide</Icon>,\r\n\r\n                color: \"#490EFF\",\r\n\r\n                callback: () => {\r\n\r\n                    emitter.emit('closeAllController');\r\n\r\n                    emitter.emit('openRusleController');\r\n\r\n                    this.handleClose();\r\n\r\n                }\r\n\r\n            },   \r\n            {\r\n                name: 'Models',\r\n                icon: <Icon>psychology</Icon>,\r\n                color: \"purple darken-1\",\r\n                callback: () => {\r\n                    emitter.emit('closeAllController');\r\n                    emitter.emit('openModelController');\r\n                    this.handleClose();\r\n                }\r\n            },\r\n\r\n            {\r\n                name: 'Buscar Parcela',\r\n                icon: <Icon>search</Icon>,\r\n                color: \"leaf green\",\r\n                callback: () => {\r\n                    emitter.emit('closeAllController');\r\n                    emitter.emit('openSearchController');\r\n                    this.handleClose();\r\n                }\r\n            },\r\n\r\n            {\r\n\r\n                name: 'Visualizador de Capas',\r\n\r\n                icon: <Icon>grass</Icon>,\r\n\r\n                color: \"green\",\r\n\r\n                callback: () => {\r\n\r\n                    emitter.emit('closeAllController');\r\n\r\n                    emitter.emit('openBushEncoracherController');\r\n\r\n                    this.handleClose();\r\n\r\n                }\r\n\r\n            },\r\n\r\n            {\r\n\r\n                name: 'Configurador de Capas',\r\n\r\n                icon: <Icon>layers</Icon>,\r\n\r\n                color: \"yellow darken-1\",\r\n\r\n                callback: () => {\r\n\r\n                    emitter.emit('closeAllController');\r\n\r\n                    emitter.emit('openLayerController');\r\n\r\n                    this.handleClose();\r\n\r\n                }\r\n\r\n            }\r\n\r\n        ]\r\n\r\n    }\r\n\r\n\r\n\r\n    handleClick = () => {\r\n\r\n        this.setState(state => ({\r\n\r\n            open: !state.open,\r\n\r\n        }));\r\n\r\n    }\r\n\r\n\r\n\r\n    handleOpen = () => {\r\n\r\n        this.setState({\r\n\r\n            open: true\r\n\r\n        });\r\n\r\n    }\r\n\r\n\r\n\r\n    handleClose = () => {\r\n\r\n        this.setState({\r\n\r\n            open: false\r\n\r\n        });\r\n\r\n    }\r\n\r\n\r\n\r\n    componentDidMount() {\r\n\r\n        // Bind event listener\r\n\r\n        this.openMenuListener = emitter.addListener('openMenu', () => {\r\n\r\n            this.setState({\r\n\r\n                open: true\r\n\r\n            });\r\n\r\n        });\r\n\r\n    }\r\n\r\n\r\n\r\n    componentWillUnmount() {\r\n\r\n        // Remove event listener\r\n\r\n        emitter.removeListener(this.openMenuListener);\r\n\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n\r\n        return (\r\n\r\n            <SpeedDial\r\n\r\n                style={styles.root}\r\n\r\n                open={this.state.open}\r\n\r\n                ariaLabel=\"Menu\"\r\n\r\n                icon={<SpeedDialIcon icon={<Icon>menu</Icon>} openIcon={<Icon>clear</Icon>} />}\r\n\r\n                onMouseEnter={this.handleOpen}\r\n\r\n                onMouseLeave={this.handleClose}\r\n\r\n                onClick={this.handleClick}\r\n\r\n            >\r\n\r\n                {this.state.actions.map(action => {\r\n\r\n                    return (\r\n\r\n                        <SpeedDialAction\r\n\r\n                            key={action.name}\r\n\r\n                            className={action.color}\r\n\r\n                            icon={action.icon}\r\n\r\n                            tooltipTitle={action.name}\r\n\r\n                            onClick={action.callback} />\r\n\r\n                    );\r\n\r\n                })}\r\n\r\n            </SpeedDial>\r\n\r\n        );\r\n\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\nexport default Menu;","/* Written by Ye Liu */\n\nimport md5 from 'md5';\nimport React from 'react';\n\nimport Button from '@material-ui/core/Button';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Dialog from '@material-ui/core/Dialog';\nimport Slide from '@material-ui/core/Slide';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport indigo from '@material-ui/core/colors/indigo';\nimport { MuiThemeProvider, createTheme } from '@material-ui/core/styles';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport datasets from '@utils/dataset.utils';\nimport emitter from '@utils/events.utils';\nimport axios from \"axios\";\n\n\naxios.defaults.baseURL = 'http://localhost:5000';  // Asegúrate de que la URL base es correcta\naxios.defaults.withCredentials = true; // Importante para enviar cookies\n\nconst theme = createTheme({\n    palette: {\n        primary: {\n            main: indigo.A200\n        }\n    }\n});\n\nconst catastralList = [\"41046A010000100000DU\",\"41041A014001860000HF\",\"41041A014001790000HQ\", \"41041A015002920000HF\", \"41041A015002760000HH\", \"41041A015002730000HS\", \"41041A014000920000HF\", \"41041A007003790000HK\", \"41041A005000430000HO\"];\n\nconst apiUrl = 'http://localhost:5000';\n\n\naxios.interceptors.request.use(\n    config => {\n      const { origin } = new URL(config.url);\n      const allowedOrigins = [apiUrl];\n      const token = localStorage.getItem('token');\n      if (allowedOrigins.includes(origin)) {\n        config.headers.authorization = `Bearer ${token}`;\n      }\n      return config;\n    },\n    error => {\n      return Promise.reject(error);\n    }\n  );\n\nconst styles = {\n    loginContainer: {\n        width: 300,\n        height: 350,\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center'\n    },\n    title: {\n        marginBottom: 20\n    },\n    inputBox: {\n        width: 240,\n        marginTop: 15\n    },\n    autocomplete: {\n        width: 240,       \n        display: 'flex',\n        flexWrap: 'wrap',\n        overflow: 'auto',\n    },\n    checkBox: {\n        width: 140\n    },\n    loginBtnContainer: {\n        display: 'inline-block',\n        position: 'relative'\n    },\n    loginBtn: {\n        width: 120,\n        marginTop: 20\n    },\n    loginBtnProgress: {\n        position: 'absolute',\n        top: '50%',\n        left: '50%',\n        marginTop: -3,\n        marginLeft: -12,\n    }\n};\n\n\n\nconst Transition = React.forwardRef((props, ref) => {\n    return <Slide direction=\"down\" ref={ref} {...props} />;\n});\n\nclass Login extends React.Component {\n    state = {\n        open: false,\n        remember: false,\n        logining: false,\n        mode: 'login',\n        selectedOptions:[],\n        datasets:{}\n    }\n\n    handleLoginClose = () => {\n        this.setState({\n            open: false\n        });\n    }\n\n    handleRememberChange = (e) => {\n        this.setState({\n            remember: e.target.checked\n        });\n    }\n\n    handleChangeForm = (e) => {\n        this.setState({\n            mode: this.state.mode === 'login' ? 'Login' : 'Register'\n        });\n        console.log(this.state.mode)\n    }\n\n    handleChangeAutoComplete = (e, newValue) => {\n        const updatedReferences = newValue.map(option => option.reference);\n        this.setState({ selectedOptions: updatedReferences }, () => {\n            console.log(this.state.selectedOptions);  // This will now output the updated state\n          });\n    };\n\n    getUserParcels = async (userId) => {\n        try {\n            const response = await axios.get(`http://localhost:5000/users/${userId}/parcels`);\n            if (response.status === 200) {\n                this.updateDatasetUtilsFile(response.data);\n                console.log(\"Parcelas recibidas:\", response.data);\n            } else {\n                console.error(\"No se pudieron obtener las parcelas:\", response.statusText);\n            }\n        } catch (error) {\n            console.error(\"Error al obtener las parcelas:\", error);\n        }\n    }\n\n    updateDatasetUtilsFile(parcels) {\n        parcels.forEach(parcel => {\n            datasets[parcel.catastral_ref] = {\n                data: parcel.geojson_data\n            };\n        });\n\n        this.setState({\n            datasets: datasets\n        })\n    \n        console.log(\"Updated datasets:\", this.state.datasets);\n\n        emitter.emit('moveDataset', this.state.datasets);\n    }    \n\n    handleLoginClick = async () => {\n        // Show button progress\n        this.setState({\n            logining: true\n        });\n        const newUser = {\n            username: document.getElementById('username').value,\n            password: md5(document.getElementById('password').value),\n          };\n        // Generate request parameters\n        const response = await axios.post(\n            \"http://localhost:5000/login\",\n            newUser\n          );\n\n\n        if(response.status===200){\n            const userID = response.data.message[0];\n            const token = response.data.message[1];\n            emitter.emit('handleToken', token); // Emitiendo el evento con los datos\n\n            localStorage.removeItem('token'); \n            localStorage.removeItem('jwt');\n            // Limpiar token anterior\n            localStorage.setItem('token', token);  // Almacenar nuevo token\n\n            emitter.emit('showSnackbar', 'success', `User login successfully.`);\n            emitter.emit('setLoginState', true);\n\n            this.getUserParcels(userID);\n\n            // Actualizar el estado una sola vez\n            this.setState({\n                open: false,\n                logining: false,\n                idUser: userID\n            });\n\n            console.log(localStorage.getItem('token'))\n\n        }else{\n\n        }\n    }\n\n\n    moveDataset = () => {\n        var datos = this.state.datasets\n        this.setState({ movedData: datos });\n        console.log(this.state.movedData)\n\n    }\n\n    componentDidMount() {\n        // Bind event listener\n        this.loginListener = emitter.addListener('login', () => {\n            this.setState({\n                open: true\n            });\n            \n        });\n\n        this.moveDatasetListener = emitter.addListener('moveDataset', () => {\n            this.moveDataset();\n        });\n        \n    }\n    \n\n    componentWillUnmount() {\n        // Remove event listener\n        emitter.removeListener(this.loginListener);\n        emitter.removeListener(this.moveDatasetListener);\n\n    }\n\n    render() {\n        return (\n            <MuiThemeProvider theme={theme}>\n                <Dialog open={this.state.open} TransitionComponent={Transition} onClose={this.handleLoginClose}>\n                    <div style={styles.loginContainer}>\n                        {this.state.mode === 'login' ?                         \n                        <><Typography style={styles.title} variant=\"h5\" gutterBottom>Inicio de Sesión</Typography><TextField\n                                style={styles.inputBox}\n                                variant=\"outlined\"\n                                margin=\"dense\"\n                                id=\"username\"\n                                label=\"Usuario\" /><TextField\n                                    style={styles.inputBox}\n                                    variant=\"outlined\"\n                                    margin=\"dense\"\n                                    id=\"password\"\n                                    type=\"password\"\n                                    label=\"Contraseña\" /></>\n :                       <><Typography style={styles.title} variant=\"h5\" gutterBottom>Registro</Typography>\n                            <TextField\n                                style={styles.inputBox}\n                                variant=\"outlined\"\n                                margin=\"dense\"\n                                id=\"username\"\n                                label=\"Usuario\" />\n                            <TextField\n                                style={styles.inputBox}\n                                variant=\"outlined\"\n                                margin=\"dense\"\n                                id=\"password\"\n                                type=\"password\"\n                                label=\"Contraseña\" />\n\n                            <Autocomplete\n                            style={styles.inputBox}\n                            multiple\n                            onChange={this.handleChangeAutoComplete}\n                            limitTags={1}\n                            id=\"checkboxes-tags-demo\"\n                            options={catastralList}\n                            getOptionLabel={(option) => option}\n                            renderOption={(option, { selected }) => (\n                                <React.Fragment>\n                                <Checkbox\n                                    style={{ marginRight: 1, marginLeft:1 }}\n                                    checked={selected}\n                                />\n                                {option}\n                                </React.Fragment>\n                            )}\n                            renderInput={(params) => (\n                                <TextField id=\"lista\" {...params} variant=\"outlined\" label=\"Checkboxes\" placeholder=\"Favorites\" />\n                            )}\n\n                            renderTags={() => null} // No renderizar tags en el TextField\n\n                            />\n                             </>\n}\n\n                        <div style={styles.loginBtnContainer}>\n                            <Button style={styles.loginBtn} variant=\"contained\" color=\"primary\" disabled={this.state.logining} onClick={this.handleLoginClick}>INICIAR SESIÓN</Button>\n                            {this.state.logining && <CircularProgress style={styles.loginBtnProgress} size={24} />}\n                            <Button style={styles.loginBtn} onClick={this.handleChangeForm} color=\"primary\">\n                            {this.state.mode === 'login' ? 'Register' : 'Login'}\n                        </Button>\n                        </div>\n                    </div>\n                </Dialog>\n            </MuiThemeProvider>\n        );\n    }\n}\n\nexport default Login;\n","/* Written by Ye Liu */\n\nimport React from 'react';\nimport M from 'materialize-css';\n\nclass Feature extends React.Component {\n    state = {\n        tapTarget: null\n    }\n\n    componentDidMount() {\n        document.addEventListener('DOMContentLoaded', () => {\n            // Set anchor id\n            document.getElementsByClassName('MuiSpeedDial-fab')[0].setAttribute('id', 'menu');\n\n            // Initialize TapTarget\n            var elems = document.querySelectorAll('.tap-target');\n            var tapTarget = M.TapTarget.init(elems)[0];\n\n            // Display feature\n            tapTarget.open();\n\n            this.setState({\n                tapTarget: tapTarget\n            });\n        });\n    }\n\n    componentWillUnmount() {\n        // Destory TapTarget\n        this.state.tapTarget.destory();\n    }\n\n    render() {\n        return (\n            <div className=\"tap-target indigo accent-2\" data-target=\"menu\">\n                <div className=\"tap-target-content white-text\">\n                    <h5>Welcome!</h5>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Feature;\n","/* Written by Ye Liu */\n\nconst mapStyles = {\r\n    Streets: 'mapbox://styles/mapbox/streets-v11',\r\n    Light: 'mapbox://styles/mapbox/light-v10',\r\n    Dark: 'mapbox://styles/mapbox/dark-v10',\r\n    Navigation_Day: 'mapbox://styles/mapbox/navigation-day-v1',\r\n    Navigation_Night: 'mapbox://styles/mapbox/navigation-night-v1',\r\n    Satellite: 'mapbox://styles/mapbox/satellite-v9',\r\n    Satellite_Streets: 'mapbox://styles/mapbox/satellite-streets-v11',\n    Outdoors: 'mapbox://styles/mapbox/outdoors-v11'\r\n};\n\n\nconst buildHeatmapStyle = (color) => {\n    const heatmap = {\n        'heatmap-weight': ['interpolate', ['linear'], ['get', 'mag'], 10, 10, 16, 16],\n        'heatmap-intensity': ['interpolate', ['linear'], ['zoom'], 10, 10, 19, 19],\n        'heatmap-radius': ['interpolate', ['linear'], ['zoom'], 10, 12, 19, 30],\n        'heatmap-color': ['interpolate', ['linear'], ['heatmap-density'], 0, 'rgba(0,0,0,0)', 0.2, '#67A9CF', 0.4, '#D1E5F0', 1]\n    };\n\n    heatmap['heatmap-color'].push(color);\n    return heatmap;\n}\n\nconst buildPolygonStyle = (color) => {\n    console.log(color)\n    const polygon = {\n        'fill-color': '#f08',\n        'fill-opacity': 0.4    \n    };\n\n    return polygon;\n}\n\n\nexport { mapStyles, buildHeatmapStyle, buildPolygonStyle };","/* Written by Ye Liu */\n\nimport React from 'react';\n\nimport Slide from '@material-ui/core/Slide';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport IconButton from '@material-ui/core/IconButton';\nimport Icon from '@material-ui/core/Icon';\n\nimport emitter from '@utils/events.utils';\nimport { mapStyles } from '@utils/map.utils';\nimport '@styles/styleController.style.css';\n\nconst styles = {\n    root: {\n        position: 'fixed',\n        top: 74,\n        right: 10,\n        borderRadius: 9,\n        width: 320,\n        margin: 0,\n        zIndex: 900,\n\tboxShadow: '-6px 6px 15px rgba(0, 0, 0, 0.15)'\n    },\n    content: {\n        paddingBottom: 16\n    },\n    header: {\n        backgroundColor: 'rgba(255,82,82,255)'\n    },\n    closeBtn: {\n        position: 'absolute',\n        top: 6,\n        right: 8,\n        fontSize: 22\n    },\n    stylePreview: {\n        width: 60,\n        height: 60,\n        borderRadius: 2,\n        cursor: 'pointer'\n    }\n};\n\nclass StyleController extends React.Component {\n    state = {\n        open: false\n    }\n\n    handleCloseClick = () => {\n        this.setState({\n            open: false\n        });\n    }\n\n    handleStyleClick = (e) => {\n        emitter.emit('setMapStyle', e);\n        this.handleCloseClick();\n    }\n\n    componentDidMount() {\n        // Bind event listeners\n        this.openStyleControllerListener = emitter.addListener('openStyleController', () => {\n            this.setState({\n                open: true\n            });\n        });\n\n        this.closeAllControllerListener = emitter.addListener('closeAllController', () => {\n            this.setState({\n                open: false\n            });\n        });\n    }\n\n    componentWillUnmount() {\n        // Remove event listeners\n        emitter.removeListener(this.openStyleControllerListener);\n        emitter.removeListener(this.closeAllControllerListener);\n    }\n\n    render() {\n        return (\n            <Slide direction=\"left\" in={this.state.open}>\n                <Card style={styles.root}>\n                    {/* Card header */}\n                    <CardContent style={styles.header}>\n                        <Typography gutterBottom variant=\"h5\" component=\"h2\" style={{ fontFamily: 'Lato, Arial, sans-serif', color:'white', fontWeight:'3' }}>Map Styles</Typography>\n                        <Typography variant=\"body2\" color=\"textSecondary\">Click to choose a map style</Typography>\n                        <IconButton style={styles.closeBtn} aria-label=\"Close\" onClick={this.handleCloseClick}>\n                            <Icon fontSize=\"inherit\">chevron_right</Icon>\n                        </IconButton>\n                    </CardContent>\n\n                    {/* Card content */}\n                    <CardContent style={styles.content}>\n                        <Grid container spacing={2}>\n                            {Object.keys(mapStyles).map((item, index) => {\n                                console.log(item)\n                                return (\n                                    <Grid item style={styles.styleCard} key={index} xs={3}>\n                                        <img src={`./static/assets/${item}.png`} alt=\"\" className=\"hoverable\" style={styles.stylePreview} onClick={this.handleStyleClick.bind(this, item)} />\n                                    </Grid>\n                                );\n                            })}\n                        </Grid>\n                    </CardContent>\n                </Card>\n            </Slide>\n        );\n    }\n}\n\nexport default StyleController;\n","import React from 'react';\nimport Slider from '@material-ui/core/Slider';\nimport emitter from '@utils/events.utils';\nimport { Card, CardContent, Checkbox, Icon, IconButton, List, ListItem, ListItemText, Slide, Tooltip, Typography } from '@material-ui/core';\nimport { MuiThemeProvider, createTheme } from '@material-ui/core/styles';\n\nconst GlobalStyles = createTheme({\n    typography: {\n        fontFamily: 'Lato, Arial, sans-serif',\n    },\n    overrides: {\n        MuiCssBaseline: {\n            '@global': {\n                body: {\n                    fontFamily: 'Lato, Arial, sans-serif',\n                },\n            },\n        },\n    },\n});\n\n  \n\nconst styles = {\n    root: {\n        position: 'fixed',\n        top: 74,\n        right: 10,\n        width: 300,\n        borderRadius: 9,\n        margin: 0,\n        zIndex: 900,\n        boxShadow: '-6px 6px 15px rgba(0, 0, 0, 0.15)',\n    },\n    header: {\n        backgroundColor: 'rgba(253,216,53,255)'\n    },\n    closeBtn: {\n        position: 'absolute',\n        top: 6,\n        right: 8,\n        fontSize: 22\n    },\n    content: {\n        paddingBottom: 16\n    },\n    select: {\n        width: '100%'\n    },\n    layerList: {\n        marginTop: 6,\n        paddingBottom: 0\n    },\n    layerItem: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        paddingLeft: 2,\n        paddingRight: 5, // Ensure some space at the right\n    },\n    layerText: {\n        flexGrow: 1,\n        maxWidth: '120px', // Set a max width for the layer text\n        whiteSpace: 'nowrap',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis',\n    },\n    checkbox: {\n        marginRight: '8px', // Add space between the checkbox and text\n    },\n    slider: {\n        width: '80px', // Adjust the width of the slider\n        marginLeft: '10px'\n    },\n    legend: {\n        position: 'absolute',\n        bottom: '30px',\n        left: '10px',\n        background: 'white',\n        padding: '10px',\n        fontFamily: 'Arial, sans-serif',\n        fontSize: '12px',\n        lineHeight: '18px',\n        color: '#333',\n        borderRadius: '3px',\n        boxShadow: '0 0 15px rgba(0, 0, 0, 0.2)'\n    },\n    legendTitle: {\n        margin: '0 0 10px',\n        fontSize: '14px'\n    },\n    legendItem: {\n        display: 'flex',\n        alignItems: 'center',\n        marginBottom: '5px'\n    },\n    legendColorBox: {\n        width: '20px',\n        height: '10px',\n        display: 'inline-block',\n        marginRight: '5px'\n    },\n    spectralLegend: {\n        position: 'absolute',\n        bottom: '30px',\n        left: '10px',\n        background: 'white',\n        padding: '10px',\n        fontFamily: 'Arial, sans-serif',\n        fontSize: '12px',\n        lineHeight: '18px',\n        color: '#333',\n        borderRadius: '3px',\n        boxShadow: '0 0 15px rgba(0, 0, 0, 0.2)'\n    }\n};\n\nclass LayerController extends React.Component {\n    state = {\n        open: false,\n        mapp: null,\n        selected: {},\n        resolution: 7,\n        zoom: 0,\n        layerForm: 'Border',\n        datasets: {},\n        layers: [],\n        assets: [], // Aquí guardaremos los assets de GEE\n        selectedAsset: '', // Aquí guardamos el asset seleccionado por el usuario\n        mapUrl: '' // Aquí guardamos la URL del mapa generado\n\n    }\n\n    handleCloseClick = () => {\n        this.setState({\n            open: false\n        });\n    }\n\n    truncateLayerName = (name) => {\n        if (name.length > 7) {\n            return name.substring(0, 4) + '...'; // Keep the first 10 characters and add '...'\n        }\n        return name; // Return the name as is if it's 13 characters or fewer\n    }\n\n    handleDatasetChange = async (e) => {\n        var deleting = false;\n        Object.keys(this.state.selected).map(item => {\n            deleting = true;\n            this.setState({\n                selected: {}\n            });\n            return true;\n        });\n\n        if (!deleting && e.target.value.length) {\n            const id = e.target.value[e.target.value.length - 1];\n            emitter.emit('showSnackbar', 'default', `Downloading dataset '${id}'.`);\n            emitter.emit('displayDataset', id, this.state.datasets[id].data, '#f08');\n            emitter.emit('showSnackbar', 'success', `Dataset '${id}' downloaded successfully.`);\n        }\n    };\n\n    handleShapeChange = (e) => {\n        this.setState({ shape: e.target.value });\n    }\n\n    // Toggle visibility of a layer and emit event to canvas.jsx\n    // Manejar el cambio de visibilidad\n    handleLayerVisibilityChange = (layerId) => {\n        const updatedLayers = this.state.layers.map(layer =>\n            layer.id === layerId ? { ...layer, visible: !layer.visible } : layer\n        );\n        this.setState({ layers: updatedLayers });\n\n        // Emitimos un evento para cambiar la visibilidad de la capa en Canvas\n        emitter.emit('toggleLayerVisibility', layerId, updatedLayers.find(layer => layer.id === layerId).visible);\n    };\n\n    // Manejar el cambio de transparencia\n    handleTransparencyChange = (layerId, value) => {\n        const updatedLayers = this.state.layers.map(layer =>\n            layer.id === layerId ? { ...layer, transparency: value } : layer\n        );\n        this.setState({ layers: updatedLayers });\n\n        // Emitimos un evento para cambiar la transparencia de la capa en Canvas\n        emitter.emit('changeLayerTransparency', layerId, value / 100);  // Normalizamos de 0 a 1\n    };\n\n\n    // Función para cortar el nombre del asset después del \"/0\" o devolver el nombre si no lo tiene\n    splitAssetName = (assetPath) => {\n        const parts = assetPath.split('/'); // Dividimos el path por \"/\"\n        let lastPart = parts[parts.length - 1]; // Tomamos la última parte del path\n    \n        // Si el nombre comienza con \"0\", lo removemos\n        if (lastPart.startsWith('0')) {\n            lastPart = lastPart.substring(1); // Eliminar el primer carácter (\"0\")\n        }\n        \n        return lastPart; // Devolver la última parte procesada\n    };\n\n\n    handleDrop = (event) => {\n        event.preventDefault();\n        const files = event.dataTransfer.files;\n        if (files.length > 0) {\n            const file = files[0];\n            const reader = new FileReader();\n            reader.onload = (e) => {\n                const data = JSON.parse(e.target.result);\n                const geoJsonData = data;\n\n                // Add the new layer with default visibility and transparency\n                const newLayer = { id: file.name, visible: true, transparency: 100 };\n\n                // Update layers and datasets\n                this.setState((prevState) => ({\n                    datasets: { ...prevState.datasets, [file.name]: { data: geoJsonData } },\n                    layers: [...prevState.layers, newLayer]\n                }));\n\n                emitter.emit('displayDataset', file.name, geoJsonData);\n                emitter.emit('showSnackbar', 'success', `Dataset '${file.name}' added as a layer successfully.`);\n            };\n            reader.readAsText(file);\n        }\n    }; \n\n    componentDidMount() {\n\n        this.openLayerControllerListener = emitter.addListener('openLayerController', () => {\n            this.setState({ open: true });\n        });\n\n        this.newLayerListener = emitter.addListener('newLayer', (newLayer) => {\n            this.setState((prevState) => ({\n                layers: [...prevState.layers, newLayer]\n            }));\n        });\n\n        this.closeAllControllerListener = emitter.addListener('closeAllController', () => {\n            this.setState({ open: false });\n        });\n\n        this.setMapZoomListener = emitter.addListener('setMapZoom', (z) => {\n            this.setState({ zoom: z });\n        });\n\n        this.handleDatasetRemoveListener = emitter.addListener('handleDatasetRemove', () => {\n            this.handleDatasetRemove();\n        });\n\n        window.addEventListener('dragover', this.handleDragOver);\n        window.addEventListener('drop', this.handleDrop);\n    }\n\n    componentDidUpdate(prevProps) {\n        if (this.props.map !== prevProps.map) {\n            this.updateDatasets();\n        }\n    }\n\n    \ngetLegendContent = (layerId) => {\n    if (layerId.includes('VICI')) {\n        return (\n            <div style={{ padding: '10px', textAlign: 'center' }}>\n                <Typography><strong>Vegetation Change</strong> %/year</Typography>\n                <div style={{ \n                    width: '100%', \n                    height: '20px', \n                    background: 'linear-gradient(to right, red, white, green)', \n                    margin: '10px 0', \n                    borderRadius: '5px' \n                }}>\n                </div>\n                <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n                    <Typography variant=\"body2\">-2</Typography>\n                    <Typography variant=\"body2\">2</Typography>\n                </div>\n                <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n                    <Typography variant=\"body2\">Decline</Typography>\n                    <Typography variant=\"body2\">Increase</Typography>\n                </div>\n            </div>\n        );\n    } else if (layerId.includes('Erosion')) {\n        return (\n            <div>\n                <Typography><strong>Soil Loss</strong> (t/hac/year)</Typography>\n                                {['#490EFF', '#12F4FF', '#12FF50', '#E5FF12', '#FF4812'].map((color, index) => {\n                    const labels = [\n                        'Slight (<10)',\n                        'Moderate (10-20)',\n                        'High (20-30)',\n                        'Very high (30-40)',\n                        'Severe (>40)'\n                    ];\n                    return (\n                        <div key={index} style={{ display: 'flex', alignItems: 'center' }}>\n                            <span style={{ width: '20px', height: '20px', backgroundColor: color, marginRight: '10px' }}></span>\n                            <Typography>{labels[index]}</Typography>\n                        </div>\n                    );\n                })}\n            </div>\n        );\n    } else if (layerId.includes('DSM')) {\n        return (\n            <div>\n                <Typography><strong>DSM</strong> (t/ha)</Typography>\n                {['#ffffe5', '#fee391', '#fec44f', '#ec7014', '#8c2d04'].map((color, index) => {\n                    const labels = [\n                        '0 - 1.2',\n                        '1.2 - 2.4',\n                        '2.4 - 3.6',\n                        '3.6 - 4.8',\n                        '4.8 - 6'\n                    ];\n                    return (\n                        <div key={index} style={{ display: 'flex', alignItems: 'center' }}>\n                            <span style={{ width: '20px', height: '20px', backgroundColor: color, marginRight: '10px' }}></span>\n                            <Typography>{labels[index]}</Typography>\n                        </div>\n                    );\n                })}\n            </div>\n        );\n    } else if (layerId.includes('avg')) {\n        return (\n            <div>\n                <Typography><strong>Habitat Suitability</strong></Typography>\n                {['#ffffff', '#cceacc', '#66bf66', '#006600'].map((color, index) => {\n                    const labels = [\n                        'Unsuitable',\n                        'Low suitability',\n                        'Moderate suitability',\n                        'High suitability'\n                    ];\n                    return (\n                        <div key={index} style={{ display: 'flex', alignItems: 'center' }}>\n                            <span style={{ width: '20px', height: '20px', backgroundColor: color, marginRight: '10px' }}></span>\n                            <Typography>{labels[index]}</Typography>\n                        </div>\n                    );\n                })}\n            </div>\n        );\n    } else if (layerId.includes('Suelo')) {\n        const usoSueloValues = [ \n            'Tejido urbano continuo', 'Tejido urbano discontinuo', 'Zonas industriales o comerciales',\n            'Redes viarias, ferroviarias y terrenos asociados', 'Zonas portuarias', 'Aeropuertos',\n            'Zonas de extracción minera', 'Escombreras y vertederos', 'Zonas en construcción',\n            'Zonas verdes urbanas', 'Instalaciones deportivas y recreativas', 'Tierras de labor en secano',\n            'Terrenos regados permanentemente', 'Arrozales', 'Viñedo', 'Frutales', 'Olivares',\n            'Prados y Praderas', 'Cultivos anuales asociados con cultivos permanentes', 'Mosaico de cultivos',\n            'Terrenos principalmente agrícolas, pero con importantes espacios de vegetación natural',\n            'Sistemas agroforestales', 'Bosques de frondosas', 'Bosques de coníferas', 'Bosque mixto',\n            'Pastizales naturales', 'Landas y matorrales', 'Matorrales esclerófilos',\n            'Matorral boscoso de transición', 'Playas, dunas y arenales', 'Roquedo',\n            'Espacios con vegetación escasa', 'Zonas quemadas', 'Humedales y zonas pantanosas', 'Marismas',\n            'Salinas', 'Zonas llanas intermareales', 'Cursos de agua'\n        ];\n\n        const colores = [\n            '#FF0000', '#00FF00', '#0000FF', '#FFFF00', '#FF00FF', '#00FFFF', '#FFA500', '#800080',\n            '#8B0000', '#A52A2A', '#5F9EA0', '#7FFF00', '#D2691E', '#6495ED', '#DC143C', '#00FA9A',\n            '#FFD700', '#ADFF2F', '#4B0082', '#20B2AA', '#9370DB', '#3CB371', '#7B68EE', '#48D1CC',\n            '#C71585', '#191970', '#FF4500', '#DA70D6', '#32CD32', '#4682B4', '#FA8072', '#778899',\n            '#8A2BE2', '#00CED1', '#FF1493', '#2E8B57', '#7CFC00', '#B8860B'\n        ];\n\n        return (\n            <div>\n                <Typography><strong>Uso del Suelo</strong></Typography>\n                <div style={{\n                    maxHeight: '200px',\n                    overflowY: 'auto',\n                    border: '1px solid #ccc',\n                    borderRadius: '5px',\n                    padding: '10px',\n                    marginTop: '10px'\n                }}>\n                    {usoSueloValues.map((value, index) => (\n                        <div key={index} style={{ display: 'flex', alignItems: 'center', marginBottom: '5px' }}>\n                            <span style={{ \n                                width: '20px', \n                                height: '20px', \n                                backgroundColor: colores[index], \n                                marginRight: '10px' \n                            }}></span>\n                            <Typography>{value}</Typography>\n                        </div>\n                    ))}\n                </div>\n            </div>\n        );\n    }\n};\n\n\n    handleAssetChange = (event) => {\n        const selectedAsset = event.target.value.id;  // Obtenemos el id del asset\n        const selectedType = event.target.value.type;  // Obtenemos el tipo del asset\n    \n        this.setState({\n            selectedAsset: selectedAsset,\n            selectedAssetType: selectedType\n        });\n    \n        // Obtener la URL del mapa del asset seleccionado\n        this.fetchMapUrl(selectedAsset, selectedType);\n    };\n    \n\n    handleDatasetRemove() {\n        this.setState({ datasets: {}, selected: {} });\n    }\n\n    componentWillUnmount() {\n        emitter.removeListener(this.openLayerControllerListener);\n        emitter.removeListener(this.closeAllControllerListener);\n        emitter.removeListener(this.setMapZoomListener);\n        emitter.removeListener(this.handleDatasetRemoveListener);\n        emitter.removeListener(this.newLayerListener);  \n        window.removeEventListener('dragover', this.handleDragOver);\n        window.removeEventListener('drop', this.handleDrop);\n    }\n\n    render() {\n        console.log(this.state.layers)\n        return (\n            <MuiThemeProvider theme={GlobalStyles}>\n                <Slide direction=\"left\" in={this.state.open}>\n                    <Card style={styles.root}>\n                        <CardContent style={styles.header}>\n                            <Typography gutterBottom style={{ fontFamily: 'Lato, Arial, sans-serif', color:'white', fontWeight:'3' }} variant=\"h5\" component=\"h2\">Layers</Typography>\n                            <Typography variant=\"body2\" color=\"textSecondary\">Manage and control layers</Typography>\n                            <IconButton style={styles.closeBtn} aria-label=\"Close\" onClick={() => this.setState({ open: false })}>\n                                <Icon fontSize=\"inherit\">chevron_right</Icon>\n                            </IconButton>\n                        </CardContent>\n\n                        <CardContent style={styles.content}>\n\n                            \n                            <List id=\"layers\" style={styles.layerList}>\n                                                                {this.state.layers.map(layer => (\n                                    <ListItem style={styles.layerItem} key={layer.id}>\n                                        <ListItemText primary={\n                                            <span style={styles.layerText}>\n                                                <Tooltip\n                                                    title={this.getLegendContent(layer.id)}\n                                                    arrow\n                                                >\n                                                    <Icon fontSize=\"small\">troubleshoot</Icon>\n                                                </Tooltip>\n\t\t\t\t\t\t&nbsp;&nbsp;\n\t\t\t\t\t\t<Tooltip arrow title={this.splitAssetName(layer.id)} sx={{ fontSize: '1.2rem' }}>\n                                                <span>{this.truncateLayerName(this.splitAssetName(layer.id))}</span>\n\t\t\t\t\t\t</Tooltip>\n                                            </span>\n                                        } />\n                                        <Checkbox\n                                            checked={layer.visible}\n                                            onChange={() => this.handleLayerVisibilityChange(layer.id)}\n                                            color=\"primary\"\n                                        />\n                                        <Slider\n                                            value={layer.transparency}\n                                            onChange={(e, value) => this.handleTransparencyChange(layer.id, value)}\n                                            min={0}\n                                            max={100}\n                                            style={styles.slider}\n                                        />\n\t\t\t    <Tooltip title=\"Download this layer\" aria-label=\"Download this layer\" enterDelay={200}>\n                                <IconButton className=\"icon-container modal-trigger\" aria-label=\"Download this layer\" color=\"inherit\">\n                                    <Icon style={styles.fontIcon}>download_icon</Icon>\n                                </IconButton>\n                            </Tooltip>\n                                    </ListItem>\n                                ))}\n                            </List>\n\n                        </CardContent>\n                    </Card>\n                </Slide>\n            </MuiThemeProvider>\n        );\n    }\n}\n\nexport default LayerController;\n","/* Written by Ye Liu */\n\nconst geocoder = (query) => {\n    var matches = query.match(/^[ ]*(?:Lat: )?(-?\\d+\\.?\\d*)[, ]+(?:Lng: )?(-?\\d+\\.?\\d*)[ ]*$/i);\n    if (!matches) {\n        return null;\n    }\n\n    var coordinateFeature = (lng, lat) => {\n        return {\n            center: [lng, lat],\n            geometry: {\n                type: 'Point',\n                coordinates: [lng, lat]\n            },\n            place_name: 'Lat: ' + lat + ' Lng: ' + lng,\n            place_type: ['coordinate'],\n            properties: {},\n            type: 'Feature'\n        };\n    };\n\n    var coord1 = Number(matches[1]);\n    var coord2 = Number(matches[2]);\n    var geocodes = [];\n\n    if (coord1 < -90 || coord1 > 90) {\n        geocodes.push(coordinateFeature(coord1, coord2));\n    }\n\n    if (coord2 < -90 || coord2 > 90) {\n        geocodes.push(coordinateFeature(coord2, coord1));\n    }\n\n    if (geocodes.length === 0) {\n        geocodes.push(coordinateFeature(coord1, coord2));\n        geocodes.push(coordinateFeature(coord2, coord1));\n    }\n\n    return geocodes;\n};\n\nexport default geocoder;\n","/* Written by Ye Liu */\n\nconst marker = {\n    width: 200,\n    height: 200,\n    data: new Uint8Array(200 * 200 * 4),\n\n    onAdd: function (map) {\n        const canvas = document.createElement('canvas');\n        canvas.width = this.width;\n        canvas.height = this.height;\n        this.context = canvas.getContext('2d');\n        this.map = map;\n    },\n\n    render: function () {\n        const context = this.context;\n        const t = (performance.now() % 1000) / 1000;\n\n        // Draw outer circle\n        context.clearRect(0, 0, this.width, this.height);\n        context.beginPath();\n        context.arc(this.width / 2, this.height / 2, 70 * t + 30, 0, Math.PI * 2);\n        context.fillStyle = 'rgba(200, 200, 255,' + (1 - t) + ')';\n        context.fill();\n\n        // Draw inner circle\n        context.beginPath();\n        context.arc(this.width / 2, this.height / 2, 30, 0, Math.PI * 2);\n        context.fillStyle = 'rgba(100, 100, 255, 1)';\n        context.strokeStyle = 'white';\n        context.lineWidth = 2 + 4 * (1 - t);\n        context.fill();\n        context.stroke();\n\n        // Update image with data from the canvas\n        this.data = context.getImageData(0, 0, this.width, this.height).data;\n\n        // Keep the map repainting\n        this.map.triggerRepaint();\n\n        return true;\n    }\n};\n\nexport default marker;\n","/* Written by Ye Liu */\n\nimport mapboxgl from 'mapbox-gl';\n\nMinimap.prototype = Object.assign({}, mapboxgl.NavigationControl.prototype, {\n    options: {\n        style: 'mapbox://styles/almafe2510/clw7qv6il02ok01qr9w4wdbv0',\n        center: [0, 0]\n    },\n\n    onAdd: function (parentMap) {\n        this._container = this._createContainer(parentMap);\n        this._parentMap = parentMap;\n\n        this._miniMap = new mapboxgl.Map({\n            attributionControl: false,\n            container: this._container,\n            style: this.options.style,\n            center: this.options.center,\n            zoom: 0\n        });\n\n        this._miniMap.on('load', this._load.bind(this));\n\n        return this._container;\n    },\n\n    _createContainer: function (parentMap) {\n        var container = document.createElement('div');\n\n        container.id = 'minimap';\n        container.className = 'mapboxgl-ctrl mapboxgl-ctrl-minimap';\n        container.addEventListener('contextmenu', this._preventDefault);\n\n        parentMap.getContainer().appendChild(container);\n\n        return container;\n    },\n\n    _preventDefault: function (e) {\n        e.preventDefault();\n    },\n\n    _load: function () {\n        this._zoomAdjust();\n\n        ['dragPan', 'boxZoom', 'dragRotate', 'keyboard', 'doubleClickZoom', 'touchZoomRotate'].map(item => {\n            this._miniMap[item].disable();\n            return true;\n        });\n\n        var bounds = this._miniMap.getBounds();\n        this._convertBoundsToPoints(bounds);\n\n        this._miniMap.addSource('trackingRect', {\n            'type': 'geojson',\n            'data': {\n                'type': 'Feature',\n                'properties': {\n                    'name': 'trackingRect'\n                },\n                'geometry': {\n                    'type': 'Polygon',\n                    'coordinates': this._trackingRectCoordinates\n                }\n            }\n        });\n\n        this._miniMap.addLayer({\n            'id': 'trackingRectOutline',\n            'type': 'line',\n            'source': 'trackingRect',\n            'layout': {},\n            'paint': {\n                'line-color': '#08F',\n                'line-width': 1,\n                'line-opacity': 1\n            }\n        });\n\n        this._miniMap.addLayer({\n            'id': 'trackingRectFill',\n            'type': 'fill',\n            'source': 'trackingRect',\n            'layout': {},\n            'paint': {\n                'fill-color': '#08F',\n                'fill-opacity': 0.25\n            }\n        });\n\n        this._trackingRect = this._miniMap.getSource('trackingRect');\n\n        this._parentMap.on('move', this._update.bind(this));\n        this._parentMap.on('zoom', this._zoomAdjust.bind(this));\n\n        this._miniMap.on('mousemove', this._mouseMove.bind(this));\n        this._miniMap.on('mousedown', this._mouseDown.bind(this));\n        this._miniMap.on('mouseup', this._mouseUp.bind(this));\n\n        this._miniMap.on('touchmove', this._mouseMove.bind(this));\n        this._miniMap.on('touchstart', this._mouseDown.bind(this));\n        this._miniMap.on('touchend', this._mouseUp.bind(this));\n\n        this._miniMapCanvas = this._miniMap.getCanvasContainer();\n        this._miniMapCanvas.addEventListener('wheel', this._preventDefault);\n        this._miniMapCanvas.addEventListener('mousewheel', this._preventDefault);\n\n        this._update();\n    },\n\n    _mouseDown: function (e) {\n        if (this._isCursorOverFeature) {\n            this._isDragging = true;\n            this._previousPoint = this._currentPoint;\n            this._currentPoint = [e.lngLat.lng, e.lngLat.lat];\n        }\n    },\n\n    _mouseUp: function () {\n        this._isDragging = false;\n        this._ticking = false;\n    },\n\n    _mouseMove: function (e) {\n        this._ticking = false;\n\n        var features = this._miniMap.queryRenderedFeatures(e.point, {\n            layers: ['trackingRectFill']\n        });\n\n        if (!this._isCursorOverFeature || features.length <= 0) {\n            this._isCursorOverFeature = features.length > 0;\n            this._miniMapCanvas.style.cursor = this._isCursorOverFeature ? 'move' : '';\n        }\n\n        if (this._isDragging) {\n            this._previousPoint = this._currentPoint;\n            this._currentPoint = [e.lngLat.lng, e.lngLat.lat];\n\n            var offset = [this._currentPoint[0] - this._previousPoint[0], this._currentPoint[1] - this._previousPoint[1]];\n            var newBounds = this._moveTrackingRect(offset);\n\n            this._parentMap.fitBounds(newBounds, {\n                duration: 80,\n                noMoveStart: true\n            });\n        }\n    },\n\n    _moveTrackingRect: function (offset) {\n        var bounds = this._trackingRect._data.properties.bounds;\n\n        bounds._ne.lng += offset[0];\n        bounds._ne.lat += offset[1];\n        bounds._sw.lng += offset[0];\n        bounds._sw.lat += offset[1];\n\n        this._convertBoundsToPoints(bounds);\n        this._trackingRect.setData(this._trackingRect._data);\n\n        return bounds;\n    },\n\n    _setTrackingRectBounds: function (bounds) {\n        this._convertBoundsToPoints(bounds);\n        this._trackingRect._data.properties.bounds = bounds;\n        this._trackingRect.setData(this._trackingRect._data);\n    },\n\n    _convertBoundsToPoints: function (bounds) {\n        this._trackingRectCoordinates[0][0][0] = bounds._ne.lng;\n        this._trackingRectCoordinates[0][0][1] = bounds._ne.lat;\n        this._trackingRectCoordinates[0][1][0] = bounds._sw.lng;\n        this._trackingRectCoordinates[0][1][1] = bounds._ne.lat;\n        this._trackingRectCoordinates[0][2][0] = bounds._sw.lng;\n        this._trackingRectCoordinates[0][2][1] = bounds._sw.lat;\n        this._trackingRectCoordinates[0][3][0] = bounds._ne.lng;\n        this._trackingRectCoordinates[0][3][1] = bounds._sw.lat;\n        this._trackingRectCoordinates[0][4][0] = bounds._ne.lng;\n        this._trackingRectCoordinates[0][4][1] = bounds._ne.lat;\n    },\n\n    _update: function () {\n        if (this._isDragging) {\n            return;\n        }\n\n        var parentBounds = this._parentMap.getBounds();\n        this._setTrackingRectBounds(parentBounds);\n    },\n\n    _zoomAdjust: function () {\n        var parentZoom = parseInt(this._parentMap.getZoom());\n        this._miniMap.flyTo({\n            center: this._parentMap.getCenter(),\n            zoom: parentZoom < 4 ? 0 : parentZoom - 3,\n            bearing: 0\n        });\n    }\n});\n\nfunction Minimap(options) {\n    Object.assign(this.options, options);\n\n    this._ticking = false;\n    this._lastMouseMoveEvent = null;\n    this._parentMap = null;\n    this._isDragging = false;\n    this._isCursorOverFeature = false;\n    this._previousPoint = [0, 0];\n    this._currentPoint = [0, 0];\n    this._trackingRectCoordinates = [[[], [], [], [], []]];\n}\n\nexport default Minimap;\n","/* Written by Ye Liu */\n\n// Mapbox-GL library access token\nconst ACCESS_TOKEN = 'pk.eyJ1IjoiZ2Fydm94IiwiYSI6ImNseHZucnRpcDB4Y3EycXNkNjRuM3drNWsifQ.V5lH9roOpH9a6Jphwybprw';\n\nexport { ACCESS_TOKEN };\n","import MapboxDraw from '@mapbox/mapbox-gl-draw';\nimport '@mapbox/mapbox-gl-draw/dist/mapbox-gl-draw.css';\nimport MapboxGeocoder from '@mapbox/mapbox-gl-geocoder';\nimport MapboxTraffic from '@mapbox/mapbox-gl-traffic';\nimport mapboxgl from 'mapbox-gl';\nimport React from 'react';\n\nimport geocoder from '@plugins/geocoder.plugin';\nimport marker from '@plugins/marker.plugin';\nimport Minimap from '@plugins/minimap.plugin';\n\nimport { ACCESS_TOKEN } from '@/config';\nimport '@styles/map.style.css';\nimport emitter from '@utils/events.utils';\nimport { mapStyles } from '@utils/map.utils';\n\nconst styles = {\n    root: {\n        width: '100%',\n        position: 'fixed',\n        top: 64,\n        bottom: 0\n    }\n};\n\nclass Canvas extends React.Component {\n    constructor(props) {\n        super(props);\n        this.mapContainer = React.createRef();\n        this.state = {\n            map: null,\n            draw: null,\n            minimap: null,\n            popup: null,\n            gettingPoint: null,\n            tempId: null,\n            styleCode: Object.values(mapStyles)[1].substring(16),\n            accessGranted: false,\n            points: [\n                \n                ]\n\n        };\n    }\n\n    flyToGeometry(map, geometry) {\n        const type = geometry.type;\n        let coordinates;\n        console.log(geometry)\n\n        if (type === 'FeatureCollection') {\n            const firstFeature = geometry.features[0];\n            coordinates = firstFeature.geometry.coordinates;\n        } else if (type === 'Feature') {\n            coordinates = geometry.geometry.coordinates;\n        } else {\n            coordinates = geometry.coordinates;\n        }\n\n        if (geometry.type === 'Polygon') {\n            console.log(coordinates[0][0])\n            console.log(coordinates[0][0][1], coordinates[0][0][0])\n            this.state.map.flyTo({\n                center: [coordinates[0][0][0], coordinates[0][0][1]],\n                zoom: 15\n            });\n        } else if (geometry.type === 'Point') {\n            this.state.map.flyTo({\n                center: [coordinates[0][0], coordinates[0][1]],\n                zoom: 17\n            });\n        }\n    }\n\n    removeTempLayer = () => {\n        const layers = this.state.map.getStyle().layers;\n        this.setState({\n            map: null\n        })\n        layers.map(layer => {\n            if (layer.id === 'custom-temp-point') {\n                this.state.map.removeLayer('custom-temp-point');\n                this.state.map.removeSource('custom-temp-point');\n            }\n            return true;\n        });\n\n        if (this.state.popup && this.state.popup.isOpen()) {\n            this.state.popup.remove();\n        }\n    }\n\n    removeAllLayer = () => {\n        const layers = this.state.map.getStyle().layers;\n        layers.map(layer => {\n            if (layer.id.includes('-points')) {\n                this.state.map.removeLayer(layer.id);\n                this.state.map.removeSource(layer.source);\n            }\n            return true;\n        });\n\n        layers.map(layer => {\n            if (layer.id.includes('-boundary')) {\n                this.state.map.removeLayer(layer.id);\n                this.state.map.removeSource(layer.source);\n            }\n            return true;\n        });\n\n        if (this.state.popup && this.state.popup.isOpen()) {\n            this.state.popup.remove();\n        }\n\n        emitter.emit('handleDatasetRemove');\n    }\n    \n    add3dLayer = () => {\n        var layers = this.state.map.getStyle().layers;\n        for (var layer in layers) {\n            if (layer.type === 'symbol' && layer.layout['text-field']) {\n                var labelLayerId = layer.id;\n                break;\n            }\n        }\n\n        if (this.state.map.getLayer('3d-buildings')) {\n            this.state.map.moveLayer('3d-buildings', labelLayerId);\n            return;\n        }\n\n        this.state.map.addLayer({\n            'id': '3d-buildings',\n            'source': 'composite',\n            'source-layer': 'building',\n            'filter': ['==', 'extrude', 'true'],\n            'type': 'fill-extrusion',\n            'minzoom': 12,\n            'paint': {\n                'fill-extrusion-color': '#aaa',\n                'fill-extrusion-height': [\n                    \"interpolate\", [\"linear\"], [\"zoom\"],\n                    15, 0,\n                    15.05, [\"get\", \"height\"]\n                ],\n                'fill-extrusion-base': [\n                    \"interpolate\", [\"linear\"], [\"zoom\"],\n                    15, 0,\n                    15.05, [\"get\", \"min_height\"]\n                ],\n                'fill-extrusion-opacity': .6\n            }\n        }, labelLayerId);\n    }\n\n    removeTempPoint = () => {\n        this.state.draw.delete(this.state.tempId);\n        this.setState({\n            tempId: null\n        });\n    }\n\n    componentDidMount() {\n        mapboxgl.accessToken = ACCESS_TOKEN;\n\n        if (!mapboxgl.supported()) {\n            alert('Your browser does not support Mapbox GL');\n            return;\n        }\n\n        const map = new mapboxgl.Map({\n            container: this.mapContainer.current,\n            style: Object.values(mapStyles)[0],\n            center: [-4.835985, 37.701896],\n            zoom: 7,\n            antialias: true\n        });\n\n                        // Agregar puntos al mapa\n                        this.state.points.forEach((point) => {\n                            const el = document.createElement('div');\n                            el.className = 'marker';\n                            el.style.width = '20px';\n                            el.style.height = '20px';\n                            el.style.backgroundColor = '#ff4081';\n                            el.style.borderRadius = '50%';\n                            el.style.cursor = 'pointer';\n                \n                            // Agregar evento al hacer clic en el marcador\n                            el.addEventListener('click', () => {\n                                const link = document.createElement('a');\n                                link.href = point.file; // Ruta al archivo PDF\n                                link.download = point.id + '.pdf'; // Nombre del archivo a descargar\n                                console.log(link)\n                                link.click();\n                            });\n                \n                            // Agregar marcador al mapa\n                            new mapboxgl.Marker(el)\n                                .setLngLat(point.coordinates)\n                                .addTo(map);\n                        });\n        \n\n        const draw = new MapboxDraw({\n            controls: {\n                combine_features: false,\n                uncombine_features: false\n            }\n        });\n\n        const minimap = new Minimap({\n            center: map.getCenter(),\n            style: Object.values(mapStyles)[0]\n        });\n\n        map.addControl(new MapboxGeocoder({\n            accessToken: mapboxgl.accessToken,\n            mapboxgl: mapboxgl,\n            localGeocoder: geocoder,\n            placeholder: 'Search Address',\n            marker: {\n                color: 'red'\n            }\n        }), 'top-left');\n\n        map.addControl(new mapboxgl.NavigationControl(), 'top-left');\n        map.addControl(new mapboxgl.GeolocateControl(), 'top-left');\n        map.addControl(new MapboxTraffic({\n            trafficSource: new RegExp('/*/')\n        }), 'top-left');\n        map.addControl(draw, 'top-left');\n        map.addControl(minimap, 'bottom-left');\n\n        const popup = new mapboxgl.Popup({\n            closeButton: false,\n            anchor: 'bottom'\n        }).setHTML('<div id=\"popup-container\"></div>');\n\n        document.getElementsByClassName('mapboxgl-ctrl-geocoder--input')[0].setAttribute('type', 'search-box');\n\n        map.on('load', () => {\n            this.add3dLayer();\n            // Hide loader\n            document.getElementById('loader-wrapper').classList.add('loaded');        \n            \n        });\n\n        map.on('zoomend', () => {\n            const zoomLevel = map.getZoom();\n            emitter.emit('setMapZoom', zoomLevel);\n        });\n\n        map.on('draw.create', e => {\n            if (!this.state.gettingPoint) {\n                return;\n            }\n\n            // Save temp id\n            this.setState({\n                tempId: e.features[0].id\n            });\n\n            // Set point\n            emitter.emit('setPoint', e.features[0], this.state.styleCode, this.state.map.getZoom());\n\n\n            // Reset state\n            this.setState({\n                gettingPoint: false\n            })\n        });\n\n\tthis.setMapStyleListener = emitter.addListener('setMapStyle', e => {\n\t    if (this.state.popup.isOpen()) {\n\t\tthis.state.popup.remove();\n\t    }\n\n\t    // Guarda las fuentes y los layers visibles actuales\n\t    const currentSources = { ...this.state.map.getStyle().sources };\n\t    const currentLayers = [...this.state.map.getStyle().layers];\n\t    console.log(currentSources);\n\t    console.log(currentLayers);\n\t    // Cambia el estilo del mapa\n\t    this.state.map.setStyle(mapStyles[e]);\n\n\t    // Espera a que el estilo del mapa se haya cargado antes de agregar las fuentes y layers antiguos\n\t    this.state.map.on('style.load', () => {\n\t\t// Agrega las fuentes guardadas, solo si no existen en el nuevo estilo\n\t\tObject.keys(currentSources).forEach(sourceId => {\n\t\t    if (!this.state.map.getSource(sourceId)) {\n\t\t        try {\n\t\t            this.state.map.addSource(sourceId, currentSources[sourceId]);\n\t\t        } catch (error) {\n\t\t            console.error(`Error adding source ${sourceId}:`, error);\n\t\t        }\n\t\t    } else {\n\t\t        console.log(`Source with id \"${sourceId}\" already exists`);\n\t\t    }\n\t\t});\n\n\t\t// Agrega los layers antiguos, solo si no existen en el nuevo estilo\n\t\tcurrentLayers.forEach(layer => {\n\t\t    if (!this.state.map.getLayer(layer.id)) {\n\t\t        try {\n\t\t            this.state.map.addLayer(layer);\n\t\t        } catch (error) {\n\t\t            console.error(`Error adding layer ${layer.id}:`, error);\n\t\t        }\n\t\t    } else {\n\t\t        console.log(`Layer with id \"${layer.id}\" already exists`);\n\t\t    }\n\t\t});\n\t    });\n\n\t    // Actualiza el minimapa con el nuevo estilo\n\t    const minimap = new Minimap({\n\t\tcenter: this.state.map.getCenter(),\n\t\tstyle: mapStyles[e]\n\t    });\n\n\t    this.state.map.removeControl(this.state.minimap);\n\t    this.state.map.addControl(minimap, 'bottom-left');\n\t    this.setState({\n\t\tminimap: minimap,\n\t\tstyleCode: mapStyles[e].substring(16)\n\t    });\n\t});\n\n\n\n\n\n    // Escuchar el evento para cambiar la visibilidad de las capas\n        this.toggleLayerVisibilityListener = emitter.addListener('toggleLayerVisibility', (layerId, visible) => {\n            if (this.state.map.getLayer(layerId)) {\n                this.state.map.setLayoutProperty(layerId, 'visibility', visible ? 'visible' : 'none');\n            }\n        });\n\n        // Escuchar el evento para cambiar la transparencia de las capas\n        this.changeLayerTransparencyListener = emitter.addListener('changeLayerTransparency', (layerId, transparency) => {\n            if (this.state.map.getLayer(layerId)) {\n                this.state.map.setPaintProperty(layerId, 'raster-opacity', transparency);\n            }\n        });\n\n        this.displayDatasetListener = emitter.addListener('displayDataset', (id, geometry) => {\n            if (this.state.map.getSource(id)) {\n                this.state.map.removeSource(id);\n            }\n\n            map.addSource(id, {\n                'type': 'geojson',\n                'data': geometry\n            });\n\n            map.addLayer({\n                'id': id + '-boundary',\n                'type': 'fill',\n                'source': id,\n                'paint': {\n                    'fill-color': '#888888',\n                    'fill-opacity': 0.4\n                },\n                'filter': ['==', '$type', 'Polygon']\n            });\n\n            map.addLayer({\n                'id': id + '-points',\n                'type': 'circle',\n                'source': id,\n                'paint': {\n                    'circle-radius': 6,\n                    'circle-color': '#B42222'\n                },\n                'filter': ['==', '$type', 'Point']\n            });\n\n            this.flyToGeometry(map, geometry);\n        });\n\n        this.removeDatasetListener = emitter.addListener('removeDataset', e => {\n            const layerIds = [e + '-boundary', e + '-points'];\n\n            layerIds.forEach(layerId => {\n                if (this.state.map.getLayer(layerId)) {\n                    this.state.map.removeLayer(layerId);\n                }\n            });\n\n            if (this.state.map.getSource(e)) {\n                this.state.map.removeSource(e);\n            }\n        });\n\n        this.displayTempLayerListener = emitter.addListener('displayTempLayer', e => {\n            this.removeTempLayer();\n\n            if (!this.state.map.hasImage('marker')) {\n                this.state.map.addImage('marker', marker, { pixelRatio: 3 });\n            }\n\n            this.state.map.addLayer({\n                id: 'custom-temp-point',\n                type: 'symbol',\n                source: {\n                    type: 'geojson',\n                    data: e.geometry\n                },\n                layout: {\n                    'icon-image': 'marker'\n                }\n            });\n\n            this.state.popup.setLngLat(e.geometry.geometry.coordinates).addTo(this.state.map);\n            emitter.emit('bindPopup', e);\n\n            this.state.map.flyTo({\n                center: e.geometry.geometry.coordinates,\n                zoom: 6,\n                bearing: 0\n            });\n        });\n\n        this.setState({\n            map: map,\n            draw: draw,\n            minimap: minimap,\n            popup: popup\n        });\n\n        emitter.on('moveURL', this.handleURLMoved);\n\n    }\n\n    splitAssetName = (assetPath) => {\n        const parts = assetPath.split('/'); // Dividimos el path por \"/\"\n        let lastPart = parts[parts.length - 1]; // Tomamos la última parte del path\n    \n        // Si el nombre comienza con \"0\", lo removemos\n        if (lastPart.startsWith('0')) {\n            lastPart = lastPart.substring(1); // Eliminar el primer carácter (\"0\")\n        }\n        \n        return lastPart; // Devolver la última parte procesada\n    };\n\n    handleURLMoved = (movedURL) => {\n        console.log('Received moved data:', movedURL);\n        // Aquí puedes hacer algo con los datos, como establecer el estado\n        this.setState({ url: movedURL[0] });\n        console.log(movedURL[2]);\n        // Emitir el evento con el nombre de la capa y la URL\n        emitter.emit('newLayer', {\n            id: movedURL[2],  // Nombre de la capa\n            url: movedURL[0],  // URL del mapa\n            visible: true,\n            transparency: 100\n        });\n        console.log(movedURL)\n        emitter.emit('showSnackbar', 'success', `The layer '${this.splitAssetName(movedURL[2])}' has been loaded`);\n        this.state.map.addLayer({\n            'id': movedURL[2],\n            'type': 'raster',\n            'source': {\n                'type': 'raster',\n                'tiles': [\n                    this.state.url\n                ],\n                'tileSize': 256\n            },\n            'paint': {\n                'raster-opacity': 0.8  // Opacidad de la capa de ráster\n            }\n        });\n        const polygon = movedURL[3]; // Asumiendo que contiene el GeoJSON\n        if (polygon && polygon.type === 'Polygon') {\n            this.flyToGeometry(this.state.map, polygon)\n        } else {\n            console.error('Invalid GeoJSON Polygon in movedURL[3]');\n        }\n        console.log(this.state.url);\n    };\n    \n    componentWillUnmount() {\n        emitter.removeListener(this.setMapStyleListener);\n        emitter.removeListener(this.displayDatasetListener);\n        emitter.removeListener(this.removeDatasetListener);\n        emitter.removeListener(this.displayTempLayerListener);\n        emitter.removeListener(this.toggleLayerVisibilityListener);\n        emitter.removeListener(this.changeLayerTransparencyListener);  \n    }\n\n    render() {\n        return (\n            <div>\n            <div id=\"map\" style={styles.root} ref={this.mapContainer}/>\n\n                            </div>\n        );\n    }\n}\n\nexport default Canvas;","/* Written by Ye Liu */\n\nimport React from 'react';\n\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Typography from '@material-ui/core/Typography';\n\nimport emitter from '@utils/events.utils';\n\nconst styles = {\n    root: {\n        minWidth: 320,\n        maxWidth: 345\n    },\n    image: {\n        height: 140\n    },\n    titleContainer: {\n        display: 'flex',\n        alignItems: 'space-between',\n        padding: '5px 16px 2px'\n    },\n    titleContainerEnd: {\n        display: 'flex',\n        alignItems: 'space-between',\n        padding: '5px 16px 10px'\n    },\n    nameContainer: {\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'flex-end',\n        height: 65\n    },\n    popupName: {\n        display: 'inline-block'\n    },\n    popupPinyin: {\n        display: 'inline-block'\n    },\n    weatherWidgetContainer: {\n        position: 'absolute',\n        right: 0,\n        width: 155\n    },\n    introductionContainer: {\n        paddingTop: 5\n    },\n    popupIntroduction: {\n        wordWrap: 'break-word',\n        wordBreak: 'break-all'\n    }\n};\n\nclass Popup extends React.Component {\n    state = {\n        open: false,\n        data: {}\n    }\n\n    componentDidMount() {\n        // Bind event listener\n        this.bindPopupListener = emitter.addListener('bindPopup', e => {\n            // Bind popup\n            var el = document.getElementById('popup');\n            document.getElementById('popup-container').appendChild(el);\n\n            // Load weather widget\n            var script = document.createElement(\"script\");\n            script.type = \"text/javascript\";\n            script.src = `https://darksky.net/widget/default-small/${e.geometry.geometry.coordinates[1].toString()},${e.geometry.geometry.coordinates[0].toString()}/ca12/en.js?height=60`;\n            document.getElementById('customize-script-container').appendChild(script);\n\n            // Display popup\n            this.setState({\n                open: true,\n                data: e\n            });\n        });\n    }\n\n    componentWillUnmount() {\n        // Remove event listener\n        emitter.removeListener(this.bindPopupListener);\n    }\n\n    render() {\n        return (\n            <Card id=\"popup\" style={styles.root} className={this.state.open ? null : 'hidden'}>\n                {/* Image */}\n                <CardMedia\n                    className={this.state.data.image && this.state.data.image.src ? null : 'hidden'}\n                    style={styles.image}\n                    image={this.state.data.image && this.state.data.image.src ? this.state.data.image.src : '#'}\n                />\n\n                {/* Object Name */}\n                <CardContent style={this.state.data.introduction ? styles.titleContainer : styles.titleContainerEnd}>\n                    <div style={styles.nameContainer}>\n                        <Typography style={styles.popupName} variant=\"h5\" component=\"h2\">{this.state.data.name}</Typography>\n                        <Typography style={styles.popupPinyin} variant=\"subtitle1\" color=\"textSecondary\" component=\"h3\">{this.state.data.pinyin}</Typography>\n                    </div>\n                    <div id=\"customize-script-container\" style={styles.weatherWidgetContainer}></div>\n                </CardContent>\n\n                {/* Object Introduction */}\n                <CardContent style={styles.introductionContainer} className={this.state.data.introduction ? null : 'hidden'}>\n                    <Typography style={styles.popupIntroduction} variant=\"body2\" color=\"textSecondary\" component=\"p\">{this.state.data.introduction}</Typography>\n                </CardContent>\n            </Card >\n        );\n    }\n}\n\nexport default Popup;\n","import React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Backdrop , CircularProgress, TextField, Grid, Button} from '@material-ui/core';\nimport { AttachFile, Description, PictureAsPdf, Theaters } from '@material-ui/icons';\nimport { DropzoneArea } from 'material-ui-dropzone';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport emitter from '@utils/events.utils';\nimport shp from 'shpjs';\n\n\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n    '& .MuiDropzoneArea-root': {\n      minHeight: '100px',\n      maxHeight: '200px',\n    }\n  },\n  fileDetails: {\n    marginTop: theme.spacing(1),\n  },\n  heading: {\n    fontSize: theme.typography.pxToRem(15),\n    flexBasis: '33.33%',\n    flexShrink: 0,\n    fontWeight: 'bold',\n  },\n  secondaryHeading: {\n    fontSize: theme.typography.pxToRem(15),\n    color: theme.palette.text.secondary,\n  },\n  checkBoxContainer: {\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    flexWrap: 'wrap',\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n    width: '100%',\n  },\n  inputLabel: {\n    marginBottom: theme.spacing(1),\n  },\n  dateInput: {\n    width: '100%',\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n  },\n  foormControl: {\n    margin: theme.spacing(3),\n  },\n  dropzone: {\n    minHeight: '191px',\n  },\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: '#fff',\n  },\n  progressText: {\n    marginLeft: theme.spacing(2),\n  },\n}));\n\nexport default function ControlledAccordions({onSubmit}) {\n  const classes = useStyles();\n  const [, setNumericColumns] = useState([]);\n  const [, setSelectedOption] = useState('rf');\n  const [expanded, setExpanded] = useState(false);\n  const [formData, setFormData] = useState({\n    rf: false,\n    svm: false,\n    knn: false,\n    aoiDataFiles: [],\n    startDate: \"2000-04-14\",\n    endDate: \"2024-05-14\",\n    satelliteData: {\n      sentinel1: false,\n      sentinel2: false,\n      landsat: false,\n    },\n    indexes: {\n      vegetationIndexes: false,\n      brightnessIndexes: false,\n      moistureIndexes: false,\n    },\n    modelFeatures: {\n      numberOfTrees: 500,\n      seed: 0.0001,\n      bagFraction: 0,\n    },\n    performanceIndicators: {\n      rsquare: false,\n      rmse: false,\n      mse: false,\n      mae: false,\n      rpiq: false,\n    }\n  });\n  const [loading, setLoading] = useState(false);\n  const [timer, setTimer] = useState(0);\n\n  useEffect(() => {\n    let timerInterval;\n    if (loading) {\n      timerInterval = setInterval(() => {\n        setTimer((prevTimer) => prevTimer + 1);\n      }, 1000);\n    } else {\n      clearInterval(timerInterval);\n    }\n\n    return () => clearInterval(timerInterval);\n  }, [loading]);\n\n  const handleChangeExp = (panel) => (event, isExpanded) => {\n    setExpanded(isExpanded ? panel : false);\n  };\n\n  const handleChange = (event) => {\n    const { name, value, checked, type } = event.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: type === 'checkbox' || type === 'radio' ? checked : value\n    }));\n    if (name === \"options\") {\n      setSelectedOption(value);\n    }\n  };\n\n  const handleFileChange = (name, files) => {\n    if (files && files.length > 0) {\n      const reader = new FileReader();\n      reader.onload = async (event) => {\n        try {\n          const data = await shp(event.target.result);\n          const columns = data.features.length > 0 ? Object.keys(data.features[0].properties) : [];\n          const numericColumns = columns.filter(key => typeof data.features[0].properties[key] === 'number');\n          setNumericColumns(numericColumns);\n        } catch (error) {\n          console.error(\"Error processing shapefile\", error);\n        }\n      };\n      reader.readAsArrayBuffer(files[0]);\n    }\n    setFormData(prev => ({\n      ...prev,\n      [name]: files\n    }));\n    \n  };\n\n  const handlePreviewIcon = (fileObject, classes) => {\n    const {type} = fileObject.file\n    const iconProps = {\n      className : classes.image,\n    }\n  \n    if (type.startsWith(\"video/\")) return <Theaters {...iconProps} />\n  \n    switch (type) {\n      case \"application/msword\":\n      case \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\":\n        return <Description {...iconProps} />\n      case \"application/pdf\":\n        return <PictureAsPdf {...iconProps} />\n      default:\n        return <AttachFile {...iconProps} />\n    }\n  }\n\n  const handleSubmit = async () => {\n    try {\n      setLoading(true);\n      setTimer(0); // Reset the timer when the submit button is clicked\n      const data = new FormData();\n      console.log(formData.endDate);\n      data.append('aoiDataFiles', formData.aoiDataFiles[0]);\n      data.append('startDate', formData.startDate);\n      data.append('endDate', formData.endDate);\n      console.log(formData)\n      for (const key in formData.satelliteData) {\n        data.append(key, formData.satelliteData[key]);\n      }\n\n      for (const key in formData.indexes) {\n        data.append(key, formData.indexes[key]);\n      }\n\n      for (const key in formData.modelFeatures) {\n        data.append(key, formData.modelFeatures[key]);\n      }\n\n      for (const key in formData.performanceIndicators) {\n        data.append(key, formData.performanceIndicators[key]);\n      }\n      \n      console.log(data);\n\n      const response = await fetch('http://localhost:5004/api/rusle', {\n         method: 'POST',\n         body: data\n      });\n\n      const result = await response.json();\n      if(result){\n        console.log('Data sent successfully', result);\n        onSubmit(result.output);\n        setLoading(false);\n        emitter.emit('closeAllController');\n        emitter.emit('openLayerController');\n      }\n\n\n    } catch (error) {\n      setLoading(false);\n      emitter.emit('showSnackbar', 'error', `Error: '${error}'`);\n      console.error('Failed to send data', error);\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      <Accordion expanded={expanded === 'panel2'} onChange={handleChangeExp('panel2')}>\n        <AccordionSummary\n          expandIcon={<ExpandMoreIcon />}\n          aria-controls=\"panel2bh-content\"\n          id=\"panel2bh-header\"\n        >\n          <Typography className={classes.heading}>Upload Files</Typography>\n        </AccordionSummary>\n        <AccordionDetails>\n          \n\n          <DropzoneArea\n            onChange={(files) => handleFileChange('aoiDataFiles', files)}\n            acceptedFiles={['.zip']}\n            dropzoneText=\"Area of Interest\"\n            maxFileSize={5000000}\n            filesLimit={1}\n            getPreviewIcon={handlePreviewIcon}\n            />\n        </AccordionDetails>\n      </Accordion>\n      \n      <Accordion expanded={expanded === 'panel3'} onChange={handleChangeExp('panel3')}>\n        <AccordionSummary\n          expandIcon={<ExpandMoreIcon />}\n          aria-controls=\"panel3bh-content\"\n          id=\"panel3bh-header\"\n        >\n          <Typography className={classes.heading}>Dates</Typography>\n        </AccordionSummary>\n        <AccordionDetails>\n          <Grid container spacing={2}>\n            <Grid item xs={12} sm={10}>\n              <TextField\n                label=\"Start Date\"\n                type=\"date\"\n                name=\"startDate\"\n                value={formData.startDate}\n                onChange={handleChange}\n                className={classes.dateInput}\n                InputLabelProps={{\n                  shrink: true,\n                }}\n              />\n              <TextField\n                label=\"End Date\"\n                type=\"date\"\n                name=\"endDate\"\n                value={formData.endDate}\n                onChange={handleChange}\n                className={classes.dateInput}\n                InputLabelProps={{\n                  shrink: true,\n                }}\n              />\n            </Grid>\n          </Grid>\n        </AccordionDetails>\n      </Accordion>\n      <div>\n\n\n      </div>\n      <div>\n\n\n      </div>\n      <Button onClick={handleSubmit} color=\"primary\" variant=\"contained\">Submit Data</Button>\n      <Backdrop className={classes.backdrop} open={loading}>\n        <CircularProgress color=\"inherit\" />\n        <Typography variant=\"h6\" className={classes.progressText}>\n          Loading... {timer}s\n        </Typography>\n      </Backdrop>\n    </div>\n  );\n}\n","/* Written by Ye Liu */\n\nimport React from 'react';\nimport M from 'materialize-css';\nimport Slide from '@material-ui/core/Slide';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport { Typography, Icon, IconButton } from '@material-ui/core';\n  \nimport { MuiThemeProvider, createTheme } from '@material-ui/core/styles';\nimport indigo from '@material-ui/core/colors/indigo';\n\nimport emitter from '@utils/events.utils';\nimport { ACCESS_TOKEN } from '@/config';\n\nimport '@styles/dataController.style.css';\nimport ControlledAccordions from '@components/componentsJS/ControlledAccordions__';\n\nconst theme = createTheme({\n    palette: {\n        primary: {\n            main: indigo.A200\n        }\n    }\n});\n\nconst styles = {\n    root: {\n        position: 'fixed',\n        top: 74,\n        right: 10,\n        borderRadius: 9,\n        minWidth: 350,\n        margin: 0,\n        zIndex: 900,\n\tboxShadow: '-6px 6px 15px rgba(0, 0, 0, 0.15)'\n    },\n    rooot: {\n        width: '100%',\n      },\n    content: {\n        paddingBottom: 16\n    },\n    heading: {\n        fontSize: theme.typography.pxToRem(15),\n        flexBasis: '33.33%',\n        flexShrink: 0,\n      },\n      secondaryHeading: {\n        fontSize: theme.typography.pxToRem(15),\n        color: theme.palette.text.secondary,\n      },\n    header: {\n        backgroundColor: 'rgba(76,175,80,255)'\n    },\n    closeBtn: {\n        position: 'absolute',\n        top: 6,\n        right: 8,\n        fontSize: 22\n    },\n    searchField: {\n        display: 'flex',\n        alignItems: 'center',\n        width: '100%',\n        height: 40,\n        padding: '2px 4px'\n    },\n    searchBox: {\n        marginLeft: 8,\n        flex: 1,\n        border: 'none !important'\n    },\n    searchBoxBtn: {\n        padding: 8\n    },\n    searchOptionsContainer: {\n        padding: '5px 2px'\n    },\n    searchOption: {\n        color: 'rgba(0, 0, 0, 0.6)',\n        cursor: 'pointer'\n    },\n    searchBoxProgress: {\n        marginRight: 8\n    },\n    searchBoxDivider: {\n        width: 1,\n        height: 28,\n        margin: 4\n    },\n    resultWrapperOpen: {\n        maxWidth: 800\n    },\n    resultWrapperClosed: {\n        maxWidth: 350\n    },\n    resultContainer: {\n        paddingTop: 0,\n        paddingBottom: 0\n    },\n    resultTable: {\n        boxShadow: 'none'\n    },\n    uploadBoxInput: {\n        display: 'none'\n    },\n    uploadBoxBtnEdit: {\n        width: 40,\n        height: 40,\n        lineHeight: '40px',\n        textAlign: 'center',\n        borderRadius: '50%',\n        fontSize: 22\n    },\n    wrapBtn: {\n        position: 'absolute',\n        bottom: 12,\n        left: 18,\n        padding: 10,\n        fontSize: 24\n    },\n    addPointWrapperOpen: {\n        maxWidth: 350\n    },\n    addPointWrapperClose: {\n        width: 0\n    },\n    uploadBoxBtnAdd: {\n        width: 90,\n        height: 90,\n        lineHeight: '90px',\n        textAlign: 'center',\n        borderRadius: '50%',\n        fontSize: 30,\n        backgroundColor: 'rgba(0, 0, 0, 0.08)'\n    },\n    previewImageContainer: {\n        display: 'flex',\n        alignItems: 'center'\n    },\n    nameTextField: {\n        margin: '0 20px 0 13px'\n    },\n    pinyinTextField: {\n        margin: '10px 20px 10px 13px'\n    },\n    introTextField: {\n        width: '100%',\n        marginTop: 5\n    },\n    locationImageContainer: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center'\n    },\n    locationImage: {\n        display: 'block',\n        marginTop: 5,\n        width: 225,\n        height: 140,\n        borderRadius: 3,\n        cursor: 'pointer'\n    },\n    locationLabel: {\n        display: 'block',\n        marginTop: 6\n    },\n    actions: {\n        paddingTop: 10\n    },\n    saveBtn: {\n        display: 'inline-block',\n        position: 'relative',\n        marginRight: 10\n    },\n    saveBtnProgress: {\n        position: 'absolute',\n        top: '50%',\n        left: '50%',\n        marginTop: -12,\n        marginLeft: -12,\n    }\n};\n\nclass RusleController extends React.Component {\n    state = {\n        open: false,\n        resultUnwrap: false,\n        addPointUnwrap: false,\n        optionsOpen: false,\n        searching: false,\n        submitting: false,\n        anchorEl: null,\n        geometry: null,\n        previewImage: null,\n        previewMapUrl: null,\n        previewCoordinate: {},\n        loading: true,\n        traces: [],\n        items: [\n            {id: 1, title: 'item #1'},\n            {id: 2, title: 'item #2'},\n            {id: 3, title: 'item #3'},\n            {id: 4, title: 'item #4'},\n            {id: 5, title: 'item #5'}\n          ]\n        ,\n        data: [],\n        expanded:false\n    }\n\n    calculateSustainabilityIndex = () => {\n        let IoValue = this.state.Io === 1 ? this.state.IoType : 0; // Ajustar el valor de Io basado en si se aplica o no fertilizante\n        const index = 2.45 * this.state.Ic + 2.18 * this.state.Ih + 1.64 * this.state.Ig + 1.09 * IoValue + 1 * this.state.If;\n        this.setState({\n            sustainabilityIndex:index\n        })\n    };\n\n    handleDecision = (choice) => {\n        this.setState({ decision: choice });\n      };    \n\n    initMaterialbox = () => {\n        var elems = document.querySelectorAll('.materialboxed');\n        M.Materialbox.init(elems, {\n            onOpenStart: (e) => {\n                e.parentNode.style.overflow = 'visible';\n            },\n            onCloseEnd: (e) => {\n                e.parentNode.style.overflow = 'hidden';\n            }\n        });\n    }\n    \n    resetPreviewImage = () => {\n        this.setState({\n            previewImage: null\n        });\n    }\n\n    resetNewPointData = () => {\n        this.setState({\n            previewMapUrl: null,\n            geometry: null,\n            previewCoordinate: {}\n        });\n    }\n\n    handleCloseClick = () => {\n        this.setState({\n            open: false\n        });\n    }\n\n    handleDataSubmit = (data) => {\n        this.setState({url: data})\n        console.log(\"Datos recibidos en ModelController:\", data);\n        emitter.emit('moveURL', this.state.url);\n        // Puedes manejar los datos como desees aquí\n      };\n\n    handleAddClick = () => {\n        // Get GeoJSON from map\n        emitter.emit('getPoint');\n\n        // Exit search mode\n        this.handleWrapClick();\n\n        // Initialize new point data\n        this.resetPreviewImage();\n        this.resetNewPointData();\n\n        // Wrap add point panel\n        this.setState({\n            addPointUnwrap: false\n        });\n    }\n\n    handleWrapClick = () => {\n        // Remove temp layer\n        emitter.emit('removeTempLayer');\n\n        // Reset preview image\n        this.resetPreviewImage();\n\n        // Clear search box\n        document.getElementById('search-box').value = '';\n\n        this.setState({\n            resultUnwrap: false\n        });\n    }\n\n    handleImageChange = (e) => {\n        // Check if file selected\n        if (!e.target.files[0]) {\n            return;\n        }\n\n        // Check image size (smaller than 1MB)\n        if (e.target.files[0].size > 1048576) {\n            emitter.emit('showSnackbar', 'error', 'Error: Image must be smaller than 1MB.');\n            return;\n        }\n\n        // Encode image with base64\n        this.state.reader.readAsDataURL(e.target.files[0]);\n    }\n\n    handleDoneEdit = () => {\n        // Reset preview image\n        this.resetPreviewImage();\n\n        // Initialize Materialbox\n        setTimeout(this.initMaterialbox, 800);\n    }\n\n    handleSearchOptionsClick = () => {\n        this.setState({\n            optionsOpen: true\n        });\n    }\n\n    handleSearchOptionsClose = () => {\n        this.setState({\n            optionsOpen: false\n        });\n    }\n\n    \n    handleSearchOptionChange = (e) => {\n        // Update search options\n        var option = null;\n        var flag = false;\n        this.state.searchOptions.map(item => {\n            if (item.value === e.currentTarget.value) {\n                item.checked = e.currentTarget.checked;\n                option = item;\n            }\n            flag = flag || item.checked;\n            return true;\n        });\n\n        // Check whether at least one option checked\n        if (!flag) {\n            emitter.emit('showSnackbar', 'error', 'Error: Please select at least one option.');\n            option.checked = true;\n            return;\n        }\n\n        this.setState({\n            searchOptions: this.state.searchOptions\n        });\n    }\n\n    handleSearchClick = () => {\n        // Exit add point mode\n        this.handleCancelClick();\n\n        // Get keyword\n        var keyword = document.getElementById('search-box').value;\n        if (!keyword) {\n            return;\n        }\n\n        // Show searching progress\n        this.setState({\n            searching: true\n        });\n\n        // Get search options\n        var options = {};\n        this.state.searchOptions.map(item => {\n            options[item.value] = item.checked;\n            return true;\n        });\n\n    }\n\n    handlePreviewClick = (e, data) => {\n        // Show marker and popup on map\n        emitter.emit('displayTempLayer', data);\n    }\n\n    handlePreviewMapClick = () => {\n        // Get GeoJSON from map\n        emitter.emit('getPoint');\n\n        this.setState({\n            addPointUnwrap: false\n        });\n    }\n\n    handleSelectChange = (event) => {\n        this.setState({ [event.target.name]: Number(event.target.value) });\n    };\n\n\n    handleCancelClick = () => {\n        // Remove temp point\n        emitter.emit('removeTempPoint');\n\n        // Empty input box\n        document.getElementById('name').value = '';\n        document.getElementById('pinyin').value = '';\n        document.getElementById('introduction').value = '';\n\n        // Reset data\n        this.resetPreviewImage();\n        this.resetNewPointData();\n\n        // Wrap add point panel\n        this.setState({\n            addPointUnwrap: false\n        });\n    }\n\n\n\n    componentDidMount() {\n        // Initialize popover\n        var anchorEl = document.getElementById('anchorEl');\n\n        // Initialize file reader\n        var reader = new FileReader();\n        reader.onload = (e) => {\n            // Get image info\n            var image = new Image();\n            image.src = e.target.result;\n\n            // Construct preview image object\n            var previewImage = {\n                longitude: image.height > image.width,\n                src: e.target.result\n            }\n\n            // Preview image\n            this.setState({\n                previewImage: previewImage\n            });\n        };\n\n        this.setState({\n            reader: reader,\n            anchorEl: anchorEl\n        });\n\n        // Bind event listeners\n        this.openRusleControllerListener = emitter.addListener('openRusleController', () => {\n            this.setState({\n                open: true\n            });\n         });\n\n        this.closeAllControllerListener = emitter.addListener('closeAllController', () => {\n            this.setState({\n                open: false\n            });\n        });\n\n        this.updatePointListener = emitter.addListener('setPoint', (feature, styleCode, zoom) => {\n            var [lng, lat] = feature.geometry.coordinates;\n            var previewMapUrl = `https://api.mapbox.com/styles/v1/${styleCode}/static/pin-s+f00(${lng},${lat})/${lng},${lat},${zoom},0,1/250x155@2x?access_token=${ACCESS_TOKEN}`;\n\n            this.setState({\n                addPointUnwrap: true,\n                previewMapUrl: previewMapUrl,\n                geometry: feature,\n                previewCoordinate: {\n                    lng: parseFloat(lng).toFixed(3),\n                    lat: parseFloat(lat).toFixed(3)\n                }\n            });\n        });\n\n\n    \n        this.moveURListener = emitter.addListener('moveURL', () => {\n            this.moveURL();\n        });\n    }\n\n    \n    setIc(e){\n        this.setState({\n            Ic:e\n        })\n    }\n    setIh(e){\n        this.setState({\n            Ih:e\n        })\n    }\n    setIg(e){\n        this.setState({\n            Ig:e\n        })\n    }\n    setIo(e){\n        this.setState({\n            Io:e\n        })\n    }\n    setIoType(e){\n        this.setState({\n            IoType:e\n        })\n    }\n    setIf(e){\n        this.setState({\n            If:e\n        })\n    }\n\n    moveURL = () => {\n        var url = this.state.url\n        this.setState({ movedURL: url });\n        console.log(this.state.movedURL)\n\n    }\n    processTemperatureData = (data) => {\n        const trace = {\n            type: 'scatter', \n            mode: 'lines',\n            x: data.map(item => new Date(item.sampling_date)),\n            y: data.map(item => item.measurement_value),\n            name: 'Temperatura del Aire HC',\n        };\n\n        this.setState(({\n            temperatureData: [trace],\n            loading: false // Mantiene el estado de carga si hay más datos por cargar\n        }));\n    }\n\n    processPrecipitationData = (data) => {\n        const trace = {\n            type: 'scatter',\n            mode: 'lines',\n            x: data.map(item => new Date(item.sampling_date)),\n            y: data.map(item => item.measurement_value),\n            name: 'Precipitación'\n        };\n\n        this.setState({ precipitationData: [trace], loading: false });\n    }\n\n\n    componentWillUnmount() {\n        // Remove event listeners\n        emitter.removeListener(this.openRusleControllerListener);\n        emitter.removeListener(this.closeAllControllerListener);\n        emitter.removeListener(this.addPointListener);\n        emitter.removeListener(this.updatePointListener);\n        emitter.removeListener(this.moveURListener);\n\n\n        // Destory Materialbox\n        //                         {loading ? <p>Cargando datos...</p> : <Plot data={traces} layout={layout} />}\n\n        var elems = document.querySelectorAll('.materialboxed');\n        elems.map(elem => elem.destory());\n    }\n\n    render() {        \n        return (\n            <MuiThemeProvider theme={theme}>\n                <Slide direction=\"left\" in={this.state.open}>\n                    <Card style={styles.root}>\n                        {/* Card header */}\n                        <CardContent style={styles.header}>\n                        <Typography gutterBottom variant=\"h5\" component=\"h2\" style={{ fontFamily: 'Lato, Arial, sans-serif', color:'white', fontWeight:'3' }}>Soil Erosion Modelling</Typography>\n                        <Typography variant=\"body2\" color=\"textSecondary\">Upload your shape and map the erosion model result</Typography>                    \t\n\t\t\t</CardContent>\n\t\t\t<CardContent style={styles.content}>\n            <ControlledAccordions onSubmit={this.handleDataSubmit}/>\n            <IconButton style={styles.closeBtn} aria-label=\"Close\" onClick={this.handleCloseClick}>\n                                <Icon fontSize=\"inherit\">chevron_right</Icon>\n                            </IconButton>\n                        </CardContent>\n                    </Card>\n                </Slide>\n            </MuiThemeProvider >\n        );\n    }\n}\n\nexport default RusleController;","import { Card, CardContent, FormControl, Icon, IconButton, InputLabel, MenuItem, Select, Slide, Typography } from '@material-ui/core';\r\nimport { MuiThemeProvider, createTheme } from '@material-ui/core/styles';\r\nimport emitter from '@utils/events.utils';\r\nimport React from 'react';\r\n\r\nconst GlobalStyles = createTheme({\r\n    typography: {\r\n        fontFamily: 'Lato, Arial, sans-serif',\r\n    },\r\n    overrides: {\r\n        MuiCssBaseline: {\r\n            '@global': {\r\n                body: {\r\n                    fontFamily: 'Lato, Arial, sans-serif',\r\n                },\r\n            },\r\n        },\r\n    },\r\n});\r\n\r\nconst styles = {\r\n    root: {\r\n        position: 'fixed',\r\n        top: 74,\r\n        right: 10,\r\n        width: 300,\r\n        borderRadius: 9,\r\n        margin: 0,\r\n        zIndex: 900,\r\n        boxShadow: '-6px 6px 15px rgba(0, 0, 0, 0.15)',\r\n    },\r\n    header: {\r\n        backgroundColor: 'rgb(138, 213, 137)'\r\n    },\r\n    closeBtn: {\r\n        position: 'absolute',\r\n        top: 6,\r\n        right: 8,\r\n        fontSize: 22\r\n    },\r\n    content: {\r\n        paddingBottom: 16\r\n    },\r\n    select: {\r\n        width: '100%'\r\n    },\r\n};\r\n\r\nclass BushEncroacher extends React.Component {\r\n    state = {\r\n        open: false,\r\n        assets: [], // Aquí guardaremos los assets de GEE\r\n        selectedSpecies: '', // Aquí guardamos la especie seleccionada\r\n        selectedAsset: '', // Aquí guardamos el asset seleccionado por el usuario\r\n        speciesOptions: [], // Lista de especies para el primer selector\r\n        filteredAssets: [], // Lista de assets filtrados según la especie seleccionada\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.fetchAssets();  // Cargar los assets de GEE\r\n\r\n        this.openBushEncroacherControllerListener = emitter.addListener('openBushEncoracherController', () => {\r\n            this.setState({ open: true });\r\n        });\r\n\r\n        this.closeAllControllerListener = emitter.addListener('closeAllController', () => {\r\n            this.setState({ open: false });\r\n        });\r\n    }\r\n\r\n    fetchAssets = async () => {\r\n        try {\r\n            const response = await fetch('http://localhost:5004/api/list-assets');\r\n            const data = await response.json();\r\n            const assets = data.assets;\r\n\r\n            // Obtener las especies disponibles\r\n            const speciesOptions = this.getSpeciesOptions(assets);\r\n            console.log(assets)\r\n            this.setState({ assets: assets, speciesOptions: speciesOptions });\r\n        } catch (error) {\r\n            console.error('Error fetching assets:', error);\r\n        }\r\n    };\r\n\r\n        // Función para cortar el nombre del asset después del \"/0\" o devolver el nombre si no lo tiene\r\n        splitAssetName = (assetPath) => {\r\n            const parts = assetPath.split('/'); // Dividimos el path por \"/\"\r\n            let lastPart = parts[parts.length - 1]; // Tomamos la última parte del path\r\n        \r\n            // Si el nombre comienza con \"0\", lo removemos\r\n            if (lastPart.startsWith('0')) {\r\n                lastPart = lastPart.substring(1); // Eliminar el primer carácter (\"0\")\r\n            }\r\n            \r\n            return lastPart; // Devolver la última parte procesada\r\n        };\r\n\r\n    getSpeciesOptions = (assets) => {\r\n        const speciesSet = new Set();\r\n\r\n        // Extraer las especies basadas en los IDs de los assets\r\n        assets.forEach(asset => {\r\n            const id = asset.id;\r\n            if (id.includes('_avg')) {\r\n                const species = id.split('_')[0] +'_' + id.split('_')[1]; // Obtener la especie antes del primer '_'\r\n                speciesSet.add(species);\r\n            } else {\r\n                speciesSet.add('Others');\r\n            }\r\n        });\r\n\r\n        return Array.from(speciesSet); // Convertir el Set en una lista\r\n    };\r\n\r\n    handleSpeciesChange = (event) => {\r\n        const selectedSpecies = event.target.value;\r\n        this.setState({ selectedSpecies: selectedSpecies });\r\n\r\n        // Filtrar los assets basados en la especie seleccionada\r\n        this.filterAssetsBySpecies(selectedSpecies);\r\n    };\r\n\r\n    filterAssetsBySpecies = (species) => {\r\n        let filteredAssets;\r\n        if (species === 'Others') {\r\n            filteredAssets = this.state.assets.filter(asset => !asset.id.includes('_avg'));\r\n        } else {\r\n            filteredAssets = this.state.assets.filter(asset => this.splitAssetName(asset.id).includes(species));\r\n        }\r\n\r\n        this.setState({ filteredAssets: filteredAssets });\r\n    };\r\n\r\n    handleAssetChange = (event) => {\r\n        const selectedAsset = event.target.value.id;  // Obtenemos el id del asset\r\n        const selectedType = event.target.value.type;  // Obtenemos el tipo del asset\r\n    \r\n        this.setState({\r\n            selectedAsset: selectedAsset,\r\n            selectedAssetType: selectedType\r\n        });\r\n    \r\n        // Obtener la URL del mapa del asset seleccionado\r\n        this.fetchMapUrl(selectedAsset, selectedType);\r\n    };\r\n\r\n    parseLayerName = (name) => {\r\n        console.log(name)\r\n        if (name.endsWith('_avg')) {\r\n            const parts = name.split('_');\r\n            console.log(parts)\r\n            if (parts.length === 3) {\r\n                return 'Current'; // e.g., \"Rhigozum_trichotomum_avg\" -> \"Current\"\r\n            } else if (parts.length === 5) {\r\n                const rcp = parts[2];\r\n                const year = '20' + parts[3];\r\n                return `RCP${rcp} ${year}`; // e.g., \"Rhigozum_trichotomum_26_50_avg\" -> \"RCP26 2050\"\r\n            }\r\n        }\r\n        return name; // Si no coincide con los patrones, devolver el nombre original\r\n    };\r\n\r\n    fetchMapUrl = async (assetId, assetType) => {\r\n        try {\r\n            const response = await fetch('http://localhost:5004/api/get-map-url', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify({ asset_id: assetId, asset_type: assetType }),\r\n            });\r\n            const data = await response.json();\r\n            this.setState({ mapUrl: data.map_url });\r\n            emitter.emit('moveURL', data.map_url);  // Emitir evento para Canvas\r\n            emitter.emit('closeAllController');\r\n            emitter.emit('openLayerController');\r\n\r\n        } catch (error) {\r\n            console.error('Error fetching map URL:', error);\r\n        }\r\n    };\r\n\r\n    componentWillUnmount() {\r\n        emitter.removeListener(this.openBushEncroacherControllerListener);\r\n        emitter.removeListener(this.closeAllControllerListener);\r\n        emitter.removeListener(this.setMapZoomListener);\r\n        emitter.removeListener(this.handleDatasetRemoveListener);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <MuiThemeProvider theme={GlobalStyles}>\r\n                <Slide direction=\"left\" in={this.state.open}>\r\n                    <Card style={styles.root}>\r\n                        <CardContent style={styles.header}>\r\n                            <Typography gutterBottom style={{ fontFamily: 'Lato, Arial, sans-serif', color:'white', fontWeight:'3' }} variant=\"h5\" component=\"h2\">Visualizador de capas</Typography>\r\n                            <Typography variant=\"body2\" color=\"textSecondary\">Visualiza diferentes capas</Typography>\r\n                            <IconButton style={styles.closeBtn} aria-label=\"Close\" onClick={() => this.setState({ open: false })}>\r\n                                <Icon fontSize=\"inherit\">chevron_right</Icon>\r\n                            </IconButton>\r\n                        </CardContent>\r\n\r\n                        <CardContent style={styles.content}>\r\n                            <FormControl style={styles.select}>\r\n                                <InputLabel>Tipo</InputLabel>\r\n                                <Select\r\n                                    value={this.state.selectedSpecies}\r\n                                    onChange={this.handleSpeciesChange}\r\n                                >\r\n                                    {this.state.speciesOptions.map(species => (\r\n                                        <MenuItem key={this.splitAssetName(species)} value={this.splitAssetName(species)}>{this.splitAssetName(species).replace(\"_\",\" \")}</MenuItem>\r\n                                    ))}\r\n                                </Select>\r\n                            </FormControl>\r\n\r\n                            <FormControl style={styles.select} disabled={!this.state.selectedSpecies}>\r\n                                <InputLabel>Capa a visualiz.</InputLabel>\r\n                                <Select\r\n                                    value={this.state.selectedAsset}\r\n                                    onChange={this.handleAssetChange}\r\n                                >\r\n                                    {this.state.filteredAssets.map(asset => (\r\n                                        <MenuItem key={asset.id} value={{ id: asset.id, type: asset.type }}>\r\n                                            {this.parseLayerName(this.splitAssetName(asset.id)).replace(\"_\", \" \")}\r\n                                        </MenuItem>\r\n                                    ))}\r\n                                </Select>\r\n                            </FormControl>\r\n                        </CardContent>\r\n                    </Card>\r\n                </Slide>\r\n            </MuiThemeProvider>\r\n        );\r\n    }\r\n}\r\n\r\nexport default BushEncroacher;","import React from 'react';\r\nimport { Card, CardContent, Typography, Button, Grid } from '@mui/material';\r\n\r\nfunction DataDisplay({ data, onBack }) {\r\n    // Función para mostrar datos de los árboles\r\n    const renderTrees = (trees) => {\r\n        const treeEntries = Object.entries(trees).filter(([key, value]) => key !== 'recinto' && key !== 'total' && value > 0);\r\n        if (treeEntries.length === 0) {\r\n            return 'No existen datos de árboles disponibles.';\r\n        }\r\n        return treeEntries.map(([key, value]) => `${key.charAt(0).toUpperCase() + key.slice(1)}: ${value}`).join(', ');\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <Button onClick={onBack} variant=\"outlined\" style={{ margin: '20px' }}>\r\n                Back to Search\r\n            </Button>\r\n            <Card style={{ margin: '20px' }}>\r\n                <CardContent>\r\n                    <Typography variant=\"h5\" component=\"div\">\r\n                        Información de la Parcela\r\n                    </Typography>\r\n                    <div style={{ maxHeight: 300, overflowY: 'auto' }}>\r\n\r\n                    <Typography variant=\"subtitle1\" color=\"textSecondary\">\r\n                        Provincia: {data.parcelaInfo.provincia || 'No existe información en SIGPAC sobre esto'}\r\n                    </Typography>\r\n                    <Typography variant=\"subtitle1\" color=\"textSecondary\">\r\n                        Municipio: {data.parcelaInfo.municipio || 'No existe información en SIGPAC sobre esto'}\r\n                    </Typography>\r\n                    <Typography variant=\"subtitle1\" color=\"textSecondary\">\r\n                        Polígono: {data.parcelaInfo.poligono}, Parcela: {data.parcelaInfo.parcela || 'No existe información en SIGPAC sobre esto'}\r\n                    </Typography>\r\n                    <Typography variant=\"subtitle1\" color=\"textSecondary\">\r\n                        Superficie: {data.parcelaInfo.dn_surface ? `${data.parcelaInfo.dn_surface.toFixed(2)} m²` : 'No existe información en SIGPAC sobre esto'}\r\n                    </Typography>\r\n                    <Typography variant=\"subtitle1\" color=\"textSecondary\">\r\n                        Referencia Catastral: {data.parcelaInfo.referencia_cat || 'No existe información en SIGPAC sobre esto'}\r\n                    </Typography>\r\n\r\n                    <Typography variant=\"h6\" component=\"div\" style={{ marginTop: '20px' }}>\r\n                        Detalles Adicionales\r\n                    </Typography>\r\n                    <Grid container spacing={2}>\r\n                        {data.query && data.query.length > 0 ? data.query.map((item, index) => (\r\n                            <Grid item xs={12} sm={6} key={index}>\r\n                                <Card variant=\"outlined\">\r\n                                    <CardContent>\r\n                                        <Typography variant=\"body2\">\r\n                                            Uso: {item.uso_sigpac || 'No disponible'}\r\n                                        </Typography>\r\n                                        <Typography variant=\"body2\">\r\n                                            Incidencias: {item.incidencias || 'No disponible'} - {item.inctexto ? item.inctexto.join(', ') : 'No disponible'}\r\n                                        </Typography>\r\n                                        <Typography variant=\"body2\">\r\n                                            Altitud: {item.altitud || 'No disponible'} metros\r\n                                        </Typography>\r\n                                        <Typography variant=\"body2\">\r\n                                            Pendiente Media: {item.pendiente_media || 'No disponible'}%\r\n                                        </Typography>\r\n                                    </CardContent>\r\n                                </Card>\r\n                            </Grid>\r\n                        )) : <Typography style={{ marginLeft: '20px' }}>No existen detalles adicionales disponibles.</Typography>}\r\n                    </Grid>\r\n\r\n                    <Typography variant=\"h6\" component=\"div\" style={{ marginTop: '20px' }}>\r\n                                Árboles en la Parcela\r\n                    </Typography>\r\n                    {data.arboles && data.arboles.length > 0 ? (\r\n                        <>\r\n\r\n                            {data.arboles.map((arbol, index) => (\r\n                                <Typography variant=\"body2\" key={index}>\r\n                                    {renderTrees(arbol)}\r\n                                </Typography>\r\n                            ))}\r\n                        </>\r\n                    ) : <Typography style={{ marginLeft: '20px' }}>No existen datos de árboles disponibles.</Typography>}\r\n\r\n                    <Typography variant=\"body2\" style={{ marginTop: '20px' }}>\r\n                        Última Convergencia: {data.convergencia && data.convergencia.cat_fechaultimaconv ? new Date(data.convergencia.cat_fechaultimaconv).toLocaleDateString() : 'No disponible'}\r\n                    </Typography>\r\n                    <Typography variant=\"body2\">\r\n                        Fecha del Vuelo: {(data.vuelo && data.vuelo.fecha_vuelo) || 'No disponible'}\r\n                    </Typography>\r\n                    </div>\r\n                </CardContent>\r\n            </Card>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default DataDisplay;","import React, { useState } from 'react';\r\nimport { TextField, Button, Card, CardContent } from '@mui/material';\r\nimport DataDisplay from '../componentsJS/DataDisplay';\r\n\r\nfunction CadastralSearch({ onSubmit }) {\r\n    const [parcela, setParcela] = useState('');\r\n    const [provincia, setProvincia] = useState('');\r\n    const [municipio, setMunicipio] = useState('');\r\n    const [poligono, setPoligono] = useState('');\r\n    const [recintoNum, setRecintoNum] = useState('');\r\n    const [result, setResult] = useState(null);\r\n    const [loading, setLoading] = useState(false);\r\n    const [showResults, setShowResults] = useState(false); \r\n\r\n    // Función para enviar datos al backend\r\n    const handleSubmit = async () => {\r\n        setLoading(true);\r\n\r\n        // Rellena ceros a la izquierda si es necesario\r\n        const provinciaFormatted = provincia.padStart(2, '0');\r\n        const municipioFormatted = municipio.padStart(3, '0');\r\n        const poligonoFormatted = poligono.padStart(3, '0');\r\n        const parcelaFormatted = parcela.padStart(5, '0');\r\n\r\n        // Combinar todo en el formato correcto con la 'A' en la posición correcta\r\n        const cadastralRef = `${provinciaFormatted}${municipioFormatted}A${poligonoFormatted}${parcelaFormatted}`;\r\n\r\n        const apiUrl = `http://localhost:5004/cadastral/${cadastralRef}`;\r\n        const queryParams = `?recintoNum=${recintoNum}`;\r\n\r\n        try {\r\n            const response = await fetch(`${apiUrl}${queryParams}`);\r\n            const data = await response.json();\r\n            console.log(data)\r\n            onSubmit(data.output);    \r\n            setResult(data.parcelInfo);\r\n            setShowResults(true);\r\n        } catch (error) {\r\n            console.error(\"Error fetching data: \", error);\r\n            setResult({ error: \"Failed to fetch data\" });\r\n        }\r\n\r\n        setLoading(false);\r\n    };    \r\n    const handleBack = () => {\r\n        setShowResults(false); // Ocultar los resultados y mostrar de nuevo el formulario\r\n    };\r\n\r\n    return (\r\n        <div>\r\n        {!showResults ? (\r\n            <Card style={{ maxWidth: 500, margin: '20px auto' }}>\r\n    <CardContent>\r\n        <TextField\r\n            fullWidth\r\n            label=\"Provincia\"\r\n            variant=\"outlined\"\r\n            value={provincia}\r\n            onChange={e => setProvincia(e.target.value)}\r\n            style={{ marginBottom: 16 }}\r\n        />\r\n        <TextField\r\n            fullWidth\r\n            label=\"Municipio\"\r\n            variant=\"outlined\"\r\n            value={municipio}\r\n            onChange={e => setMunicipio(e.target.value)}\r\n            style={{ marginBottom: 16 }}\r\n        />\r\n        <TextField\r\n            fullWidth\r\n            label=\"Polígono\"\r\n            variant=\"outlined\"\r\n            value={poligono}\r\n            onChange={e => setPoligono(e.target.value)}\r\n            style={{ marginBottom: 16 }}\r\n        />\r\n        <TextField\r\n            fullWidth\r\n            label=\"Parcela\"\r\n            variant=\"outlined\"\r\n            value={parcela}\r\n            onChange={e => setParcela(e.target.value)}\r\n            style={{ marginBottom: 16 }}\r\n        />\r\n        <TextField\r\n            fullWidth\r\n            label=\"Número del Recinto\"\r\n            variant=\"outlined\"\r\n            value={recintoNum}\r\n            onChange={e => setRecintoNum(e.target.value)}\r\n            style={{ marginBottom: 16 }}\r\n        />\r\n        <Button variant=\"contained\" color=\"primary\" onClick={handleSubmit} disabled={loading}>\r\n            Submit\r\n        </Button>\r\n    </CardContent>\r\n</Card>\r\n\r\n        ) : (\r\n            <DataDisplay data={result} onBack={handleBack} />\r\n        )}\r\n    </div>\r\n\r\n    );\r\n}\r\n\r\nexport default CadastralSearch;","import indigo from '@material-ui/core/colors/indigo';\r\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\r\nimport M from 'materialize-css';\r\nimport React from 'react';\r\n\r\nimport { ACCESS_TOKEN } from '@/config';\r\nimport CadastralSearch from '@components/componentsReact/CadastralSearch';\r\nimport { Slide } from '@mui/material';\r\nimport Card from '@mui/material/Card';\r\nimport CardContent from '@mui/material/CardContent';\r\nimport emitter from '@utils/events.utils';\r\nimport { Icon, IconButton, Typography } from '@material-ui/core';\r\n\r\nimport '@styles/dataController.style.css';\r\n\r\nconst theme = createTheme({\r\n    palette: {\r\n        primary: {\r\n            main: indigo.A200\r\n        }\r\n    }\r\n});\r\n\r\nconst styles = {\r\n    root: {\r\n        position: 'fixed',\r\n        top: 74,\r\n        right: 10,\r\n        borderRadius: 4,\r\n        minWidth: 350,\r\n        margin: 0,\r\n        width:'auto',\r\n        zIndex: 900\r\n    },\r\n    header: {\r\n        backgroundColor: 'rgb(138, 213, 137)'\r\n    },\r\n    closeBtn: {\r\n        position: 'absolute',\r\n        top: 6,\r\n        right: 8,\r\n        fontSize: 22\r\n    },\r\n    searchField: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        width: '100%',\r\n        height: 40,\r\n        padding: '2px 4px'\r\n    },\r\n    searchBox: {\r\n        marginLeft: 8,\r\n        flex: 1,\r\n        border: 'none !important'\r\n    },\r\n    searchBoxBtn: {\r\n        padding: 8\r\n    },\r\n    searchOptionsContainer: {\r\n        padding: '5px 2px'\r\n    },\r\n    searchOption: {\r\n        color: 'rgba(0, 0, 0, 0.6)',\r\n        cursor: 'pointer'\r\n    },\r\n    searchBoxProgress: {\r\n        marginRight: 8\r\n    },\r\n    searchBoxDivider: {\r\n        width: 1,\r\n        height: 28,\r\n        margin: 4\r\n    },\r\n    resultWrapperOpen: {\r\n        maxWidth: 800\r\n    },\r\n    resultWrapperClosed: {\r\n        maxWidth: 350\r\n    },\r\n    resultContainer: {\r\n        paddingTop: 0,\r\n        paddingBottom: 0\r\n    },\r\n    resultTable: {\r\n        boxShadow: 'none'\r\n    },\r\n    inputBox: {\r\n        width: 240,\r\n        marginTop: 15\r\n    },\r\n    uploadBoxInput: {\r\n        display: 'none'\r\n    },\r\n    uploadBoxBtnEdit: {\r\n        width: 40,\r\n        height: 40,\r\n        lineHeight: '40px',\r\n        textAlign: 'center',\r\n        borderRadius: '50%',\r\n        fontSize: 22\r\n    },\r\n    wrapBtn: {\r\n        position: 'absolute',\r\n        bottom: 12,\r\n        left: 18,\r\n        padding: 10,\r\n        fontSize: 24\r\n    },\r\n    addPointWrapperOpen: {\r\n        maxWidth: 350\r\n    },\r\n    addPointWrapperClose: {\r\n        width: 0\r\n    },\r\n    uploadBoxBtnAdd: {\r\n        width: 90,\r\n        height: 90,\r\n        lineHeight: '90px',\r\n        textAlign: 'center',\r\n        borderRadius: '50%',\r\n        fontSize: 30,\r\n        backgroundColor: 'rgba(0, 0, 0, 0.08)'\r\n    },\r\n    previewImageContainer: {\r\n        display: 'flex',\r\n        alignItems: 'center'\r\n    },\r\n    nameTextField: {\r\n        margin: '0 20px 0 13px'\r\n    },\r\n    pinyinTextField: {\r\n        margin: '10px 20px 10px 13px'\r\n    },\r\n    introTextField: {\r\n        width: '100%',\r\n        marginTop: 5\r\n    },\r\n    locationImageContainer: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center'\r\n    },\r\n    locationImage: {\r\n        display: 'block',\r\n        marginTop: 5,\r\n        width: 225,\r\n        height: 140,\r\n        borderRadius: 3,\r\n        cursor: 'pointer'\r\n    },\r\n    locationLabel: {\r\n        display: 'block',\r\n        marginTop: 6\r\n    },\r\n    actions: {\r\n        paddingTop: 10\r\n    },\r\n    saveBtn: {\r\n        display: 'inline-block',\r\n        position: 'relative',\r\n        marginRight: 10\r\n    },\r\n    saveBtnProgress: {\r\n        position: 'absolute',\r\n        top: '50%',\r\n        left: '50%',\r\n        marginTop: -12,\r\n        marginLeft: -12,\r\n    }\r\n};\r\n\r\nclass SearchController extends React.Component {\r\n    state = {\r\n        open: false,\r\n        resultUnwrap: false,\r\n        addPointUnwrap: false,\r\n        optionsOpen: false,\r\n        searching: false,\r\n        submitting: false,\r\n        anchorEl: null,\r\n        geometry: null,\r\n        previewImage: null,\r\n        previewMapUrl: null,\r\n        previewCoordinate: {},\r\n        loading: true,\r\n        traces: [],\r\n        precipitationData:[],\r\n        temperatureData: [],\r\n        watsatData: [],\r\n        layoutTemperature: {\r\n            title: 'Temperatura del Aire HC',\r\n            xaxis: {\r\n                title: 'Fecha',\r\n                type: 'date'\r\n            },\r\n            yaxis: { title: 'Temperatura (°C)' }\r\n        },\r\n        layoutPrecipitation: {\r\n            title: 'Precipitación',\r\n            xaxis: {\r\n                title: 'Fecha',\r\n                type: 'date'\r\n            },\r\n            yaxis: { title: 'Precipitación (mm)' }\r\n        },\r\n        layoutWatsat: {\r\n            title: 'Modelo Watsat',\r\n            xaxis: {\r\n                title: 'Fecha',\r\n                type: 'date'\r\n            },\r\n            yaxis: { title: 'Contenido Volumétrico de Agua' }\r\n        },\r\n        layout: {\r\n            barmode: 'stack',\r\n            title: 'Avistamientos de insectos por día',\r\n            xaxis: {\r\n                title: 'Fecha',\r\n                type: 'date'\r\n            },\r\n            yaxis: { title: 'Cantidad' }\r\n        },\r\n        items: [\r\n            {id: 1, title: 'item #1'},\r\n            {id: 2, title: 'item #2'},\r\n            {id: 3, title: 'item #3'},\r\n            {id: 4, title: 'item #4'},\r\n            {id: 5, title: 'item #5'}\r\n          ]\r\n        ,\r\n        data: [],\r\n        searchOptions: [\r\n            {\r\n                value: 'gid',\r\n                label: 'Gid',\r\n                checked: true\r\n            },\r\n            {\r\n                value: 'name',\r\n                label: 'Name',\r\n                checked: true\r\n            },\r\n            {\r\n                value: 'pinyin',\r\n                label: 'Pinyin',\r\n                checked: true\r\n            },\r\n            {\r\n                value: 'introduction',\r\n                label: 'Introduction',\r\n                checked: false\r\n            }\r\n        ]\r\n    }\r\n\r\n    initMaterialbox = () => {\r\n        var elems = document.querySelectorAll('.materialboxed');\r\n        M.Materialbox.init(elems, {\r\n            onOpenStart: (e) => {\r\n                e.parentNode.style.overflow = 'visible';\r\n            },\r\n            onCloseEnd: (e) => {\r\n                e.parentNode.style.overflow = 'hidden';\r\n            }\r\n        });\r\n    }\r\n    \r\n    resetPreviewImage = () => {\r\n        this.setState({\r\n            previewImage: null\r\n        });\r\n    }\r\n\r\n    resetNewPointData = () => {\r\n        this.setState({\r\n            previewMapUrl: null,\r\n            geometry: null,\r\n            previewCoordinate: {}\r\n        });\r\n    }\r\n\r\n    handleCloseClick = () => {\r\n        this.setState({\r\n            open: false\r\n        });\r\n    }\r\n\r\n    handleAddClick = () => {\r\n        // Get GeoJSON from map\r\n        emitter.emit('getPoint');\r\n\r\n        // Exit search mode\r\n        this.handleWrapClick();\r\n\r\n        // Initialize new point data\r\n        this.resetPreviewImage();\r\n        this.resetNewPointData();\r\n\r\n        // Wrap add point panel\r\n        this.setState({\r\n            addPointUnwrap: false\r\n        });\r\n    }\r\n\r\n    handleWrapClick = () => {\r\n        // Remove temp layer\r\n        emitter.emit('removeTempLayer');\r\n\r\n        // Reset preview image\r\n        this.resetPreviewImage();\r\n\r\n        // Clear search box\r\n        document.getElementById('search-box').value = '';\r\n\r\n        this.setState({\r\n            resultUnwrap: false\r\n        });\r\n    }\r\n\r\n    handleImageChange = (e) => {\r\n        // Check if file selected\r\n        if (!e.target.files[0]) {\r\n            return;\r\n        }\r\n\r\n        // Check image size (smaller than 1MB)\r\n        if (e.target.files[0].size > 1048576) {\r\n            emitter.emit('showSnackbar', 'error', 'Error: Image must be smaller than 1MB.');\r\n            return;\r\n        }\r\n\r\n        // Encode image with base64\r\n        this.state.reader.readAsDataURL(e.target.files[0]);\r\n    }\r\n\r\n    handleDoneEdit = () => {\r\n        // Reset preview image\r\n        this.resetPreviewImage();\r\n\r\n        // Initialize Materialbox\r\n        setTimeout(this.initMaterialbox, 800);\r\n    }\r\n\r\n    handleSearchOptionsClick = () => {\r\n        this.setState({\r\n            optionsOpen: true\r\n        });\r\n    }\r\n\r\n    handleSearchOptionsClose = () => {\r\n        this.setState({\r\n            optionsOpen: false\r\n        });\r\n    }\r\n\r\n    \r\n    handleSearchOptionChange = (e) => {\r\n        // Update search options\r\n        var option = null;\r\n        var flag = false;\r\n        this.state.searchOptions.map(item => {\r\n            if (item.value === e.currentTarget.value) {\r\n                item.checked = e.currentTarget.checked;\r\n                option = item;\r\n            }\r\n            flag = flag || item.checked;\r\n            return true;\r\n        });\r\n\r\n        // Check whether at least one option checked\r\n        if (!flag) {\r\n            emitter.emit('showSnackbar', 'error', 'Error: Please select at least one option.');\r\n            option.checked = true;\r\n            return;\r\n        }\r\n\r\n        this.setState({\r\n            searchOptions: this.state.searchOptions\r\n        });\r\n    }\r\n\r\n\r\n    handlePreviewClick = (e, data) => {\r\n        // Show marker and popup on map\r\n        emitter.emit('displayTempLayer', data);\r\n    }\r\n\r\n    handlePreviewMapClick = () => {\r\n        // Get GeoJSON from map\r\n        emitter.emit('getPoint');\r\n\r\n        this.setState({\r\n            addPointUnwrap: false\r\n        });\r\n    }\r\n\r\n\r\n\r\n    componentDidMount() {\r\n        // Initialize popover\r\n        var anchorEl = document.getElementById('anchorEl');\r\n        //this.fetchData();\r\n\r\n        // Initialize file reader\r\n        var reader = new FileReader();\r\n        reader.onload = (e) => {\r\n            // Get image info\r\n            var image = new Image();\r\n            image.src = e.target.result;\r\n\r\n            // Construct preview image object\r\n            var previewImage = {\r\n                longitude: image.height > image.width,\r\n                src: e.target.result\r\n            }\r\n\r\n            // Preview image\r\n            this.setState({\r\n                previewImage: previewImage\r\n            });\r\n        };\r\n\r\n        this.setState({\r\n            reader: reader,\r\n            anchorEl: anchorEl\r\n        });\r\n\r\n        // Bind event listeners\r\n        this.openSearchControllerListener = emitter.addListener('openSearchController', () => {\r\n            this.setState({\r\n                open: true\r\n            });\r\n         });\r\n\r\n        this.closeAllControllerListener = emitter.addListener('closeAllController', () => {\r\n            this.setState({\r\n                open: false\r\n            });\r\n        });\r\n\r\n        this.updatePointListener = emitter.addListener('setPoint', (feature, styleCode, zoom) => {\r\n            var [lng, lat] = feature.geometry.coordinates;\r\n            var previewMapUrl = `https://api.mapbox.com/styles/v1/${styleCode}/static/pin-s+f00(${lng},${lat})/${lng},${lat},${zoom},0,1/250x155@2x?access_token=${ACCESS_TOKEN}`;\r\n\r\n            this.setState({\r\n                addPointUnwrap: true,\r\n                previewMapUrl: previewMapUrl,\r\n                geometry: feature,\r\n                previewCoordinate: {\r\n                    lng: parseFloat(lng).toFixed(3),\r\n                    lat: parseFloat(lat).toFixed(3)\r\n                }\r\n            });\r\n        });\r\n\r\n        this.moveCapaListener = emitter.addListener('moveCapa', () => {\r\n            this.moveCapa();\r\n        });\r\n    }\r\n\r\n    handleDataSubmit = (data) => {\r\n        this.setState({url: data})\r\n        console.log(\"Datos recibidos en SearchController:\", data);\r\n        emitter.emit('moveURL', this.state.url);\r\n        // Puedes manejar los datos como desees aquí\r\n    };\r\n\r\n    moveCapa = () => {\r\n        var capa = this.state.capa\r\n        this.setState({ movedCapa: capa });\r\n        console.log(this.state.movedCapa)\r\n        console.log(typeof this.state.movedCapa)\r\n\r\n    }\r\n\r\n\r\n    componentWillUnmount() {\r\n        // Remove event listeners\r\n        emitter.removeListener(this.openSearchControllerListener);\r\n        emitter.removeListener(this.closeAllControllerListener);\r\n        emitter.removeListener(this.addPointListener);\r\n        emitter.removeListener(this.updatePointListener);\r\n\r\n        // Destory Materialbox\r\n        //                         {loading ? <p>Cargando datos...</p> : <Plot data={traces} layout={layout} />}\r\n\r\n        var elems = document.querySelectorAll('.materialboxed');\r\n        elems.map(elem => elem.destory());\r\n    }\r\n\r\n    render() {\r\n        \r\n        return (\r\n            <ThemeProvider theme={theme}>\r\n                <Slide direction=\"left\" in={this.state.open}>\r\n                    <Card style={styles.root}>\r\n                        {/* Card header */}\r\n                        <CardContent style={styles.header}>\r\n                            <Typography gutterBottom style={{ fontFamily: 'Lato, Arial, sans-serif', color:'white', fontWeight:'3' }} variant=\"h5\" component=\"h2\">Buscador por Ref. Catastral</Typography>\r\n                            <IconButton style={styles.closeBtn} aria-label=\"Close\" onClick={() => this.setState({ open: false })}>\r\n                                <Icon fontSize=\"inherit\">chevron_right</Icon>\r\n                            </IconButton>\r\n                        </CardContent>\r\n                        <CadastralSearch onSubmit={this.handleDataSubmit}/>\r\n\r\n                    </Card>\r\n                </Slide>\r\n\r\n                                    </ThemeProvider >\r\n        );\r\n    }\r\n}\r\n\r\nexport default SearchController;","import React, { useState } from 'react';\nimport Box from '@mui/material/Box';\nimport Stepper from '@mui/material/Stepper';\nimport Step from '@mui/material/Step';\nimport StepLabel from '@mui/material/StepLabel';\nimport Button from '@mui/material/Button';\nimport Typography from '@mui/material/Typography';\nimport TextField from '@mui/material/TextField';\nimport InputLabel from '@mui/material/InputLabel';\nimport Select from '@mui/material/Select';\nimport MenuItem from '@mui/material/MenuItem';\nimport Plot from 'react-plotly.js';\nimport Checkbox from '@mui/material/Checkbox';\nimport ListItemText from '@mui/material/ListItemText';\nimport OutlinedInput from '@mui/material/OutlinedInput';\nimport { saveAs } from 'file-saver';\n\nconst steps = ['Date Selection', 'Choose Equipment Type', 'Select Data Types'];\n\nexport default function HorizontalLinearStepperData({ onSubmit }) {\n  const [activeStep, setActiveStep] = useState(0);\n  const [plotData, setPlotData] = useState([]);\n  const [formData, setFormData] = useState({\n    startDate: '',\n    endDate: '',\n    equipmentType: '',\n    dataTypes: [] // Updated for multiple data types\n  });\n  const [dataTypes, setDataTypes] = useState([]);\n\n  const handleNext = () => {\n    setActiveStep((prevActiveStep) => prevActiveStep + 1);\n  };\n\n  const handleBack = () => {\n    setActiveStep((prevActiveStep) => prevActiveStep - 1);\n  };\n\n  const handleReset = () => {\n    setActiveStep(0);\n    setFormData({\n      startDate: '',\n      endDate: '',\n      equipmentType: '',\n      dataTypes: []\n    });\n    setPlotData([]);\n  };\n\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n    setFormData((prevFormData) => ({\n      ...prevFormData,\n      [name]: value\n    }));\n\n    if (name === 'equipmentType') {\n      fetchEquipmentDataTypes(value);\n    }\n  };\n\n  const fetchEquipmentDataTypes = async (type) => {\n    try {\n      const response = await fetch(`http://localhost:5003/dataTypes/${type}`);\n      const data = await response.json();\n      setDataTypes(data);\n    } catch (error) {\n      console.error(\"Error fetching data types: \", error);\n    }\n  };\n\n  const units = {\n    \"Temperatura del aire HC\": \"°C\",\n    \"Temperatura del bulbo húmedo\": \"°C\",\n    \"Punto de Rocío\": \"°C\",\n    \"Radiación solar\": \"W/m2\",\n    \"DPV\": \"kPa\",\n    \"Humedad relativa HC\": \"%\",\n    \"Precipitación\": \"mm\",\n    \"Humedad de la hoja\": \"mín\",\n    \"Velocidad de Viento\": \"m/s\",\n    \"Ráfagas de Viento\": \"m/s\",\n    \"Dirección de Viento\": \"deg\",\n    \"EnviroPro, sensor de humedad del suelo 1\": \"%\",\n    \"EnviroPro, sensor de humedad del suelo 2\": \"%\",\n    \"EnviroPro, sensor de humedad del suelo 3\": \"%\",\n    \"EnviroPro, sensor de humedad del suelo 4\": \"%\",\n    \"EnviroPro, sensor de humedad del suelo 5\": \"%\",\n    \"EnviroPro, sensor de humedad del suelo 6\": \"%\",\n    \"EnviroPro, sensor de humedad del suelo 7\": \"%\",\n    \"EnviroPro, sensor de humedad del suelo 8\": \"%\",\n    \"EnviroPro, sensor de temperatura del suelo 1\": \"°C\",\n    \"EnviroPro, sensor de temperatura del suelo 2\": \"°C\",\n    \"EnviroPro, sensor de temperatura del suelo 3\": \"°C\",\n    \"EnviroPro, sensor de temperatura del suelo 4\": \"°C\",\n    \"EnviroPro, sensor de temperatura del suelo 5\": \"°C\",\n    \"EnviroPro, sensor de temperatura del suelo 6\": \"°C\",\n    \"EnviroPro, sensor de temperatura del suelo 7\": \"°C\",\n    \"EnviroPro, sensor de temperatura del suelo 8\": \"°C\",\n    \"Panel solar\": \"mV\",\n    \"Batería\": \"mV\",\n    \"DeltaT\": \"°C\",\n    \"Duración del sol\": \"mín\"\n  };\n\n  const obtenerUnidad = (tipoDato) => {\n    return units[tipoDato] || \"\";\n  };\n\n  const downloadCSV = () => {\n    const rows = plotData.flatMap((trace) => {\n      return trace.x.map((date, index) => ({\n        Date: date.toISOString(),\n        Value: trace.y[index],\n        Trace: trace.name\n      }));\n    });\n\n    const csvContent = [\n      ['Date', 'Value', 'Trace'], // Headers\n      ...rows.map((row) => [row.Date, row.Value, row.Trace])\n    ]\n      .map((e) => e.join(','))\n      .join('\\n');\n\n    const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\n    saveAs(blob, 'data.csv');\n  };\n\n  const processPlotData = (data) => {\n    const traces = formData.dataTypes.map((dataType) => {\n    console.log(dataType)\n    const filteredData = data\n      .filter((item) => item.measurement === dataType)\n      .sort((a, b) => new Date(a.sampling_date) - new Date(b.sampling_date)); // Ordenar por fecha\n      console.log(filteredData)\n      return {\n        type: 'scatter',\n        mode: 'lines',\n        x: filteredData.map(item => new Date(item.sampling_date)),\n        y: filteredData.map(item => item.measurement_value),\n        name: `${dataType} (${obtenerUnidad(dataType)})`\n      };\n    });\n\n    setPlotData(traces);\n  };\n\n  const fetchData = async () => {\n    try {\n      const response = await fetch(`http://localhost:5003/data`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          category: formData.equipmentType,\n          dataTypes: formData.dataTypes,\n          startDate: formData.startDate,\n          endDate: formData.endDate\n        })\n      });\n\n      const result = await response.json();\n\n      if (result && result.data) {\n        const data = JSON.parse(result.data);\n        console.log(data)\n        processPlotData(data);\n      }\n    } catch (error) {\n      console.error(\"Failed to fetch data: \", error);\n    }\n  };\n\n  const getStepContent = (step) => {\n    switch (step) {\n      case 0:\n        return (\n          <Box sx={{ display: 'flex', justifyContent: 'center', alignItems: 'center', flexDirection: 'column' }}>\n            <TextField\n              label=\"Start Date\"\n              type=\"date\"\n              name=\"startDate\"\n              value={formData.startDate}\n              onChange={handleChange}\n              InputLabelProps={{ shrink: true }}\n              sx={{ margin: 1 }}\n            />\n            <TextField\n              label=\"End Date\"\n              type=\"date\"\n              name=\"endDate\"\n              value={formData.endDate}\n              onChange={handleChange}\n              InputLabelProps={{ shrink: true }}\n              sx={{ margin: 1 }}\n            />\n          </Box>\n        );\n      case 1:\n        return (\n          <Box sx={{ display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center' }}>\n            <InputLabel id=\"equipment-type-label\">Equipment Type</InputLabel>\n            <Select\n              labelId=\"equipment-type-label\"\n              id=\"equipment-type-select\"\n              value={formData.equipmentType}\n              onChange={handleChange}\n              name=\"equipmentType\"\n              sx={{ width: 200, margin: 1 }}\n            >\n              <MenuItem value=\"Sensors\">Sensors</MenuItem>\n            </Select>\n          </Box>\n        );\n      case 2:\n        return (\n          <Box sx={{ display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center' }}>\n            <InputLabel id=\"data-type-label\">Data Types</InputLabel>\n            <Select\n              labelId=\"data-type-label\"\n              id=\"data-type-select\"\n              multiple\n              value={formData.dataTypes}\n              onChange={handleChange}\n              name=\"dataTypes\"\n              input={<OutlinedInput />}\n              renderValue={(selected) => selected.join(', ')}\n              sx={{ width: 300, margin: 1 }}\n            >\n              {dataTypes.map((type) => (\n                <MenuItem key={type} value={type}>\n                  <Checkbox checked={formData.dataTypes.indexOf(type) > -1} />\n                  <ListItemText primary={type} />\n                </MenuItem>\n              ))}\n            </Select>\n          </Box>\n        );\n      default:\n        return 'Unknown step';\n    }\n  };\n\n  return (\n    <Box sx={{ width: '100%', display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center' }}>\n      <Stepper activeStep={activeStep} sx={{ width: '80%', marginBottom: 2 }}>\n        {steps.map((label) => (\n          <Step key={label}>\n            <StepLabel>{label}</StepLabel>\n          </Step>\n        ))}\n      </Stepper>\n      <div>\n        {activeStep === steps.length ? (\n          <>\n            <Typography sx={{ mt: 2, mb: 1 }} />\n\n            <Plot data={plotData} layout={{ title: 'Data Visualization' }} />\n            <Button onClick={handleReset}>Reset</Button>\n            <Button variant=\"contained\" color=\"primary\" onClick={downloadCSV}>\n                Descargar CSV\n              </Button>\n          </>\n        ) : (\n          <>\n            {getStepContent(activeStep)}\n            <Box sx={{ display: 'flex', flexDirection: 'row', pt: 2, alignItems: 'center', justifyContent: 'center' }}>\n              <Button disabled={activeStep === 0} onClick={handleBack}>\n                Back\n              </Button>\n              <Button onClick={() => { if (activeStep === steps.length - 1) fetchData(); handleNext(); }}>\n                {activeStep === steps.length - 1 ? 'Finish' : 'Next'}\n              </Button>\n            </Box>\n          </>\n        )}\n      </div>\n    </Box>\n  );\n}","/* Written by Ye Liu */\n\nimport { Icon, IconButton, Typography } from '@material-ui/core';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Slide from '@material-ui/core/Slide';\nimport indigo from '@material-ui/core/colors/indigo';\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\nimport M from 'materialize-css';\nimport React from 'react';\n\nimport { ACCESS_TOKEN } from '@/config';\nimport '@styles/dataController.style.css';\nimport emitter from '@utils/events.utils';\nimport HorizontalLinearStepperData from '../componentsJS/StepperData';\n\nconst theme = createTheme({\n    palette: {\n        primary: {\n            main: indigo.A200\n        }\n    }\n});\n\nconst styles = {\n    root: {\n        position: 'fixed',\n        top: 74,\n        right: 10,\n        borderRadius: 4,\n        minWidth: 350,\n        margin: 0,\n        width:900,\n        zIndex: 900\n    },\n    header: {\n        backgroundColor: 'rgb(138, 213, 137)'\n    },\n    closeBtn: {\n        position: 'absolute',\n        top: 6,\n        right: 8,\n        fontSize: 22\n    },\n    searchField: {\n        display: 'flex',\n        alignItems: 'center',\n        width: '100%',\n        height: 40,\n        padding: '2px 4px'\n    },\n    searchBox: {\n        marginLeft: 8,\n        flex: 1,\n        border: 'none !important'\n    },\n    searchBoxBtn: {\n        padding: 8\n    },\n    searchOptionsContainer: {\n        padding: '5px 2px'\n    },\n    searchOption: {\n        color: 'rgba(0, 0, 0, 0.6)',\n        cursor: 'pointer'\n    },\n    searchBoxProgress: {\n        marginRight: 8\n    },\n    searchBoxDivider: {\n        width: 1,\n        height: 28,\n        margin: 4\n    },\n    resultWrapperOpen: {\n        maxWidth: 800\n    },\n    resultWrapperClosed: {\n        maxWidth: 350\n    },\n    resultContainer: {\n        paddingTop: 0,\n        paddingBottom: 0\n    },\n    resultTable: {\n        boxShadow: 'none'\n    },\n    uploadBoxInput: {\n        display: 'none'\n    },\n    uploadBoxBtnEdit: {\n        width: 40,\n        height: 40,\n        lineHeight: '40px',\n        textAlign: 'center',\n        borderRadius: '50%',\n        fontSize: 22\n    },\n    wrapBtn: {\n        position: 'absolute',\n        bottom: 12,\n        left: 18,\n        padding: 10,\n        fontSize: 24\n    },\n    addPointWrapperOpen: {\n        maxWidth: 350\n    },\n    addPointWrapperClose: {\n        width: 0\n    },\n    uploadBoxBtnAdd: {\n        width: 90,\n        height: 90,\n        lineHeight: '90px',\n        textAlign: 'center',\n        borderRadius: '50%',\n        fontSize: 30,\n        backgroundColor: 'rgba(0, 0, 0, 0.08)'\n    },\n    previewImageContainer: {\n        display: 'flex',\n        alignItems: 'center'\n    },\n    nameTextField: {\n        margin: '0 20px 0 13px'\n    },\n    pinyinTextField: {\n        margin: '10px 20px 10px 13px'\n    },\n    introTextField: {\n        width: '100%',\n        marginTop: 5\n    },\n    locationImageContainer: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center'\n    },\n    locationImage: {\n        display: 'block',\n        marginTop: 5,\n        width: 225,\n        height: 140,\n        borderRadius: 3,\n        cursor: 'pointer'\n    },\n    locationLabel: {\n        display: 'block',\n        marginTop: 6\n    },\n    actions: {\n        paddingTop: 10\n    },\n    saveBtn: {\n        display: 'inline-block',\n        position: 'relative',\n        marginRight: 10\n    },\n    saveBtnProgress: {\n        position: 'absolute',\n        top: '50%',\n        left: '50%',\n        marginTop: -12,\n        marginLeft: -12,\n    }\n};\n\nclass DataController extends React.Component {\n    state = {\n        open: false,\n        resultUnwrap: false,\n        addPointUnwrap: false,\n        optionsOpen: false,\n        searching: false,\n        submitting: false,\n        anchorEl: null,\n        geometry: null,\n        previewImage: null,\n        previewMapUrl: null,\n        previewCoordinate: {},\n        loading: true,\n        traces: [],\n        precipitationData:[],\n        temperatureData: [],\n        watsatData: [],\n        layoutTemperature: {\n            title: 'Temperatura del Aire HC',\n            xaxis: {\n                title: 'Fecha',\n                type: 'date'\n            },\n            yaxis: { title: 'Temperatura (°C)' }\n        },\n        layoutPrecipitation: {\n            title: 'Precipitación',\n            xaxis: {\n                title: 'Fecha',\n                type: 'date'\n            },\n            yaxis: { title: 'Precipitación (mm)' }\n        },\n        layoutWatsat: {\n            title: 'Modelo Watsat',\n            xaxis: {\n                title: 'Fecha',\n                type: 'date'\n            },\n            yaxis: { title: 'Contenido Volumétrico de Agua' }\n        },\n        layout: {\n            barmode: 'stack',\n            title: 'Avistamientos de insectos por día',\n            xaxis: {\n                title: 'Fecha',\n                type: 'date'\n            },\n            yaxis: { title: 'Cantidad' }\n        },\n        items: [\n            {id: 1, title: 'item #1'},\n            {id: 2, title: 'item #2'},\n            {id: 3, title: 'item #3'},\n            {id: 4, title: 'item #4'},\n            {id: 5, title: 'item #5'}\n          ]\n        ,\n        data: [],\n        searchOptions: [\n            {\n                value: 'gid',\n                label: 'Gid',\n                checked: true\n            },\n            {\n                value: 'name',\n                label: 'Name',\n                checked: true\n            },\n            {\n                value: 'pinyin',\n                label: 'Pinyin',\n                checked: true\n            },\n            {\n                value: 'introduction',\n                label: 'Introduction',\n                checked: false\n            }\n        ]\n    }\n\n    initMaterialbox = () => {\n        var elems = document.querySelectorAll('.materialboxed');\n        M.Materialbox.init(elems, {\n            onOpenStart: (e) => {\n                e.parentNode.style.overflow = 'visible';\n            },\n            onCloseEnd: (e) => {\n                e.parentNode.style.overflow = 'hidden';\n            }\n        });\n    }\n    \n    resetPreviewImage = () => {\n        this.setState({\n            previewImage: null\n        });\n    }\n\n    resetNewPointData = () => {\n        this.setState({\n            previewMapUrl: null,\n            geometry: null,\n            previewCoordinate: {}\n        });\n    }\n\n    handleCloseClick = () => {\n        this.setState({\n            open: false\n        });\n    }\n\n    handleAddClick = () => {\n        // Get GeoJSON from map\n        emitter.emit('getPoint');\n\n        // Exit search mode\n        this.handleWrapClick();\n\n        // Initialize new point data\n        this.resetPreviewImage();\n        this.resetNewPointData();\n\n        // Wrap add point panel\n        this.setState({\n            addPointUnwrap: false\n        });\n    }\n\n    handleWrapClick = () => {\n        // Remove temp layer\n        emitter.emit('removeTempLayer');\n\n        // Reset preview image\n        this.resetPreviewImage();\n\n        // Clear search box\n        document.getElementById('search-box').value = '';\n\n        this.setState({\n            resultUnwrap: false\n        });\n    }\n\n    handleImageChange = (e) => {\n        // Check if file selected\n        if (!e.target.files[0]) {\n            return;\n        }\n\n        // Check image size (smaller than 1MB)\n        if (e.target.files[0].size > 1048576) {\n            emitter.emit('showSnackbar', 'error', 'Error: Image must be smaller than 1MB.');\n            return;\n        }\n\n        // Encode image with base64\n        this.state.reader.readAsDataURL(e.target.files[0]);\n    }\n\n    handleDoneEdit = () => {\n        // Reset preview image\n        this.resetPreviewImage();\n\n        // Initialize Materialbox\n        setTimeout(this.initMaterialbox, 800);\n    }\n\n    handleSearchOptionsClick = () => {\n        this.setState({\n            optionsOpen: true\n        });\n    }\n\n    handleSearchOptionsClose = () => {\n        this.setState({\n            optionsOpen: false\n        });\n    }\n\n    \n    handleSearchOptionChange = (e) => {\n        // Update search options\n        var option = null;\n        var flag = false;\n        this.state.searchOptions.map(item => {\n            if (item.value === e.currentTarget.value) {\n                item.checked = e.currentTarget.checked;\n                option = item;\n            }\n            flag = flag || item.checked;\n            return true;\n        });\n\n        // Check whether at least one option checked\n        if (!flag) {\n            emitter.emit('showSnackbar', 'error', 'Error: Please select at least one option.');\n            option.checked = true;\n            return;\n        }\n\n        this.setState({\n            searchOptions: this.state.searchOptions\n        });\n    }\n\n\n    componentDidMount() {\n        // Initialize popover\n        var anchorEl = document.getElementById('anchorEl');\n        // Initialize file reader\n        var reader = new FileReader();\n        reader.onload = (e) => {\n            // Get image info\n            var image = new Image();\n            image.src = e.target.result;\n\n            // Construct preview image object\n            var previewImage = {\n                longitude: image.height > image.width,\n                src: e.target.result\n            }\n\n            // Preview image\n            this.setState({\n                previewImage: previewImage\n            });\n        };\n\n        this.setState({\n            reader: reader,\n            anchorEl: anchorEl\n        });\n\n        // Bind event listeners\n        this.openDataControllerListener = emitter.addListener('openDataController', () => {\n            this.setState({\n                open: true\n            });\n         });\n\n        this.closeAllControllerListener = emitter.addListener('closeAllController', () => {\n            this.setState({\n                open: false\n            });\n        });\n\n        this.updatePointListener = emitter.addListener('setPoint', (feature, styleCode, zoom) => {\n            var [lng, lat] = feature.geometry.coordinates;\n            var previewMapUrl = `https://api.mapbox.com/styles/v1/${styleCode}/static/pin-s+f00(${lng},${lat})/${lng},${lat},${zoom},0,1/250x155@2x?access_token=${ACCESS_TOKEN}`;\n\n            this.setState({\n                addPointUnwrap: true,\n                previewMapUrl: previewMapUrl,\n                geometry: feature,\n                previewCoordinate: {\n                    lng: parseFloat(lng).toFixed(3),\n                    lat: parseFloat(lat).toFixed(3)\n                }\n            });\n        });\n    }\n\n\n\n\n    componentWillUnmount() {\n        // Remove event listeners\n        emitter.removeListener(this.openDataControllerListener);\n        emitter.removeListener(this.closeAllControllerListener);\n        emitter.removeListener(this.addPointListener);\n        emitter.removeListener(this.updatePointListener);\n\n        // Destory Materialbox\n        //                         {loading ? <p>Cargando datos...</p> : <Plot data={traces} layout={layout} />}\n\n        var elems = document.querySelectorAll('.materialboxed');\n        elems.map(elem => elem.destory());\n    }\n\n    render() {        \n        return (\n            <ThemeProvider theme={theme}>\n                <Slide direction=\"left\" in={this.state.open}>\n                    <Card style={styles.root}>\n                        {/* Card header */}\n                        <CardContent style={styles.header}>\n                            <Typography gutterBottom style={{ fontFamily: 'Lato, Arial, sans-serif', color:'white', fontWeight:'3' }} variant=\"h5\" component=\"h2\">Seleccionar Datos</Typography>\n                            <IconButton style={styles.closeBtn} aria-label=\"Close\" onClick={() => this.setState({ open: false })}>\n                                <Icon fontSize=\"inherit\">chevron_right</Icon>\n                            </IconButton>\n                        </CardContent>\n                        &nbsp;&nbsp;&nbsp;&nbsp;\n                        <HorizontalLinearStepperData/>\n\n                    </Card>\n                </Slide>\n            </ThemeProvider >\n        );\n    }\n}\n\nexport default DataController;\n","/* Written by Ye Liu */\r\n\r\nimport React from 'react';\r\nimport M from 'materialize-css';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport { Button, FormControl, InputLabel, MenuItem, Select, Typography, Icon, IconButton } from '@material-ui/core';\r\n\r\nimport { MuiThemeProvider, createTheme } from '@material-ui/core/styles';\r\nimport indigo from '@material-ui/core/colors/indigo';\r\n\r\nimport emitter from '@utils/events.utils';\r\nimport { ACCESS_TOKEN } from '@/config';\r\n\r\nimport '@styles/dataController.style.css';\r\n\r\nconst theme = createTheme({\r\n    palette: {\r\n        primary: {\r\n            main: indigo.A200\r\n        }\r\n    }\r\n});\r\n\r\nconst styles = {\r\n    root: {\r\n        position: 'fixed',\r\n        top: 74,\r\n        right: 10,\r\n        borderRadius: 4,\r\n        minWidth: 350,\r\n        margin: 0,\r\n        zIndex: 900\r\n    },\r\n    header: {\r\n        backgroundColor: 'rgb(138, 213, 137)'\r\n    },\r\n    content: {\r\n        paddingBottom: 16\r\n    },\r\n    closeBtn: {\r\n        position: 'absolute',\r\n        top: 6,\r\n        right: 8,\r\n        fontSize: 22\r\n    },\r\n    searchField: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        width: '100%',\r\n        height: 40,\r\n        padding: '2px 4px'\r\n    },\r\n    searchBox: {\r\n        marginLeft: 8,\r\n        flex: 1,\r\n        border: 'none !important'\r\n    },\r\n    searchBoxBtn: {\r\n        padding: 8\r\n    },\r\n    searchOptionsContainer: {\r\n        padding: '5px 2px'\r\n    },\r\n    searchOption: {\r\n        color: 'rgba(0, 0, 0, 0.6)',\r\n        cursor: 'pointer'\r\n    },\r\n    searchBoxProgress: {\r\n        marginRight: 8\r\n    },\r\n    searchBoxDivider: {\r\n        width: 1,\r\n        height: 28,\r\n        margin: 4\r\n    },\r\n    resultWrapperOpen: {\r\n        maxWidth: 800\r\n    },\r\n    resultWrapperClosed: {\r\n        maxWidth: 350\r\n    },\r\n    resultContainer: {\r\n        paddingTop: 0,\r\n        paddingBottom: 0\r\n    },\r\n    resultTable: {\r\n        boxShadow: 'none'\r\n    },\r\n    uploadBoxInput: {\r\n        display: 'none'\r\n    },\r\n    uploadBoxBtnEdit: {\r\n        width: 40,\r\n        height: 40,\r\n        lineHeight: '40px',\r\n        textAlign: 'center',\r\n        borderRadius: '50%',\r\n        fontSize: 22\r\n    },\r\n    wrapBtn: {\r\n        position: 'absolute',\r\n        bottom: 12,\r\n        left: 18,\r\n        padding: 10,\r\n        fontSize: 24\r\n    },\r\n    addPointWrapperOpen: {\r\n        maxWidth: 350\r\n    },\r\n    addPointWrapperClose: {\r\n        width: 0\r\n    },\r\n    uploadBoxBtnAdd: {\r\n        width: 90,\r\n        height: 90,\r\n        lineHeight: '90px',\r\n        textAlign: 'center',\r\n        borderRadius: '50%',\r\n        fontSize: 30,\r\n        backgroundColor: 'rgba(0, 0, 0, 0.08)'\r\n    },\r\n    previewImageContainer: {\r\n        display: 'flex',\r\n        alignItems: 'center'\r\n    },\r\n    nameTextField: {\r\n        margin: '0 20px 0 13px'\r\n    },\r\n    pinyinTextField: {\r\n        margin: '10px 20px 10px 13px'\r\n    },\r\n    introTextField: {\r\n        width: '100%',\r\n        marginTop: 5\r\n    },\r\n    locationImageContainer: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center'\r\n    },\r\n    locationImage: {\r\n        display: 'block',\r\n        marginTop: 5,\r\n        width: 225,\r\n        height: 140,\r\n        borderRadius: 3,\r\n        cursor: 'pointer'\r\n    },\r\n    locationLabel: {\r\n        display: 'block',\r\n        marginTop: 6\r\n    },\r\n    actions: {\r\n        paddingTop: 10\r\n    },\r\n    saveBtn: {\r\n        display: 'inline-block',\r\n        position: 'relative',\r\n        marginRight: 10\r\n    },\r\n    saveBtnProgress: {\r\n        position: 'absolute',\r\n        top: '50%',\r\n        left: '50%',\r\n        marginTop: -12,\r\n        marginLeft: -12,\r\n    }\r\n};\r\n\r\nclass ModelController extends React.Component {\r\n    state = {\r\n        Ic:0,\r\n        Ih:0, \r\n        Ig:0,\r\n        Io:0,\r\n        If:0,\r\n        IoType:0,\r\n        sustainabilityIndex:null,\r\n        decision:null,\r\n        open: false,\r\n        resultUnwrap: false,\r\n        addPointUnwrap: false,\r\n        optionsOpen: false,\r\n        searching: false,\r\n        submitting: false,\r\n        anchorEl: null,\r\n        geometry: null,\r\n        previewImage: null,\r\n        previewMapUrl: null,\r\n        previewCoordinate: {},\r\n        loading: true,\r\n        traces: [],\r\n        precipitationData:[],\r\n        temperatureData: [],\r\n        watsatData: [],\r\n        layoutTemperature: {\r\n            title: 'Temperatura del Aire HC',\r\n            xaxis: {\r\n                title: 'Fecha',\r\n                type: 'date'\r\n            },\r\n            yaxis: { title: 'Temperatura (°C)' }\r\n        },\r\n        layoutPrecipitation: {\r\n            title: 'Precipitación',\r\n            xaxis: {\r\n                title: 'Fecha',\r\n                type: 'date'\r\n            },\r\n            yaxis: { title: 'Precipitación (mm)' }\r\n        },\r\n        layoutWatsat: {\r\n            title: 'Modelo Watsat',\r\n            xaxis: {\r\n                title: 'Fecha',\r\n                type: 'date'\r\n            },\r\n            yaxis: { title: 'Contenido Volumétrico de Agua' }\r\n        },\r\n        layout: {\r\n            barmode: 'stack',\r\n            title: 'Avistamientos de insectos por día',\r\n            xaxis: {\r\n                title: 'Fecha',\r\n                type: 'date'\r\n            },\r\n            yaxis: { title: 'Cantidad' }\r\n        },\r\n        items: [\r\n            {id: 1, title: 'item #1'},\r\n            {id: 2, title: 'item #2'},\r\n            {id: 3, title: 'item #3'},\r\n            {id: 4, title: 'item #4'},\r\n            {id: 5, title: 'item #5'}\r\n          ]\r\n        ,\r\n        data: [],\r\n        searchOptions: [\r\n            {\r\n                value: 'gid',\r\n                label: 'Gid',\r\n                checked: true\r\n            },\r\n            {\r\n                value: 'name',\r\n                label: 'Name',\r\n                checked: true\r\n            },\r\n            {\r\n                value: 'pinyin',\r\n                label: 'Pinyin',\r\n                checked: true\r\n            },\r\n            {\r\n                value: 'introduction',\r\n                label: 'Introduction',\r\n                checked: false\r\n            }\r\n        ]\r\n    }\r\n\r\n    calculateSustainabilityIndex = () => {\r\n        let IoValue = this.state.Io === 1 ? this.state.IoType : 0; // Ajustar el valor de Io basado en si se aplica o no fertilizante\r\n        const index = 2.45 * this.state.Ic + 2.18 * this.state.Ih + 1.64 * this.state.Ig + 1.09 * IoValue + 1 * this.state.If;\r\n        this.setState({\r\n            sustainabilityIndex:index\r\n        })\r\n    };\r\n\r\n    handleDecision = (choice) => {\r\n        this.setState({ decision: choice });\r\n      };    \r\n\r\n    initMaterialbox = () => {\r\n        var elems = document.querySelectorAll('.materialboxed');\r\n        M.Materialbox.init(elems, {\r\n            onOpenStart: (e) => {\r\n                e.parentNode.style.overflow = 'visible';\r\n            },\r\n            onCloseEnd: (e) => {\r\n                e.parentNode.style.overflow = 'hidden';\r\n            }\r\n        });\r\n    }\r\n    \r\n    resetPreviewImage = () => {\r\n        this.setState({\r\n            previewImage: null\r\n        });\r\n    }\r\n\r\n    resetNewPointData = () => {\r\n        this.setState({\r\n            previewMapUrl: null,\r\n            geometry: null,\r\n            previewCoordinate: {}\r\n        });\r\n    }\r\n\r\n    handleCloseClick = () => {\r\n        this.setState({\r\n            open: false\r\n        });\r\n    }\r\n\r\n    handleAddClick = () => {\r\n        // Get GeoJSON from map\r\n        emitter.emit('getPoint');\r\n\r\n        // Exit search mode\r\n        this.handleWrapClick();\r\n\r\n        // Initialize new point data\r\n        this.resetPreviewImage();\r\n        this.resetNewPointData();\r\n\r\n        // Wrap add point panel\r\n        this.setState({\r\n            addPointUnwrap: false\r\n        });\r\n    }\r\n\r\n    handleWrapClick = () => {\r\n        // Remove temp layer\r\n        emitter.emit('removeTempLayer');\r\n\r\n        // Reset preview image\r\n        this.resetPreviewImage();\r\n\r\n        // Clear search box\r\n        document.getElementById('search-box').value = '';\r\n\r\n        this.setState({\r\n            resultUnwrap: false\r\n        });\r\n    }\r\n\r\n    handleImageChange = (e) => {\r\n        // Check if file selected\r\n        if (!e.target.files[0]) {\r\n            return;\r\n        }\r\n\r\n        // Check image size (smaller than 1MB)\r\n        if (e.target.files[0].size > 1048576) {\r\n            emitter.emit('showSnackbar', 'error', 'Error: Image must be smaller than 1MB.');\r\n            return;\r\n        }\r\n\r\n        // Encode image with base64\r\n        this.state.reader.readAsDataURL(e.target.files[0]);\r\n    }\r\n\r\n    handleDoneEdit = () => {\r\n        // Reset preview image\r\n        this.resetPreviewImage();\r\n\r\n        // Initialize Materialbox\r\n        setTimeout(this.initMaterialbox, 800);\r\n    }\r\n\r\n    handleSearchOptionsClick = () => {\r\n        this.setState({\r\n            optionsOpen: true\r\n        });\r\n    }\r\n\r\n    handleSearchOptionsClose = () => {\r\n        this.setState({\r\n            optionsOpen: false\r\n        });\r\n    }\r\n\r\n    \r\n    handleSearchOptionChange = (e) => {\r\n        // Update search options\r\n        var option = null;\r\n        var flag = false;\r\n        this.state.searchOptions.map(item => {\r\n            if (item.value === e.currentTarget.value) {\r\n                item.checked = e.currentTarget.checked;\r\n                option = item;\r\n            }\r\n            flag = flag || item.checked;\r\n            return true;\r\n        });\r\n\r\n        // Check whether at least one option checked\r\n        if (!flag) {\r\n            emitter.emit('showSnackbar', 'error', 'Error: Please select at least one option.');\r\n            option.checked = true;\r\n            return;\r\n        }\r\n\r\n        this.setState({\r\n            searchOptions: this.state.searchOptions\r\n        });\r\n    }\r\n\r\n    handleSearchClick = () => {\r\n        // Exit add point mode\r\n        this.handleCancelClick();\r\n\r\n        // Get keyword\r\n        var keyword = document.getElementById('search-box').value;\r\n        if (!keyword) {\r\n            return;\r\n        }\r\n\r\n        // Show searching progress\r\n        this.setState({\r\n            searching: true\r\n        });\r\n\r\n        // Get search options\r\n        var options = {};\r\n        this.state.searchOptions.map(item => {\r\n            options[item.value] = item.checked;\r\n            return true;\r\n        });\r\n\r\n        // Initiate request\r\n    }\r\n\r\n    handlePreviewClick = (e, data) => {\r\n        // Show marker and popup on map\r\n        emitter.emit('displayTempLayer', data);\r\n    }\r\n\r\n    handlePreviewMapClick = () => {\r\n        // Get GeoJSON from map\r\n        emitter.emit('getPoint');\r\n\r\n        this.setState({\r\n            addPointUnwrap: false\r\n        });\r\n    }\r\n\r\n    handleSelectChange = (event) => {\r\n        this.setState({ [event.target.name]: Number(event.target.value) });\r\n    };\r\n\r\n    calculateSustainabilityIndex = () => {\r\n        const { Ic, Ih, Ig, Io, If, IoType } = this.state;\r\n        let IoValue = Io === 1 ? IoType : 0;\r\n        const index = 2.45 * Ic + 2.18 * Ih + 1.64 * Ig + 1.09 * IoValue + 1 * If;\r\n        this.setState({ sustainabilityIndex: index });\r\n    };\r\n\r\n\r\n    componentDidMount() {\r\n        // Initialize popover\r\n        var anchorEl = document.getElementById('anchorEl');\r\n\r\n        // Initialize file reader\r\n        var reader = new FileReader();\r\n        reader.onload = (e) => {\r\n            // Get image info\r\n            var image = new Image();\r\n            image.src = e.target.result;\r\n\r\n            // Construct preview image object\r\n            var previewImage = {\r\n                longitude: image.height > image.width,\r\n                src: e.target.result\r\n            }\r\n\r\n            // Preview image\r\n            this.setState({\r\n                previewImage: previewImage\r\n            });\r\n        };\r\n\r\n        this.setState({\r\n            reader: reader,\r\n            anchorEl: anchorEl\r\n        });\r\n\r\n        // Bind event listeners\r\n        this.openModelControllerListener = emitter.addListener('openModelController', () => {\r\n            this.setState({\r\n                open: true\r\n            });\r\n         });\r\n\r\n        this.closeAllControllerListener = emitter.addListener('closeAllController', () => {\r\n            this.setState({\r\n                open: false\r\n            });\r\n        });\r\n\r\n        this.updatePointListener = emitter.addListener('setPoint', (feature, styleCode, zoom) => {\r\n            var [lng, lat] = feature.geometry.coordinates;\r\n            var previewMapUrl = `https://api.mapbox.com/styles/v1/${styleCode}/static/pin-s+f00(${lng},${lat})/${lng},${lat},${zoom},0,1/250x155@2x?access_token=${ACCESS_TOKEN}`;\r\n\r\n            this.setState({\r\n                addPointUnwrap: true,\r\n                previewMapUrl: previewMapUrl,\r\n                geometry: feature,\r\n                previewCoordinate: {\r\n                    lng: parseFloat(lng).toFixed(3),\r\n                    lat: parseFloat(lat).toFixed(3)\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    \r\n    setIc(e){\r\n        this.setState({\r\n            Ic:e\r\n        })\r\n    }\r\n    setIh(e){\r\n        this.setState({\r\n            Ih:e\r\n        })\r\n    }\r\n    setIg(e){\r\n        this.setState({\r\n            Ig:e\r\n        })\r\n    }\r\n    setIo(e){\r\n        this.setState({\r\n            Io:e\r\n        })\r\n    }\r\n    setIoType(e){\r\n        this.setState({\r\n            IoType:e\r\n        })\r\n    }\r\n    setIf(e){\r\n        this.setState({\r\n            If:e\r\n        })\r\n    }\r\n    processTemperatureData = (data) => {\r\n        const trace = {\r\n            type: 'scatter', \r\n            mode: 'lines',\r\n            x: data.map(item => new Date(item.sampling_date)),\r\n            y: data.map(item => item.measurement_value),\r\n            name: 'Temperatura del Aire HC',\r\n        };\r\n\r\n        this.setState(({\r\n            temperatureData: [trace],\r\n            loading: false // Mantiene el estado de carga si hay más datos por cargar\r\n        }));\r\n    }\r\n\r\n    processPrecipitationData = (data) => {\r\n        const trace = {\r\n            type: 'scatter',\r\n            mode: 'lines',\r\n            x: data.map(item => new Date(item.sampling_date)),\r\n            y: data.map(item => item.measurement_value),\r\n            name: 'Precipitación'\r\n        };\r\n\r\n        this.setState({ precipitationData: [trace], loading: false });\r\n    }\r\n\r\n\r\n    componentWillUnmount() {\r\n        // Remove event listeners\r\n        emitter.removeListener(this.openModelControllerListener);\r\n        emitter.removeListener(this.closeAllControllerListener);\r\n        emitter.removeListener(this.addPointListener);\r\n        emitter.removeListener(this.updatePointListener);\r\n\r\n        // Destory Materialbox\r\n        //                         {loading ? <p>Cargando datos...</p> : <Plot data={traces} layout={layout} />}\r\n\r\n        var elems = document.querySelectorAll('.materialboxed');\r\n        elems.map(elem => elem.destory());\r\n    }\r\n\r\n    render() {        \r\n        const { open, Ic, Ih, Ig, Io, If, IoType, sustainabilityIndex} = this.state;\r\n\r\n        return (\r\n            <MuiThemeProvider theme={theme}>\r\n                <Slide direction=\"left\" in={open}>\r\n                    <Card style={styles.root}>\r\n                        {/* Card header */}\r\n                        <CardContent style={styles.header}>\r\n                            <Typography gutterBottom style={{ fontFamily: 'Lato, Arial, sans-serif', color:'white', fontWeight:'3' }} variant=\"h5\" component=\"h2\">Visualizador de capas</Typography>\r\n                            <Typography variant=\"body2\" color=\"textSecondary\">Árbol de Decisión para la Sostenibilidad del Olivar</Typography>\r\n                            <IconButton style={styles.closeBtn} aria-label=\"Close\" onClick={() => this.setState({ open: false })}>\r\n                                <Icon fontSize=\"inherit\">chevron_right</Icon>\r\n                            </IconButton>\r\n                        </CardContent>\r\n                        <CardContent style={styles.content}>\r\n                            <FormControl fullWidth margin=\"normal\">\r\n                                <InputLabel>¿Mantiene una cubierta vegetal en el suelo de su olivar?</InputLabel>\r\n                                <Select name=\"Ic\" value={Ic} onChange={this.handleSelectChange}>\r\n                                    <MenuItem value={0}>No</MenuItem>\r\n                                    <MenuItem value={1}>En bandas</MenuItem>\r\n                                    <MenuItem value={2}>Toda la superficie menos los ruedos</MenuItem>\r\n                                    <MenuItem value={3}>Toda la superficie, incluyendo los ruedos</MenuItem>\r\n                                </Select>\r\n                            </FormControl>\r\n                            <FormControl fullWidth margin=\"normal\">\r\n                                <InputLabel>¿Conserva algún tipo de vegetación natural en su olivar?</InputLabel>\r\n                                <Select name=\"Ih\" value={Ih} onChange={this.handleSelectChange}>\r\n                                    <MenuItem value={0}>No</MenuItem>\r\n                                    <MenuItem value={1}>Conservo algunos árboles dispersos</MenuItem>\r\n                                    <MenuItem value={2}>Conservo parches de vegetación natural</MenuItem>\r\n                                    <MenuItem value={3}>Conservo una o varias manchas importantes de monte mediterráneo</MenuItem>\r\n                                </Select>\r\n                            </FormControl>\r\n                            <FormControl fullWidth margin=\"normal\">\r\n                                <InputLabel>¿Suele incorporar ganado a pastar dentro de su olivar?</InputLabel>\r\n                                <Select name=\"Ig\" value={Ig} onChange={this.handleSelectChange}>\r\n                                    <MenuItem value={0}>No</MenuItem>\r\n                                    <MenuItem value={1}>Sí</MenuItem>\r\n                                </Select>\r\n                            </FormControl>\r\n                            <FormControl fullWidth margin=\"normal\">\r\n                                <InputLabel>¿Suministra a sus suelos algún tipo de fertilizante orgánico?</InputLabel>\r\n                                <Select name=\"Io\" value={Io} onChange={this.handleSelectChange}>\r\n                                    <MenuItem value={0}>No</MenuItem>\r\n                                    <MenuItem value={1}>Sí</MenuItem>\r\n                                </Select>\r\n                                {Io === 1 && (\r\n                                    <FormControl fullWidth margin=\"normal\">\r\n                                        <InputLabel>¿Cuál de los siguientes fertilizantes orgánicos emplea?</InputLabel>\r\n                                        <Select name=\"IoType\" value={IoType} onChange={this.handleSelectChange}>\r\n                                            <MenuItem value={1}>Restos triturados de la poda</MenuItem>\r\n                                            <MenuItem value={1}>Alperujo compostado</MenuItem>\r\n                                            <MenuItem value={1}>Estiércol</MenuItem>\r\n                                            <MenuItem value={1}>Otros tipos</MenuItem>\r\n                                            <MenuItem value={2}>Dos de los anteriores</MenuItem>\r\n                                            <MenuItem value={3}>Tres o más de los anteriores</MenuItem>\r\n                                        </Select>\r\n                                    </FormControl>\r\n                                )}\r\n                            </FormControl>\r\n                            <FormControl fullWidth margin=\"normal\">\r\n                                <InputLabel>¿Cuál de los siguientes productos fitosanitarios NO aplica en su olivar?</InputLabel>\r\n                                <Select name=\"If\" value={If} onChange={this.handleSelectChange}>\r\n                                    <MenuItem value={0}>Aplico todos los anteriores</MenuItem>\r\n                                    <MenuItem value={1}>No aplico fungicidas</MenuItem>\r\n                                    <MenuItem value={2}>No aplico herbicidas</MenuItem>\r\n                                    <MenuItem value={3}>No aplico pesticidas</MenuItem>\r\n                                </Select>\r\n                            </FormControl>\r\n                            <Button variant=\"contained\" color=\"primary\" onClick={this.calculateSustainabilityIndex} style={{ marginTop: 20 }}>\r\n                                Calcular Índice de Sostenibilidad\r\n                            </Button>\r\n                            {sustainabilityIndex !== null && (\r\n                                <Typography variant=\"h6\" style={{ marginTop: 20 }}>\r\n                                    Índice de Sostenibilidad: {sustainabilityIndex.toFixed(2)}\r\n                                </Typography>\r\n                            )}\r\n                        </CardContent>\r\n                    </Card>\r\n                </Slide>\r\n            </MuiThemeProvider >\r\n        );\r\n    }\r\n}\r\n\r\nexport default ModelController;","import React, { useState, useEffect } from 'react';\r\nimport Box from '@mui/material/Box';\r\nimport Stepper from '@mui/material/Stepper';\r\nimport Step from '@mui/material/Step';\r\nimport StepLabel from '@mui/material/StepLabel';\r\nimport Button from '@mui/material/Button';\r\nimport Typography from '@mui/material/Typography';\r\nimport Select from '@mui/material/Select';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport { useDropzone } from 'react-dropzone';\r\nimport axios from 'axios';\r\n\r\nconst steps = ['Select Table', 'Upload Data', 'Finish'];\r\n\r\nexport default function HorizontalLinearStepperImport({ onSubmit }) {\r\n  const [activeStep, setActiveStep] = useState(0);\r\n  const [tables, setTables] = useState([]);\r\n  const [selectedTable, setSelectedTable] = useState('');\r\n  const [file, setFile] = useState(null);\r\n\r\n  const handleNext = () => {\r\n    if (activeStep === 1 && file) {\r\n      // Aquí se debería realizar la carga del archivo\r\n      uploadFile();\r\n    } else {\r\n      setActiveStep((prevActiveStep) => prevActiveStep + 1);\r\n    }\r\n  };\r\n\r\n  const handleBack = () => {\r\n    setActiveStep((prevActiveStep) => prevActiveStep - 1);\r\n  };\r\n\r\n  const handleReset = () => {\r\n    setActiveStep(0);\r\n    setSelectedTable('');\r\n    setFile(null);\r\n  };\r\n\r\n  const handleTableChange = (event) => {\r\n    setSelectedTable(event.target.value);\r\n  };\r\n\r\n  const onDrop = (acceptedFiles) => {\r\n    setFile(acceptedFiles[0]);\r\n  };\r\n\r\n  const {getRootProps, getInputProps, isDragActive} = useDropzone({onDrop, accept: '.csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'});\r\n\r\n  const fetchTables = async () => {\r\n    try {\r\n      const response = await fetch('http://localhost:5003/api/tables'); // Endpoint para obtener enfermedades disponibles\r\n      const data = await response.json();\r\n      setTables(data);\r\n\r\n      console.log(data)\r\n    } catch (error) {\r\n      console.error(\"Error fetching tables: \", error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    // Cargar las tablas disponibles desde el backend\r\n    fetchTables();\r\n    \r\n  }, []);\r\n\r\n  const uploadFile = () => {\r\n    const formData = new FormData();\r\n    formData.append('file', file);\r\n    formData.append('table', selectedTable);\r\n\r\n    axios.post('http://localhost:5003/api/upload', formData, {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data'\r\n      }\r\n    }).then(response => {\r\n      console.log('File uploaded successfully', response.data);\r\n      setActiveStep((prevActiveStep) => prevActiveStep + 1);\r\n    }).catch(error => {\r\n      console.error('Error uploading file', error);\r\n    });\r\n  };\r\n\r\n  const getStepContent = (step) => {\r\n    switch (step) {\r\n      case 0:\r\n        return (\r\n          <Select\r\n            value={selectedTable}\r\n            onChange={handleTableChange}\r\n            displayEmpty\r\n            fullWidth\r\n          >\r\n            <MenuItem value=\"\">\r\n            </MenuItem>\r\n            {tables.map((table) => (\r\n              <MenuItem key={table} value={table}>{table}</MenuItem>\r\n            ))}\r\n          </Select>\r\n        );\r\n      case 1:\r\n        return (\r\n          <div {...getRootProps()} style={{ border: '1px solid black', padding: 20, cursor: 'pointer' }}>\r\n            <input {...getInputProps()} />\r\n            {\r\n              isDragActive ?\r\n                <p>Drop the files here ...</p> :\r\n                <p>Drag 'n' drop some files here, or click to select files</p>\r\n            }\r\n          </div>\r\n        );\r\n      case 2:\r\n        return <Typography>All steps completed - you&apos;re finished</Typography>;\r\n      default:\r\n        return 'Unknown step';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box sx={{ width: '100%' }}>\r\n      <Stepper activeStep={activeStep} alternativeLabel>\r\n        {steps.map((label) => (\r\n          <Step key={label}>\r\n            <StepLabel>{label}</StepLabel>\r\n          </Step>\r\n        ))}\r\n      </Stepper>\r\n      <div>\r\n        {activeStep === steps.length ? (\r\n          <React.Fragment>\r\n                        <Box sx={{ display: 'flex', flexDirection: 'row', pt: 2, alignItems: 'center', justifyContent: 'center' }}>\r\n\r\n            <Button onClick={handleReset}>Reset</Button>\r\n            </Box>\r\n          </React.Fragment>\r\n        ) : (\r\n          <React.Fragment>\r\n                        <Box sx={{ display: 'flex', flexDirection: 'row', pt: 2, alignItems: 'center', justifyContent: 'center' }}>\r\n\r\n            {getStepContent(activeStep)}\r\n            <Button disabled={activeStep === 0} onClick={handleBack}>\r\n              Back\r\n            </Button>\r\n            <Button onClick={handleNext}>\r\n              {activeStep === steps.length - 1 ? 'Finish' : 'Next'}\r\n            </Button>\r\n            </Box>\r\n          </React.Fragment>\r\n        )}\r\n      </div>\r\n    </Box>\r\n  );\r\n}","/* Written by Ye Liu */\n\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport { Typography } from '@material-ui/core';\nimport Slide from '@material-ui/core/Slide';\nimport indigo from '@material-ui/core/colors/indigo';\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\nimport M from 'materialize-css';\nimport React from 'react';\n\nimport { ACCESS_TOKEN } from '@/config';\nimport emitter from '@utils/events.utils';\n\nimport '@styles/dataController.style.css';\nimport HorizontalLinearStepperImport from '../componentsJS/StepperImport';\n\nconst theme = createTheme({\n    palette: {\n        primary: {\n            main: indigo.A200\n        }\n    }\n});\n\n\n\n\n\nconst styles = {\n    root: {\n        position: 'fixed',\n        top: 74,\n        right: 10,\n        borderRadius: 4,\n        minWidth: 350,\n        margin: 0,\n        width:900,\n        zIndex: 900\n    },\n    header: {\n        backgroundColor: '#f1f1f1'\n    },\n    closeBtn: {\n        position: 'absolute',\n        top: 6,\n        right: 8,\n        fontSize: 22\n    },\n    searchField: {\n        display: 'flex',\n        alignItems: 'center',\n        width: '100%',\n        height: 40,\n        padding: '2px 4px'\n    },\n    searchBox: {\n        marginLeft: 8,\n        flex: 1,\n        border: 'none !important'\n    },\n    searchBoxBtn: {\n        padding: 8\n    },\n    searchOptionsContainer: {\n        padding: '5px 2px'\n    },\n    searchOption: {\n        color: 'rgba(0, 0, 0, 0.6)',\n        cursor: 'pointer'\n    },\n    searchBoxProgress: {\n        marginRight: 8\n    },\n    searchBoxDivider: {\n        width: 1,\n        height: 28,\n        margin: 4\n    },\n    resultWrapperOpen: {\n        maxWidth: 800\n    },\n    resultWrapperClosed: {\n        maxWidth: 350\n    },\n    resultContainer: {\n        paddingTop: 0,\n        paddingBottom: 0\n    },\n    resultTable: {\n        boxShadow: 'none'\n    },\n    uploadBoxInput: {\n        display: 'none'\n    },\n    uploadBoxBtnEdit: {\n        width: 40,\n        height: 40,\n        lineHeight: '40px',\n        textAlign: 'center',\n        borderRadius: '50%',\n        fontSize: 22\n    },\n    wrapBtn: {\n        position: 'absolute',\n        bottom: 12,\n        left: 18,\n        padding: 10,\n        fontSize: 24\n    },\n    addPointWrapperOpen: {\n        maxWidth: 350\n    },\n    addPointWrapperClose: {\n        width: 0\n    },\n    uploadBoxBtnAdd: {\n        width: 90,\n        height: 90,\n        lineHeight: '90px',\n        textAlign: 'center',\n        borderRadius: '50%',\n        fontSize: 30,\n        backgroundColor: 'rgba(0, 0, 0, 0.08)'\n    },\n    previewImageContainer: {\n        display: 'flex',\n        alignItems: 'center'\n    },\n    nameTextField: {\n        margin: '0 20px 0 13px'\n    },\n    pinyinTextField: {\n        margin: '10px 20px 10px 13px'\n    },\n    introTextField: {\n        width: '100%',\n        marginTop: 5\n    },\n    locationImageContainer: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center'\n    },\n    locationImage: {\n        display: 'block',\n        marginTop: 5,\n        width: 225,\n        height: 140,\n        borderRadius: 3,\n        cursor: 'pointer'\n    },\n    locationLabel: {\n        display: 'block',\n        marginTop: 6\n    },\n    actions: {\n        paddingTop: 10\n    },\n    saveBtn: {\n        display: 'inline-block',\n        position: 'relative',\n        marginRight: 10\n    },\n    saveBtnProgress: {\n        position: 'absolute',\n        top: '50%',\n        left: '50%',\n        marginTop: -12,\n        marginLeft: -12,\n    }\n};\n\nclass ImportController extends React.Component {\n    state = {\n        open: false,\n        resultUnwrap: false,\n        addPointUnwrap: false,\n        optionsOpen: false,\n        searching: false,\n        submitting: false,\n        anchorEl: null,\n        geometry: null,\n        previewImage: null,\n        previewMapUrl: null,\n        previewCoordinate: {},\n        loading: true,\n        traces: [],\n        precipitationData:[],\n        temperatureData: [],\n        watsatData: [],\n        layoutTemperature: {\n            title: 'Temperatura del Aire HC',\n            xaxis: {\n                title: 'Fecha',\n                type: 'date'\n            },\n            yaxis: { title: 'Temperatura (°C)' }\n        },\n        layoutPrecipitation: {\n            title: 'Precipitación',\n            xaxis: {\n                title: 'Fecha',\n                type: 'date'\n            },\n            yaxis: { title: 'Precipitación (mm)' }\n        },\n        layoutWatsat: {\n            title: 'Modelo Watsat',\n            xaxis: {\n                title: 'Fecha',\n                type: 'date'\n            },\n            yaxis: { title: 'Contenido Volumétrico de Agua' }\n        },\n        layout: {\n            barmode: 'stack',\n            title: 'Avistamientos de insectos por día',\n            xaxis: {\n                title: 'Fecha',\n                type: 'date'\n            },\n            yaxis: { title: 'Cantidad' }\n        },\n        items: [\n            {id: 1, title: 'item #1'},\n            {id: 2, title: 'item #2'},\n            {id: 3, title: 'item #3'},\n            {id: 4, title: 'item #4'},\n            {id: 5, title: 'item #5'}\n          ]\n        ,\n        data: [],\n        searchOptions: [\n            {\n                value: 'gid',\n                label: 'Gid',\n                checked: true\n            },\n            {\n                value: 'name',\n                label: 'Name',\n                checked: true\n            },\n            {\n                value: 'pinyin',\n                label: 'Pinyin',\n                checked: true\n            },\n            {\n                value: 'introduction',\n                label: 'Introduction',\n                checked: false\n            }\n        ]\n    }\n\n    initMaterialbox = () => {\n        var elems = document.querySelectorAll('.materialboxed');\n        M.Materialbox.init(elems, {\n            onOpenStart: (e) => {\n                e.parentNode.style.overflow = 'visible';\n            },\n            onCloseEnd: (e) => {\n                e.parentNode.style.overflow = 'hidden';\n            }\n        });\n    }\n    \n    resetPreviewImage = () => {\n        this.setState({\n            previewImage: null\n        });\n    }\n\n    resetNewPointData = () => {\n        this.setState({\n            previewMapUrl: null,\n            geometry: null,\n            previewCoordinate: {}\n        });\n    }\n\n    handleCloseClick = () => {\n        this.setState({\n            open: false\n        });\n    }\n\n    handleAddClick = () => {\n        // Get GeoJSON from map\n        emitter.emit('getPoint');\n\n        // Exit search mode\n        this.handleWrapClick();\n\n        // Initialize new point data\n        this.resetPreviewImage();\n        this.resetNewPointData();\n\n        // Wrap add point panel\n        this.setState({\n            addPointUnwrap: false\n        });\n    }\n\n    handleWrapClick = () => {\n        // Remove temp layer\n        emitter.emit('removeTempLayer');\n\n        // Reset preview image\n        this.resetPreviewImage();\n\n        // Clear search box\n        document.getElementById('search-box').value = '';\n\n        this.setState({\n            resultUnwrap: false\n        });\n    }\n\n    handleImageChange = (e) => {\n        // Check if file selected\n        if (!e.target.files[0]) {\n            return;\n        }\n\n        // Check image size (smaller than 1MB)\n        if (e.target.files[0].size > 1048576) {\n            emitter.emit('showSnackbar', 'error', 'Error: Image must be smaller than 1MB.');\n            return;\n        }\n\n        // Encode image with base64\n        this.state.reader.readAsDataURL(e.target.files[0]);\n    }\n\n    handleDoneEdit = () => {\n        // Reset preview image\n        this.resetPreviewImage();\n\n        // Initialize Materialbox\n        setTimeout(this.initMaterialbox, 800);\n    }\n\n    handleSearchOptionsClick = () => {\n        this.setState({\n            optionsOpen: true\n        });\n    }\n\n    handleSearchOptionsClose = () => {\n        this.setState({\n            optionsOpen: false\n        });\n    }\n\n    \n    handleSearchOptionChange = (e) => {\n        // Update search options\n        var option = null;\n        var flag = false;\n        this.state.searchOptions.map(item => {\n            if (item.value === e.currentTarget.value) {\n                item.checked = e.currentTarget.checked;\n                option = item;\n            }\n            flag = flag || item.checked;\n            return true;\n        });\n\n        // Check whether at least one option checked\n        if (!flag) {\n            emitter.emit('showSnackbar', 'error', 'Error: Please select at least one option.');\n            option.checked = true;\n            return;\n        }\n\n        this.setState({\n            searchOptions: this.state.searchOptions\n        });\n    }\n\n    componentDidMount() {\n        // Initialize popover\n        var anchorEl = document.getElementById('anchorEl');\n        // Initialize file reader\n        var reader = new FileReader();\n        reader.onload = (e) => {\n            // Get image info\n            var image = new Image();\n            image.src = e.target.result;\n\n            // Construct preview image object\n            var previewImage = {\n                longitude: image.height > image.width,\n                src: e.target.result\n            }\n\n            // Preview image\n            this.setState({\n                previewImage: previewImage\n            });\n        };\n\n        this.setState({\n            reader: reader,\n            anchorEl: anchorEl\n        });\n\n        // Bind event listeners\n        this.openImportControllerListener = emitter.addListener('openImportController', () => {\n            this.setState({\n                open: true\n            });\n         });\n\n        this.closeAllControllerListener = emitter.addListener('closeAllController', () => {\n            this.setState({\n                open: false\n            });\n        });\n\n        this.updatePointListener = emitter.addListener('setPoint', (feature, styleCode, zoom) => {\n            var [lng, lat] = feature.geometry.coordinates;\n            var previewMapUrl = `https://api.mapbox.com/styles/v1/${styleCode}/static/pin-s+f00(${lng},${lat})/${lng},${lat},${zoom},0,1/250x155@2x?access_token=${ACCESS_TOKEN}`;\n\n            this.setState({\n                addPointUnwrap: true,\n                previewMapUrl: previewMapUrl,\n                geometry: feature,\n                previewCoordinate: {\n                    lng: parseFloat(lng).toFixed(3),\n                    lat: parseFloat(lat).toFixed(3)\n                }\n            });\n        });\n    }\n\n\n\n\n    componentWillUnmount() {\n        // Remove event listeners\n        emitter.removeListener(this.openImportControllerListener);\n        emitter.removeListener(this.closeAllControllerListener);\n        emitter.removeListener(this.addPointListener);\n        emitter.removeListener(this.updatePointListener);\n\n        // Destory Materialbox\n        //                         {loading ? <p>Cargando datos...</p> : <Plot data={traces} layout={layout} />}\n\n        var elems = document.querySelectorAll('.materialboxed');\n        elems.map(elem => elem.destory());\n    }\n\n    render() {        \n        return (\n            <ThemeProvider theme={theme}>\n                <Slide direction=\"left\" in={this.state.open}>\n                    <Card style={styles.root}>\n                        {/* Card header */}\n                        <CardContent style={styles.header}>\n                        <Typography variant=\"h5\" className={styles.title}>Data Importer</Typography>\n\n\n<HorizontalLinearStepperImport/>\n\n                        </CardContent>\n                    </Card>\n                </Slide>\n            </ThemeProvider >\n        );\n    }\n}\n\nexport default ImportController;\n","import React, { useState, useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Backdrop, CircularProgress, InputLabel, Select, TextField, FormControl, MenuItem, Button, Grid } from '@material-ui/core';\r\nimport Accordion from '@material-ui/core/Accordion';\r\nimport { DropzoneArea } from 'material-ui-dropzone';\r\nimport { AttachFile, Description, PictureAsPdf, Theaters } from '@material-ui/icons';\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport emitter from '@utils/events.utils';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n  },\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n    width: '100%',\r\n  },\r\n  dateInput: {\r\n    width: '100%',\r\n  },\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    color: '#fff',\r\n  },\r\n  progressText: {\r\n    marginLeft: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nexport default function ControlledAccordions({ onSubmit }) {\r\n  const classes = useStyles();\r\n  const [expanded, setExpanded] = useState(false);\r\n  const [formData, setFormData] = useState({\r\n    startDate: \"2000-04-14\",\r\n    endDate: \"2024-05-14\",\r\n    indexType: 'NDVI',\r\n    aoiDataFiles: []\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n  const [timer, setTimer] = useState(0);\r\n\r\n  useEffect(() => {\r\n    let timerInterval;\r\n    if (loading) {\r\n      timerInterval = setInterval(() => {\r\n        setTimer((prevTimer) => prevTimer + 1);\r\n      }, 1000);\r\n    } else {\r\n      clearInterval(timerInterval);\r\n    }\r\n\r\n    return () => clearInterval(timerInterval);\r\n  }, [loading]);\r\n\r\n  const handleChangeExp = (panel) => (event, isExpanded) => {\r\n    setExpanded(isExpanded ? panel : false);\r\n  };\r\n\r\n  const handleChange = (event) => {\r\n    const { name, value } = event.target;\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [name]: value\r\n    }));\r\n  };\r\n\r\n  const handlePreviewIcon = (fileObject, classes) => {\r\n    const { type } = fileObject.file;\r\n    const iconProps = {\r\n      className: classes.image,\r\n    };\r\n\r\n    if (type.startsWith(\"video/\")) return <Theaters {...iconProps} />;\r\n\r\n    switch (type) {\r\n      case \"application/msword\":\r\n      case \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\":\r\n        return <Description {...iconProps} />;\r\n      case \"application/pdf\":\r\n        return <PictureAsPdf {...iconProps} />;\r\n      default:\r\n        return <AttachFile {...iconProps} />;\r\n    }\r\n  };\r\n\r\n  const handleFileChange = (name, files) => {\r\n    if (files && files.length > 0) {\r\n      const reader = new FileReader();\r\n      reader.onload = async (event) => {\r\n        try {\r\n          // Handle file processing\r\n        } catch (error) {\r\n          console.error(\"Error processing shapefile\", error);\r\n        }\r\n      };\r\n      reader.readAsArrayBuffer(files[0]);\r\n    }\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      [name]: files\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setTimer(0);\r\n      const data = new FormData();\r\n\r\n      data.append('aoiDataFiles', formData.aoiDataFiles[0]);\r\n      data.append('indexType', formData.indexType);\r\n      data.append('startDate', formData.startDate);\r\n      data.append('endDate', formData.endDate);\r\n\r\n      const response = await fetch('http://localhost:5004/api/vegetation_index_change_inspector', {\r\n        method: 'POST',\r\n        body: data,\r\n      });\r\n\r\n      const result = await response.json();\r\n      console.log(result);\r\n      if (result) {\r\n        console.log('Data sent successfully', result.output);\r\n        onSubmit(result.output);\r\n        setLoading(false);\r\n        emitter.emit('closeAllController');\r\n        emitter.emit('openLayerController');\r\n        return true;\r\n      }\r\n\r\n    } catch (error) {\r\n      setLoading(false);\r\n      emitter.emit('showSnackbar', 'error', `Error: '${error}'`);\r\n      console.error('Failed to send data', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Accordion expanded={expanded === 'panel1'} onChange={handleChangeExp('panel1')}>\r\n        <AccordionSummary\r\n          expandIcon={<ExpandMoreIcon />}\r\n          aria-controls=\"panel1bh-content\"\r\n          id=\"panel1bh-header\"\r\n        >\r\n          <Typography className={classes.heading}>Choose a veg index</Typography>\r\n        </AccordionSummary>\r\n        <AccordionDetails>\r\n          <DropzoneArea\r\n            onChange={(files) => handleFileChange('aoiDataFiles', files)}\r\n            acceptedFiles={['.zip']}\r\n            dropzoneText=\"Area of Interest\"\r\n            maxFileSize={5000000}\r\n            filesLimit={1}\r\n            getPreviewIcon={handlePreviewIcon}\r\n          />\r\n        </AccordionDetails>\r\n        <AccordionDetails>\r\n          <Grid container spacing={2}>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                label=\"Start Date\"\r\n                type=\"date\"\r\n                name=\"startDate\"\r\n                value={formData.startDate}\r\n                onChange={handleChange}\r\n                className={classes.dateInput}\r\n                InputLabelProps={{\r\n                  shrink: true,\r\n                }}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <TextField\r\n                label=\"End Date\"\r\n                type=\"date\"\r\n                name=\"endDate\"\r\n                value={formData.endDate}\r\n                onChange={handleChange}\r\n                className={classes.dateInput}\r\n                InputLabelProps={{\r\n                  shrink: true,\r\n                }}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={12}>\r\n              <FormControl className={classes.formControl}>\r\n                <InputLabel id=\"index-type-label\">Index Type</InputLabel>\r\n                <Select\r\n                  labelId=\"index-type-label\"\r\n                  id=\"index-type-select\"\r\n                  value={formData.indexType}\r\n                  onChange={handleChange}\r\n                  name=\"indexType\"\r\n                >\r\n                  <MenuItem value=\"NDVI\">NDVI</MenuItem>\r\n                  <MenuItem value=\"EVI\">EVI</MenuItem>\r\n                  <MenuItem value=\"SAVI\">SAVI</MenuItem>\r\n                </Select>\r\n              </FormControl>\r\n            </Grid>\r\n          </Grid>\r\n        </AccordionDetails>\r\n      </Accordion>\r\n      <Grid container justifyContent=\"flex-end\">\r\n        <Button onClick={handleSubmit} color=\"primary\" variant=\"contained\">Submit Data</Button>\r\n      </Grid>\r\n      <Backdrop className={classes.backdrop} open={loading}>\r\n        <CircularProgress color=\"inherit\" />\r\n        <Typography variant=\"h6\" className={classes.progressText}>\r\n          Loading... {timer}s\r\n        </Typography>\r\n      </Backdrop>\r\n    </div>\r\n  );\r\n}","/* Written by Ye Liu */\n\nimport React from 'react';\nimport Slide from '@material-ui/core/Slide';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport { Typography, Icon, IconButton } from '@material-ui/core';\n  \nimport { ThemeProvider, createTheme } from '@material-ui/core/styles';\nimport indigo from '@material-ui/core/colors/indigo';\n\nimport emitter from '@utils/events.utils';\nimport { ACCESS_TOKEN } from '@/config';\n\nimport '@styles/dataController.style.css';\nimport ControlledAccordions from '@components/componentsJS/ControlledAccordions_';\n\nconst theme = createTheme({\n    palette: {\n        primary: {\n            main: indigo.A200\n        }\n    }\n});\n\nconst styles = {\n    root: {\n        position: 'fixed',\n        top: 74,\n        right: 10,\n        borderRadius: 9,\n        minWidth: 350,\n        margin: 0,\n        zIndex: 900,\n        boxShadow: '-6px 6px 15px rgba(0, 0, 0, 0.15)'\n    },\n    rooot: {\n        width: '100%',\n      },\n    heading: {\n        fontSize: theme.typography.pxToRem(15),\n        flexBasis: '33.33%',\n        flexShrink: 0,\n      },\n      secondaryHeading: {\n        fontSize: theme.typography.pxToRem(15),\n        color: theme.palette.text.secondary,\n      },\n    header: {\n        backgroundColor: 'rgba(33,150,243,255)'\n    },\n    content: {\n        paddingBottom: 16\n    },\n    closeBtn: {\n        position: 'absolute',\n        top: 6,\n        right: 8,\n        fontSize: 22\n    },\n    searchField: {\n        display: 'flex',\n        alignItems: 'center',\n        width: '100%',\n        height: 40,\n        padding: '2px 4px'\n    },\n    searchBox: {\n        marginLeft: 8,\n        flex: 1,\n        border: 'none !important'\n    },\n    searchBoxBtn: {\n        padding: 8\n    },\n    searchOptionsContainer: {\n        padding: '5px 2px'\n    },\n    searchOption: {\n        color: 'rgba(0, 0, 0, 0.6)',\n        cursor: 'pointer'\n    },\n    searchBoxProgress: {\n        marginRight: 8\n    },\n    searchBoxDivider: {\n        width: 1,\n        height: 28,\n        margin: 4\n    },\n    resultWrapperOpen: {\n        maxWidth: 800\n    },\n    resultWrapperClosed: {\n        maxWidth: 350\n    },\n    resultContainer: {\n        paddingTop: 0,\n        paddingBottom: 0\n    },\n    resultTable: {\n        boxShadow: 'none'\n    },\n    uploadBoxInput: {\n        display: 'none'\n    },\n    uploadBoxBtnEdit: {\n        width: 40,\n        height: 40,\n        lineHeight: '40px',\n        textAlign: 'center',\n        borderRadius: '50%',\n        fontSize: 22\n    },\n    wrapBtn: {\n        position: 'absolute',\n        bottom: 12,\n        left: 18,\n        padding: 10,\n        fontSize: 24\n    },\n    addPointWrapperOpen: {\n        maxWidth: 350\n    },\n    addPointWrapperClose: {\n        width: 0\n    },\n    uploadBoxBtnAdd: {\n        width: 90,\n        height: 90,\n        lineHeight: '90px',\n        textAlign: 'center',\n        borderRadius: '50%',\n        fontSize: 30,\n        backgroundColor: 'rgba(0, 0, 0, 0.08)'\n    },\n    previewImageContainer: {\n        display: 'flex',\n        alignItems: 'center'\n    },\n    nameTextField: {\n        margin: '0 20px 0 13px'\n    },\n    pinyinTextField: {\n        margin: '10px 20px 10px 13px'\n    },\n    introTextField: {\n        width: '100%',\n        marginTop: 5\n    },\n    locationImageContainer: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center'\n    },\n    locationImage: {\n        display: 'block',\n        marginTop: 5,\n        width: 225,\n        height: 140,\n        borderRadius: 3,\n        cursor: 'pointer'\n    },\n    locationLabel: {\n        display: 'block',\n        marginTop: 6\n    },\n    actions: {\n        paddingTop: 10\n    },\n    saveBtn: {\n        display: 'inline-block',\n        position: 'relative',\n        marginRight: 10\n    },\n    saveBtnProgress: {\n        position: 'absolute',\n        top: '50%',\n        left: '50%',\n        marginTop: -12,\n        marginLeft: -12,\n    }\n};\n\nclass VegInspectorController extends React.Component {\n    state = {\n        open: false,\n    }\n\n    handleCloseClick = () => {\n        this.setState({\n            open: false\n        });\n    }\n\n    handleDataSubmit = (data) => {\n        this.setState({url: data})\n        console.log(\"Datos recibidos en BandController:\", data);\n        emitter.emit('moveURL', this.state.url);\n        // Puedes manejar los datos como desees aquí\n      };\n\n    handleWrapClick = () => {\n        // Remove temp layer\n        emitter.emit('removeTempLayer');\n\n        // Reset preview image\n        this.resetPreviewImage();\n\n        // Clear search box\n        document.getElementById('search-box').value = '';\n\n        this.setState({\n            resultUnwrap: false\n        });\n    }\n    \n    handleSearchOptionChange = (e) => {\n        // Update search options\n        var option = null;\n        var flag = false;\n        this.state.searchOptions.map(item => {\n            if (item.value === e.currentTarget.value) {\n                item.checked = e.currentTarget.checked;\n                option = item;\n            }\n            flag = flag || item.checked;\n            return true;\n        });\n\n        // Check whether at least one option checked\n        if (!flag) {\n            emitter.emit('showSnackbar', 'error', 'Error: Please select at least one option.');\n            option.checked = true;\n            return;\n        }\n\n        this.setState({\n            searchOptions: this.state.searchOptions\n        });\n    }\n\n    handleSearchClick = () => {\n        // Exit add point mode\n        this.handleCancelClick();\n\n        // Get keyword\n        var keyword = document.getElementById('search-box').value;\n        if (!keyword) {\n            return;\n        }\n\n        // Show searching progress\n        this.setState({\n            searching: true\n        });\n\n        // Get search options\n        var options = {};\n        this.state.searchOptions.map(item => {\n            options[item.value] = item.checked;\n            return true;\n        });\n\n        // Initiate request\n    }\n\n    handlePreviewClick = (e, data) => {\n        // Show marker and popup on map\n        emitter.emit('displayTempLayer', data);\n    }\n\n    handlePreviewMapClick = () => {\n        // Get GeoJSON from map\n        emitter.emit('getPoint');\n\n        this.setState({\n            addPointUnwrap: false\n        });\n    }\n\n    handleSelectChange = (event) => {\n        this.setState({ [event.target.name]: Number(event.target.value) });\n    };\n\n\n    handleCancelClick = () => {\n        // Remove temp point\n        emitter.emit('removeTempPoint');\n\n        // Empty input box\n        document.getElementById('name').value = '';\n        document.getElementById('pinyin').value = '';\n        document.getElementById('introduction').value = '';\n\n        // Reset data\n        this.resetPreviewImage();\n        this.resetNewPointData();\n\n        // Wrap add point panel\n        this.setState({\n            addPointUnwrap: false\n        });\n    }\n\n\n    componentDidMount() {\n        // Initialize popover\n        var anchorEl = document.getElementById('anchorEl');\n\n        // Initialize file reader\n        var reader = new FileReader();\n        reader.onload = (e) => {\n            // Get image info\n            var image = new Image();\n            image.src = e.target.result;\n\n            // Construct preview image object\n            var previewImage = {\n                longitude: image.height > image.width,\n                src: e.target.result\n            }\n\n            // Preview image\n            this.setState({\n                previewImage: previewImage\n            });\n        };\n\n        this.setState({\n            reader: reader,\n            anchorEl: anchorEl\n        });\n\n        // Bind event listeners\n        this.openVegInspectorControllerListener = emitter.addListener('openVegInspectorController', () => {\n            this.setState({\n                open: true\n            });\n         });\n\n        this.closeAllControllerListener = emitter.addListener('closeAllController', () => {\n            this.setState({\n                open: false\n            });\n        });\n\n        this.updatePointListener = emitter.addListener('setPoint', (feature, styleCode, zoom) => {\n            var [lng, lat] = feature.geometry.coordinates;\n            var previewMapUrl = `https://api.mapbox.com/styles/v1/${styleCode}/static/pin-s+f00(${lng},${lat})/${lng},${lat},${zoom},0,1/250x155@2x?access_token=${ACCESS_TOKEN}`;\n\n            this.setState({\n                addPointUnwrap: true,\n                previewMapUrl: previewMapUrl,\n                geometry: feature,\n                previewCoordinate: {\n                    lng: parseFloat(lng).toFixed(3),\n                    lat: parseFloat(lat).toFixed(3)\n                }\n            });\n        });\n\n\n    \n        this.moveURListener = emitter.addListener('moveURL', () => {\n            this.moveURL();\n        });\n    }\n\n    \n    \n\n    moveURL = () => {\n        var url = this.state.url\n        this.setState({ movedURL: url });\n        console.log(this.state.movedURL)\n\n    }\n    \n\n    componentWillUnmount() {\n        // Remove event listeners\n        emitter.removeListener(this.openBandControllerListener);\n        emitter.removeListener(this.closeAllControllerListener);\n        emitter.removeListener(this.addPointListener);\n        emitter.removeListener(this.updatePointListener);\n        emitter.removeListener(this.moveURListener);\n\n        var elems = document.querySelectorAll('.materialboxed');\n        elems.map(elem => elem.destory());\n    }\n\n    render() {        \n        return (\n            <ThemeProvider theme={theme}>\n                <Slide direction=\"left\" in={this.state.open}>\n                    <Card style={styles.root}>\n                        {/* Card header */}\n                        <CardContent style={styles.header}>\n                        <Typography gutterBottom variant=\"h5\" component=\"h2\" style={{ fontFamily: 'Lato, Arial, sans-serif', color:'white', fontWeight:'3' }}>Vegetation Change Inspec.</Typography>\n                            <Typography variant=\"body2\" color=\"textSecondary\">Upload your shape and map the veg. index result</Typography>\n\t\t\t</CardContent>\n\t\t\t<CardContent style={styles.content}>\n                        <ControlledAccordions onSubmit={this.handleDataSubmit}/>\n            <IconButton style={styles.closeBtn} aria-label=\"Close\" onClick={this.handleCloseClick}>\n                                <Icon fontSize=\"inherit\">chevron_right</Icon>\n                            </IconButton>\n                        </CardContent>\n                    </Card>\n                </Slide>\n            </ThemeProvider >\n        );\n    }\n}\n\nexport default VegInspectorController;","/* Written by Ye Liu */\n\nimport React from 'react';\nimport Slide from '@material-ui/core/Slide';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport { Typography, Icon, IconButton } from '@material-ui/core';\n  \nimport { ThemeProvider, createTheme } from '@material-ui/core/styles';\nimport indigo from '@material-ui/core/colors/indigo';\n\nimport emitter from '@utils/events.utils';\nimport { ACCESS_TOKEN } from '@/config';\n\nimport '@styles/dataController.style.css';\nimport HorizontalLinearStepperData from '../componentsJS/StepperData';\n\nconst theme = createTheme({\n    palette: {\n        primary: {\n            main: indigo.A200\n        }\n    }\n});\n\nconst styles = {\n    root: {\n        position: 'fixed',\n        top: 74,\n        right: 10,\n        borderRadius: 9,\n        minWidth: 350,\n        margin: 0,\n        zIndex: 900\n    },\n    rooot: {\n        width: '100%',\n      },\n    content: {\n        paddingBottom: 16\n    },\n    heading: {\n        fontSize: theme.typography.pxToRem(15),\n        flexBasis: '33.33%',\n        flexShrink: 0,\n      },\n      secondaryHeading: {\n        fontSize: theme.typography.pxToRem(15),\n        color: theme.palette.text.secondary,\n      },\n    header: {\n        backgroundColor: 'rgba(255,152,0,255)'\n    },\n    closeBtn: {\n        position: 'absolute',\n        top: 6,\n        right: 8,\n        fontSize: 22\n    },\n    searchField: {\n        display: 'flex',\n        alignItems: 'center',\n        width: '100%',\n        height: 40,\n        padding: '2px 4px'\n    },\n    searchBox: {\n        marginLeft: 8,\n        flex: 1,\n        border: 'none !important'\n    },\n    searchBoxBtn: {\n        padding: 8\n    },\n    searchOptionsContainer: {\n        padding: '5px 2px'\n    },\n    searchOption: {\n        color: 'rgba(0, 0, 0, 0.6)',\n        cursor: 'pointer'\n    },\n    searchBoxProgress: {\n        marginRight: 8\n    },\n    searchBoxDivider: {\n        width: 1,\n        height: 28,\n        margin: 4\n    },\n    resultWrapperOpen: {\n        maxWidth: 800\n    },\n    resultWrapperClosed: {\n        maxWidth: 350\n    },\n    resultContainer: {\n        paddingTop: 0,\n        paddingBottom: 0\n    },\n    resultTable: {\n        boxShadow: 'none'\n    },\n    uploadBoxInput: {\n        display: 'none'\n    },\n    uploadBoxBtnEdit: {\n        width: 40,\n        height: 40,\n        lineHeight: '40px',\n        textAlign: 'center',\n        borderRadius: '50%',\n        fontSize: 22\n    },\n    wrapBtn: {\n        position: 'absolute',\n        bottom: 12,\n        left: 18,\n        padding: 10,\n        fontSize: 24\n    },\n    addPointWrapperOpen: {\n        maxWidth: 350\n    },\n    addPointWrapperClose: {\n        width: 0\n    },\n    uploadBoxBtnAdd: {\n        width: 90,\n        height: 90,\n        lineHeight: '90px',\n        textAlign: 'center',\n        borderRadius: '50%',\n        fontSize: 30,\n        backgroundColor: 'rgba(0, 0, 0, 0.08)'\n    },\n    previewImageContainer: {\n        display: 'flex',\n        alignItems: 'center'\n    },\n    nameTextField: {\n        margin: '0 20px 0 13px'\n    },\n    pinyinTextField: {\n        margin: '10px 20px 10px 13px'\n    },\n    introTextField: {\n        width: '100%',\n        marginTop: 5\n    },\n    locationImageContainer: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center'\n    },\n    locationImage: {\n        display: 'block',\n        marginTop: 5,\n        width: 225,\n        height: 140,\n        borderRadius: 3,\n        cursor: 'pointer'\n    },\n    locationLabel: {\n        display: 'block',\n        marginTop: 6\n    },\n    actions: {\n        paddingTop: 10\n    },\n    saveBtn: {\n        display: 'inline-block',\n        position: 'relative',\n        marginRight: 10\n    },\n    saveBtnProgress: {\n        position: 'absolute',\n        top: '50%',\n        left: '50%',\n        marginTop: -12,\n        marginLeft: -12,\n    }\n};\n\nclass SpatioTemporalAnalysisController extends React.Component {\n    state = {\n        open: false,\n    }\n\n    handleCloseClick = () => {\n        this.setState({\n            open: false\n        });\n    }\n\n    handleDataSubmit = (data) => {\n        this.setState({url: data})\n        console.log(\"Datos recibidos en BandController:\", data);\n        emitter.emit('moveURL', this.state.url);\n        // Puedes manejar los datos como desees aquí\n      };\n\n    handleWrapClick = () => {\n        // Remove temp layer\n        emitter.emit('removeTempLayer');\n\n        // Reset preview image\n        this.resetPreviewImage();\n\n        // Clear search box\n        document.getElementById('search-box').value = '';\n\n        this.setState({\n            resultUnwrap: false\n        });\n    }\n    \n    handleSearchOptionChange = (e) => {\n        // Update search options\n        var option = null;\n        var flag = false;\n        this.state.searchOptions.map(item => {\n            if (item.value === e.currentTarget.value) {\n                item.checked = e.currentTarget.checked;\n                option = item;\n            }\n            flag = flag || item.checked;\n            return true;\n        });\n\n        // Check whether at least one option checked\n        if (!flag) {\n            emitter.emit('showSnackbar', 'error', 'Error: Please select at least one option.');\n            option.checked = true;\n            return;\n        }\n\n        this.setState({\n            searchOptions: this.state.searchOptions\n        });\n    }\n\n    handlePreviewClick = (e, data) => {\n        // Show marker and popup on map\n        emitter.emit('displayTempLayer', data);\n    }\n\n    handlePreviewMapClick = () => {\n        // Get GeoJSON from map\n        emitter.emit('getPoint');\n\n        this.setState({\n            addPointUnwrap: false\n        });\n    }\n\n    handleSelectChange = (event) => {\n        this.setState({ [event.target.name]: Number(event.target.value) });\n    };\n\n\n    handleCancelClick = () => {\n        // Remove temp point\n        emitter.emit('removeTempPoint');\n\n        // Empty input box\n        document.getElementById('name').value = '';\n        document.getElementById('pinyin').value = '';\n        document.getElementById('introduction').value = '';\n\n        // Reset data\n        this.resetPreviewImage();\n        this.resetNewPointData();\n\n        // Wrap add point panel\n        this.setState({\n            addPointUnwrap: false\n        });\n    }\n\n\n    componentDidMount() {\n        // Initialize popover\n        var anchorEl = document.getElementById('anchorEl');\n\n        // Initialize file reader\n        var reader = new FileReader();\n        reader.onload = (e) => {\n            // Get image info\n            var image = new Image();\n            image.src = e.target.result;\n\n            // Construct preview image object\n            var previewImage = {\n                longitude: image.height > image.width,\n                src: e.target.result\n            }\n\n            // Preview image\n            this.setState({\n                previewImage: previewImage\n            });\n        };\n\n        this.setState({\n            reader: reader,\n            anchorEl: anchorEl\n        });\n\n        // Bind event listeners\n        this.openSpatioTemporalAnalysisControllerListener = emitter.addListener('openSpatioTemporalAnalysisController', () => {\n            this.setState({\n                open: true\n            });\n         });\n\n        this.closeAllControllerListener = emitter.addListener('closeAllController', () => {\n            this.setState({\n                open: false\n            });\n        });\n\n        this.updatePointListener = emitter.addListener('setPoint', (feature, styleCode, zoom) => {\n            var [lng, lat] = feature.geometry.coordinates;\n            var previewMapUrl = `https://api.mapbox.com/styles/v1/${styleCode}/static/pin-s+f00(${lng},${lat})/${lng},${lat},${zoom},0,1/250x155@2x?access_token=${ACCESS_TOKEN}`;\n\n            this.setState({\n                addPointUnwrap: true,\n                previewMapUrl: previewMapUrl,\n                geometry: feature,\n                previewCoordinate: {\n                    lng: parseFloat(lng).toFixed(3),\n                    lat: parseFloat(lat).toFixed(3)\n                }\n            });\n        });\n\n\n    \n        this.moveURListener = emitter.addListener('moveURL', () => {\n            this.moveURL();\n        });\n    }\n\n    \n    \n\n    moveURL = () => {\n        var url = this.state.url\n        this.setState({ movedURL: url });\n        console.log(this.state.movedURL)\n\n    }\n    \n\n    componentWillUnmount() {\n        // Remove event listeners\n        emitter.removeListener(this.openSpatioTemporalAnalysisControllerListener);\n        emitter.removeListener(this.closeAllControllerListener);\n        emitter.removeListener(this.addPointListener);\n        emitter.removeListener(this.updatePointListener);\n        emitter.removeListener(this.moveURListener);\n\n        var elems = document.querySelectorAll('.materialboxed');\n        elems.map(elem => elem.destory());\n    }\n\n    render() {        \n        return (\n            <ThemeProvider theme={theme}>\n                <Slide direction=\"left\" in={this.state.open}>\n                    <Card style={styles.root}>\n                        {/* Card header */}\n                        <CardContent style={styles.header}>\n                        <Typography gutterBottom style={{ fontFamily: 'Lato, Arial, sans-serif', color:'white', fontWeight:'3' }} variant=\"h5\" component=\"h2\">Spatiotemporal Analysis</Typography>\n                            <Typography variant=\"body2\" color=\"textSecondary\">Upload your shape and obtain your analysis</Typography>\n                        </CardContent>\n\t\t<CardContent style={styles.content}>\n\t\t<HorizontalLinearStepperData/>\n            <IconButton style={styles.closeBtn} aria-label=\"Close\" onClick={this.handleCloseClick}>\n                                <Icon fontSize=\"inherit\">chevron_right</Icon>\n                            </IconButton>\n                        </CardContent>\n                    </Card>\n                </Slide>\n            </ThemeProvider >\n        );\n    }\n}\n\nexport default SpatioTemporalAnalysisController;","import React, { useState } from 'react';\r\nimport Box from '@mui/material/Box';\r\nimport Stepper from '@mui/material/Stepper';\r\nimport Step from '@mui/material/Step';\r\nimport StepLabel from '@mui/material/StepLabel';\r\nimport Button from '@mui/material/Button';\r\nimport Typography from '@mui/material/Typography';\r\nimport TextField from '@mui/material/TextField';\r\nimport InputLabel from '@mui/material/InputLabel';\r\nimport Select from '@mui/material/Select';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport { DropzoneArea } from 'material-ui-dropzone';\r\n\r\nconst steps = ['Date Selection', 'Choose Index Type', 'Upload Data'];\r\n\r\nexport default function HorizontalLinearStepperAOI({onSubmit}) {\r\n  const [activeStep, setActiveStep] = useState(0);\r\n  const [loading, setLoading] = useState(false);\r\n  const [formData, setFormData] = useState({\r\n    startDate: '',\r\n    endDate: '',\r\n    indexType: '',\r\n    aoiDataFiles: []\r\n  });\r\n\r\n  const handleNext = () => {\r\n    setActiveStep((prevActiveStep) => prevActiveStep + 1);\r\n  };\r\n\r\n  const handleBack = () => {\r\n    setActiveStep((prevActiveStep) => prevActiveStep - 1);\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    setLoading(true);\r\n    try {\r\n        onSubmit([formData])\r\n    } catch (error) {\r\n        console.error(\"Error fetching data: \", error);\r\n    }\r\n    setLoading(false);\r\n};\r\n\r\n  const handleReset = () => {\r\n    setActiveStep(0);\r\n    setFormData({\r\n      startDate: '',\r\n      endDate: '',\r\n      indexType: '',\r\n      soilDataFiles: [],\r\n      aoiDataFiles: []\r\n    });\r\n  };\r\n\r\n  const handleChange = (event) => {\r\n    setFormData({ ...formData, [event.target.name]: event.target.value });\r\n  };\r\n\r\n  const handleFileChange = (name, files) => {\r\n    setFormData({ ...formData, [name]: files });\r\n  };\r\n\r\n  const getStepContent = (step) => {\r\n    switch (step) {\r\n      case 0:\r\n        return (\r\n          <Box sx={{ display: 'flex', justifyContent: 'center', alignItems: 'center', flexDirection: 'column' }}>\r\n            <TextField\r\n              label=\"Start Date\"\r\n              type=\"date\"\r\n              name=\"startDate\"\r\n              value={formData.startDate}\r\n              onChange={handleChange}\r\n              InputLabelProps={{ shrink: true }}\r\n              sx={{ margin: 1 }}\r\n            />\r\n            <TextField\r\n              label=\"End Date\"\r\n              type=\"date\"\r\n              name=\"endDate\"\r\n              value={formData.endDate}\r\n              onChange={handleChange}\r\n              InputLabelProps={{ shrink: true }}\r\n              sx={{ margin: 1 }}\r\n            />\r\n          </Box>\r\n        );\r\n      case 1:\r\n        return (\r\n          <Box sx={{ display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center' }}>\r\n            <InputLabel id=\"index-type-label\">Index Type</InputLabel>\r\n            <Select\r\n              labelId=\"index-type-label\"\r\n              id=\"index-type-select\"\r\n              value={formData.indexType}\r\n              onChange={handleChange}\r\n              name=\"indexType\"\r\n              sx={{ width: 200, margin: 1 }}\r\n            >\r\n              <MenuItem value=\"NDVI\">NDVI</MenuItem>\r\n              <MenuItem value=\"EVI\">EVI</MenuItem>\r\n              <MenuItem value=\"GNDVI\">GNDVI</MenuItem>\r\n            </Select>\r\n          </Box>\r\n        );\r\n      case 2:\r\n        return (\r\n\r\n          <Box sx={{ display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center' }}>\r\n\r\n        <DropzoneArea\r\n              onChange={(files) => handleFileChange('aoiDataFiles', files)}\r\n              acceptedFiles={['.zip']}\r\n              dropzoneText=\"Área\"\r\n              maxFileSize={5000000}\r\n              filesLimit={1}\r\n              style={{ width: '100%', border: 'dashed', cursor: 'pointer', overflow: 'hidden' }}\r\n            />\r\n            \r\n            \r\n          </Box>\r\n        );\r\n      default:\r\n        return 'Unknown step';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box sx={{ width: '100%', display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center' }}>\r\n      <Stepper activeStep={activeStep} sx={{ width: '80%', marginBottom: 2 }}>\r\n        {steps.map((label) => (\r\n          <Step key={label}>\r\n            <StepLabel>{label}</StepLabel>\r\n          </Step>\r\n        ))}\r\n      </Stepper>\r\n      <div>\r\n        {activeStep === steps.length ? (\r\n          <React.Fragment>\r\n            <Typography sx={{ mt: 2, mb: 1 }}>\r\n              All steps completed - you're finished\r\n            </Typography>\r\n            <Button onClick={handleReset}>Reset</Button>\r\n          </React.Fragment>\r\n        ) : (\r\n          <React.Fragment>\r\n            {getStepContent(activeStep)}\r\n            <Box sx={{ display: 'flex', flexDirection: 'row', pt: 2, alignItems: 'center', justifyContent: 'center' }}>\r\n              <Button disabled={activeStep === 0} onClick={handleBack}>\r\n                Back\r\n              </Button>\r\n              <Button onClick={() => { if (activeStep === steps.length - 1) handleSubmit(); handleNext(); }}>\r\n  {activeStep === steps.length - 1 ? 'Finish' : 'Next'}\r\n</Button>\r\n            </Box>\r\n          </React.Fragment>\r\n        )}\r\n      </div>\r\n    </Box>\r\n  );\r\n}","/* Written by Ye Liu */\r\n\r\nimport React from 'react';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport { Typography, Icon, IconButton } from '@material-ui/core';\r\nimport Box from '@mui/material/Box';\r\n\r\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\r\nimport indigo from '@material-ui/core/colors/indigo';\r\n\r\nimport emitter from '@utils/events.utils';\r\nimport { ACCESS_TOKEN } from '@/config';\r\n\r\nimport '@styles/dataController.style.css';\r\n\r\nimport HorizontalLinearStepperAOI from '../componentsJS/StepperAoi';\r\n\r\nconst theme = createTheme({\r\n    palette: {\r\n        primary: {\r\n            main: indigo.A200\r\n        }\r\n    }\r\n});\r\n\r\nconst styles = {\r\n    root: {\r\n        position: 'fixed',\r\n        top: 74,\r\n        right: 10,\r\n        borderRadius: 4,\r\n        minWidth: 350,\r\n        margin: 0,\r\n        zIndex: 900\r\n    },\r\n    value:'2',\r\n    rooot: {\r\n        width: '100%',\r\n      },\r\n    heading: {\r\n        fontSize: theme.typography.pxToRem(15),\r\n        flexBasis: '33.33%',\r\n        flexShrink: 0,\r\n      },\r\n      secondaryHeading: {\r\n        fontSize: theme.typography.pxToRem(15),\r\n        color: theme.palette.text.secondary,\r\n      },\r\n      header: {\r\n        backgroundColor: 'rgb(138, 213, 137)'\r\n    },\r\n    content: {\r\n        paddingBottom: 16\r\n    },\r\n    closeBtn: {\r\n        position: 'absolute',\r\n        top: 6,\r\n        right: 8,\r\n        fontSize: 22\r\n    },\r\n    searchField: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        width: '100%',\r\n        height: 40,\r\n        padding: '2px 4px'\r\n    },\r\n    searchBox: {\r\n        marginLeft: 8,\r\n        flex: 1,\r\n        border: 'none !important'\r\n    },\r\n    searchBoxBtn: {\r\n        padding: 8\r\n    },\r\n    searchOptionsContainer: {\r\n        padding: '5px 2px'\r\n    },\r\n    searchOption: {\r\n        color: 'rgba(0, 0, 0, 0.6)',\r\n        cursor: 'pointer'\r\n    },\r\n    searchBoxProgress: {\r\n        marginRight: 8\r\n    },\r\n    searchBoxDivider: {\r\n        width: 1,\r\n        height: 28,\r\n        margin: 4\r\n    },\r\n    resultWrapperOpen: {\r\n        maxWidth: 800\r\n    },\r\n    resultWrapperClosed: {\r\n        maxWidth: 350\r\n    },\r\n    resultContainer: {\r\n        paddingTop: 0,\r\n        paddingBottom: 0\r\n    },\r\n    resultTable: {\r\n        boxShadow: 'none'\r\n    },\r\n    uploadBoxInput: {\r\n        display: 'none'\r\n    },\r\n    uploadBoxBtnEdit: {\r\n        width: 40,\r\n        height: 40,\r\n        lineHeight: '40px',\r\n        textAlign: 'center',\r\n        borderRadius: '50%',\r\n        fontSize: 22\r\n    },\r\n    wrapBtn: {\r\n        position: 'absolute',\r\n        bottom: 12,\r\n        left: 18,\r\n        padding: 10,\r\n        fontSize: 24\r\n    },\r\n    addPointWrapperOpen: {\r\n        maxWidth: 350\r\n    },\r\n    addPointWrapperClose: {\r\n        width: 0\r\n    },\r\n    uploadBoxBtnAdd: {\r\n        width: 90,\r\n        height: 90,\r\n        lineHeight: '90px',\r\n        textAlign: 'center',\r\n        borderRadius: '50%',\r\n        fontSize: 30,\r\n        backgroundColor: 'rgba(0, 0, 0, 0.08)'\r\n    },\r\n    previewImageContainer: {\r\n        display: 'flex',\r\n        alignItems: 'center'\r\n    },\r\n    nameTextField: {\r\n        margin: '0 20px 0 13px'\r\n    },\r\n    pinyinTextField: {\r\n        margin: '10px 20px 10px 13px'\r\n    },\r\n    introTextField: {\r\n        width: '100%',\r\n        marginTop: 5\r\n    },\r\n    locationImageContainer: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center'\r\n    },\r\n    locationImage: {\r\n        display: 'block',\r\n        marginTop: 5,\r\n        width: 225,\r\n        height: 140,\r\n        borderRadius: 3,\r\n        cursor: 'pointer'\r\n    },\r\n    locationLabel: {\r\n        display: 'block',\r\n        marginTop: 6\r\n    },\r\n    actions: {\r\n        paddingTop: 10\r\n    },\r\n    saveBtn: {\r\n        display: 'inline-block',\r\n        position: 'relative',\r\n        marginRight: 10\r\n    },\r\n    saveBtnProgress: {\r\n        position: 'absolute',\r\n        top: '50%',\r\n        left: '50%',\r\n        marginTop: -12,\r\n        marginLeft: -12,\r\n    }\r\n};\r\n\r\nclass BandController extends React.Component {\r\n    state = {\r\n        open: false,\r\n    }\r\n\r\n    handleCloseClick = () => {\r\n        this.setState({\r\n            open: false\r\n        });\r\n    }\r\n\r\n    handleChange = (event, newValue) => {\r\n        this.setState({\r\n            value:newValue\r\n        })\r\n    };\r\n\r\n\r\n    handleDataSubmit = (data) => {\r\n        console.log(data)\r\n        if (data[0].aoiDataFiles) {\r\n            console.log(data[0].startDate)\r\n            const formData = new FormData();\r\n            formData.append('startDate', data[0].startDate);\r\n            formData.append('endDate', data[0].endDate);\r\n            formData.append('indexType', data[0].indexType);\r\n            formData.append('aoiDataFiles', data[0].aoiDataFiles[0]);\r\n            console.log(formData)\r\n            fetch('http://localhost:5004/get_image', {\r\n                method: 'POST',\r\n                body: formData\r\n            })\r\n            .then(response => response.json())\r\n            .then(result => {console.log(result.output)\r\n                this.setState({url: result.output})\r\n              emitter.emit('moveURL', this.state.url)     })\r\n                .catch(error => console.error('Error:', error));\r\n        } else if (data[1]) {\r\n            const formData = new FormData();\r\n            formData.append('startDate', data[0].startDate);\r\n            formData.append('endDate', data[0].endDate);\r\n            formData.append('indexType', data[0].indexType);\r\n            formData.append('geojson', JSON.stringify(data[1]));\r\n            console.log(formData)\r\n            console.log(data[1])\r\n            fetch('http://localhost:5004/get_image', {\r\n                method: 'POST',\r\n                body: formData\r\n            })\r\n            .then(response => response.json())\r\n          .then(result => {console.log(result.output)\r\n            this.setState({url: result.output})\r\n          emitter.emit('moveURL', this.state.url)     })\r\n            .catch(error => console.error('Error:', error));\r\n        } else {\r\n            console.error('No data to send: you must provide either a file or geoJSON data.');\r\n        }\r\n      //  this.setState({url: data.output})\r\n     //   console.log(\"Datos recibidos en BandController:\", data.output);\r\n     //   emitter.emit('moveURL', this.state.url);\r\n        // Puedes manejar los datos como desees aquí\r\n      };\r\n\r\n    handleWrapClick = () => {\r\n        // Remove temp layer\r\n        emitter.emit('removeTempLayer');\r\n\r\n        // Reset preview image\r\n        this.resetPreviewImage();\r\n\r\n        // Clear search box\r\n        document.getElementById('search-box').value = '';\r\n\r\n        this.setState({\r\n            resultUnwrap: false\r\n        });\r\n    }\r\n    \r\n    moveURL = () => {\r\n        var url = this.state.url\r\n        this.setState({ movedURL: url });\r\n        console.log(this.state.movedURL)\r\n\r\n    }\r\n\r\n    handleSearchOptionChange = (e) => {\r\n        // Update search options\r\n        var option = null;\r\n        var flag = false;\r\n        this.state.searchOptions.map(item => {\r\n            if (item.value === e.currentTarget.value) {\r\n                item.checked = e.currentTarget.checked;\r\n                option = item;\r\n            }\r\n            flag = flag || item.checked;\r\n            return true;\r\n        });\r\n\r\n        // Check whether at least one option checked\r\n        if (!flag) {\r\n            emitter.emit('showSnackbar', 'error', 'Error: Please select at least one option.');\r\n            option.checked = true;\r\n            return;\r\n        }\r\n\r\n        this.setState({\r\n            searchOptions: this.state.searchOptions\r\n        });\r\n    }\r\n\r\n\r\n\r\n    componentDidMount() {\r\n        // Initialize popover\r\n        var anchorEl = document.getElementById('anchorEl');\r\n\r\n        // Initialize file reader\r\n        var reader = new FileReader();\r\n        reader.onload = (e) => {\r\n            // Get image info\r\n            var image = new Image();\r\n            image.src = e.target.result;\r\n\r\n            // Construct preview image object\r\n            var previewImage = {\r\n                longitude: image.height > image.width,\r\n                src: e.target.result\r\n            }\r\n\r\n            // Preview image\r\n            this.setState({\r\n                previewImage: previewImage\r\n            });\r\n        };\r\n\r\n        this.setState({\r\n            reader: reader,\r\n            anchorEl: anchorEl\r\n        });\r\n\r\n        // Bind event listeners\r\n        this.openBandControllerListener = emitter.addListener('openBandController', () => {\r\n            this.setState({\r\n                open: true\r\n            });\r\n         });\r\n\r\n        this.closeAllControllerListener = emitter.addListener('closeAllController', () => {\r\n            this.setState({\r\n                open: false\r\n            });\r\n        });\r\n\r\n        this.updatePointListener = emitter.addListener('setPoint', (feature, styleCode, zoom) => {\r\n            var [lng, lat] = feature.geometry.coordinates;\r\n            var previewMapUrl = `https://api.mapbox.com/styles/v1/${styleCode}/static/pin-s+f00(${lng},${lat})/${lng},${lat},${zoom},0,1/250x155@2x?access_token=${ACCESS_TOKEN}`;\r\n\r\n            this.setState({\r\n                addPointUnwrap: true,\r\n                previewMapUrl: previewMapUrl,\r\n                geometry: feature,\r\n                previewCoordinate: {\r\n                    lng: parseFloat(lng).toFixed(3),\r\n                    lat: parseFloat(lat).toFixed(3)\r\n                }\r\n            });\r\n        });\r\n\r\n\r\n    \r\n        this.moveURListener = emitter.addListener('moveURL', () => {\r\n            this.moveURL();\r\n        });\r\n    }\r\n\r\n    \r\n    \r\n\r\n    moveURL = () => {\r\n        var url = this.state.url\r\n        this.setState({ movedURL: url });\r\n        console.log(this.state.movedURL)\r\n\r\n    }\r\n    \r\n\r\n    componentWillUnmount() {\r\n        // Remove event listeners\r\n        emitter.removeListener(this.openBandControllerListener);\r\n        emitter.removeListener(this.closeAllControllerListener);\r\n        emitter.removeListener(this.addPointListener);\r\n        emitter.removeListener(this.updatePointListener);\r\n        emitter.removeListener(this.moveURListener);\r\n\r\n        var elems = document.querySelectorAll('.materialboxed');\r\n        elems.map(elem => elem.destory());\r\n    }\r\n\r\n    render() {        \r\n        return (\r\n            <ThemeProvider theme={theme}>\r\n                <Slide direction=\"left\" in={this.state.open}>\r\n                    <Card style={styles.root}>\r\n                        {/* Card header */}\r\n                        <CardContent style={styles.header}>\r\n                            <Typography gutterBottom style={{ fontFamily: 'Lato, Arial, sans-serif', color:'white', fontWeight:'3' }} variant=\"h5\" component=\"h2\">Cálculo de variables</Typography>\r\n                            <Typography variant=\"body2\" color=\"textSecondary\">Tanto ambientales como meteorológicas</Typography>\r\n                            <IconButton style={styles.closeBtn} aria-label=\"Close\" onClick={() => this.setState({ open: false })}>\r\n                                <Icon fontSize=\"inherit\">chevron_right</Icon>\r\n                            </IconButton>\r\n                        </CardContent>\r\n                        <CardContent style={styles.content}>\r\n                                <Box sx={{ borderBottom: 1, borderColor: 'divider' }}>\r\n        </Box>\r\n        <HorizontalLinearStepperAOI onSubmit={this.handleDataSubmit}/>\r\n            \r\n        \r\n\r\n            <IconButton style={styles.closeBtn} aria-label=\"Close\" onClick={this.handleCloseClick}>\r\n                                <Icon fontSize=\"inherit\">chevron_right</Icon>\r\n                            </IconButton>\r\n                        </CardContent>\r\n                    </Card>\r\n                </Slide>\r\n            </ThemeProvider >\r\n        );\r\n    }\r\n}\r\n\r\nexport default BandController;","/* Written by Ye Liu */\r\n\r\nimport React from 'react';\r\nimport M from 'materialize-css';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport { Button, FormControl, InputLabel, MenuItem, Select, Typography, Tab, Tabs, Box, Icon, IconButton } from '@material-ui/core';\r\n\r\nimport { MuiThemeProvider, createTheme } from '@material-ui/core/styles';\r\nimport indigo from '@material-ui/core/colors/indigo';\r\n\r\nimport emitter from '@utils/events.utils';\r\nimport { ACCESS_TOKEN } from '@/config';\r\n\r\nimport '@styles/dataController.style.css';\r\n\r\nconst theme = createTheme({\r\n    palette: {\r\n        primary: {\r\n            main: indigo.A200\r\n        }\r\n    }\r\n});\r\n\r\nconst styles = {\r\n    root: {\r\n        position: 'fixed',\r\n        top: 74,\r\n        right: 10,\r\n        borderRadius: 4,\r\n        minWidth: 350,\r\n        margin: 0,\r\n        zIndex: 900\r\n    },\r\n    header: {\r\n        backgroundColor: 'rgb(138, 213, 137)'\r\n    },\r\n    closeBtn: {\r\n        position: 'absolute',\r\n        top: 6,\r\n        right: 8,\r\n        fontSize: 22\r\n    },\r\n    searchField: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        width: '100%',\r\n        height: 40,\r\n        padding: '2px 4px'\r\n    },\r\n    searchBox: {\r\n        marginLeft: 8,\r\n        flex: 1,\r\n        border: 'none !important'\r\n    },\r\n    searchBoxBtn: {\r\n        padding: 8\r\n    },\r\n    searchOptionsContainer: {\r\n        padding: '5px 2px'\r\n    },\r\n    searchOption: {\r\n        color: 'rgba(0, 0, 0, 0.6)',\r\n        cursor: 'pointer'\r\n    },\r\n    searchBoxProgress: {\r\n        marginRight: 8\r\n    },\r\n    searchBoxDivider: {\r\n        width: 1,\r\n        height: 28,\r\n        margin: 4\r\n    },\r\n    resultWrapperOpen: {\r\n        maxWidth: 800\r\n    },\r\n    resultWrapperClosed: {\r\n        maxWidth: 350\r\n    },\r\n    resultContainer: {\r\n        paddingTop: 0,\r\n        paddingBottom: 0\r\n    },\r\n    resultTable: {\r\n        boxShadow: 'none'\r\n    },\r\n    uploadBoxInput: {\r\n        display: 'none'\r\n    },\r\n    uploadBoxBtnEdit: {\r\n        width: 40,\r\n        height: 40,\r\n        lineHeight: '40px',\r\n        textAlign: 'center',\r\n        borderRadius: '50%',\r\n        fontSize: 22\r\n    },\r\n    wrapBtn: {\r\n        position: 'absolute',\r\n        bottom: 12,\r\n        left: 18,\r\n        padding: 10,\r\n        fontSize: 24\r\n    },\r\n    addPointWrapperOpen: {\r\n        maxWidth: 350\r\n    },\r\n    addPointWrapperClose: {\r\n        width: 0\r\n    },\r\n    uploadBoxBtnAdd: {\r\n        width: 90,\r\n        height: 90,\r\n        lineHeight: '90px',\r\n        textAlign: 'center',\r\n        borderRadius: '50%',\r\n        fontSize: 30,\r\n        backgroundColor: 'rgba(0, 0, 0, 0.08)'\r\n    },\r\n    previewImageContainer: {\r\n        display: 'flex',\r\n        alignItems: 'center'\r\n    },\r\n    nameTextField: {\r\n        margin: '0 20px 0 13px'\r\n    },\r\n    pinyinTextField: {\r\n        margin: '10px 20px 10px 13px'\r\n    },\r\n    introTextField: {\r\n        width: '100%',\r\n        marginTop: 5\r\n    },\r\n    locationImageContainer: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center'\r\n    },\r\n    locationImage: {\r\n        display: 'block',\r\n        marginTop: 5,\r\n        width: 225,\r\n        height: 140,\r\n        borderRadius: 3,\r\n        cursor: 'pointer'\r\n    },\r\n    locationLabel: {\r\n        display: 'block',\r\n        marginTop: 6\r\n    },\r\n    actions: {\r\n        paddingTop: 10\r\n    },\r\n    saveBtn: {\r\n        display: 'inline-block',\r\n        position: 'relative',\r\n        marginRight: 10\r\n    },\r\n    saveBtnProgress: {\r\n        position: 'absolute',\r\n        top: '50%',\r\n        left: '50%',\r\n        marginTop: -12,\r\n        marginLeft: -12,\r\n    }\r\n};\r\n\r\nclass BiodiversityController extends React.Component {\r\n    state = {\r\n        Ic:0,\r\n        Ih:0, \r\n        Ig:0,\r\n        Io:0,\r\n        If:0,\r\n        IoType:0,\r\n        activeTab: 0,\r\n        sustainabilityIndex:null,\r\n        decision:null,\r\n        open: false,\r\n        resultUnwrap: false,\r\n        addPointUnwrap: false,\r\n        optionsOpen: false,\r\n        searching: false,\r\n        submitting: false,\r\n        anchorEl: null,\r\n        geometry: null,\r\n        previewImage: null,\r\n        previewMapUrl: null,\r\n        previewCoordinate: {},\r\n        loading: false,\r\n        traces: [],\r\n        precipitationData:[],\r\n        temperatureData: [],\r\n        watsatData: [],\r\n        shannonIndex: null,\r\n            chao1Index: null,\r\n            chao2Index: null,\r\n            error: null,\r\n\r\n        layoutTemperature: {\r\n            title: 'Temperatura del Aire HC',\r\n            xaxis: {\r\n                title: 'Fecha',\r\n                type: 'date'\r\n            },\r\n            yaxis: { title: 'Temperatura (°C)' }\r\n        },\r\n        layoutPrecipitation: {\r\n            title: 'Precipitación',\r\n            xaxis: {\r\n                title: 'Fecha',\r\n                type: 'date'\r\n            },\r\n            yaxis: { title: 'Precipitación (mm)' }\r\n        },\r\n        layoutWatsat: {\r\n            title: 'Modelo Watsat',\r\n            xaxis: {\r\n                title: 'Fecha',\r\n                type: 'date'\r\n            },\r\n            yaxis: { title: 'Contenido Volumétrico de Agua' }\r\n        },\r\n        layout: {\r\n            barmode: 'stack',\r\n            title: 'Avistamientos de insectos por día',\r\n            xaxis: {\r\n                title: 'Fecha',\r\n                type: 'date'\r\n            },\r\n            yaxis: { title: 'Cantidad' }\r\n        },\r\n        items: [\r\n            {id: 1, title: 'item #1'},\r\n            {id: 2, title: 'item #2'},\r\n            {id: 3, title: 'item #3'},\r\n            {id: 4, title: 'item #4'},\r\n            {id: 5, title: 'item #5'}\r\n          ]\r\n        ,\r\n        data: [],\r\n        searchOptions: [\r\n            {\r\n                value: 'gid',\r\n                label: 'Gid',\r\n                checked: true\r\n            },\r\n            {\r\n                value: 'name',\r\n                label: 'Name',\r\n                checked: true\r\n            },\r\n            {\r\n                value: 'pinyin',\r\n                label: 'Pinyin',\r\n                checked: true\r\n            },\r\n            {\r\n                value: 'introduction',\r\n                label: 'Introduction',\r\n                checked: false\r\n            }\r\n        ]\r\n    }\r\n\r\n    calculateSustainabilityIndex = () => {\r\n        let IoValue = this.state.Io === 1 ? this.state.IoType : 0; // Ajustar el valor de Io basado en si se aplica o no fertilizante\r\n        const index = 2.45 * this.state.Ic + 2.18 * this.state.Ih + 1.64 * this.state.Ig + 1.09 * IoValue + 1 * this.state.If;\r\n        this.setState({\r\n            sustainabilityIndex:index\r\n        })\r\n    };\r\n\r\n    handleDecision = (choice) => {\r\n        this.setState({ decision: choice });\r\n      };    \r\n\r\n    initMaterialbox = () => {\r\n        var elems = document.querySelectorAll('.materialboxed');\r\n        M.Materialbox.init(elems, {\r\n            onOpenStart: (e) => {\r\n                e.parentNode.style.overflow = 'visible';\r\n            },\r\n            onCloseEnd: (e) => {\r\n                e.parentNode.style.overflow = 'hidden';\r\n            }\r\n        });\r\n    }\r\n    \r\n    resetPreviewImage = () => {\r\n        this.setState({\r\n            previewImage: null\r\n        });\r\n    }\r\n\r\n    resetNewPointData = () => {\r\n        this.setState({\r\n            previewMapUrl: null,\r\n            geometry: null,\r\n            previewCoordinate: {}\r\n        });\r\n    }\r\n\r\n    handleCloseClick = () => {\r\n        this.setState({\r\n            open: false\r\n        });\r\n    }\r\n\r\n    handleAddClick = () => {\r\n        // Get GeoJSON from map\r\n        emitter.emit('getPoint');\r\n\r\n        // Exit search mode\r\n        this.handleWrapClick();\r\n\r\n        // Initialize new point data\r\n        this.resetPreviewImage();\r\n        this.resetNewPointData();\r\n\r\n        // Wrap add point panel\r\n        this.setState({\r\n            addPointUnwrap: false\r\n        });\r\n    }\r\n\r\n    handleWrapClick = () => {\r\n        // Remove temp layer\r\n        emitter.emit('removeTempLayer');\r\n\r\n        // Reset preview image\r\n        this.resetPreviewImage();\r\n\r\n        // Clear search box\r\n        document.getElementById('search-box').value = '';\r\n\r\n        this.setState({\r\n            resultUnwrap: false\r\n        });\r\n    }\r\n\r\n    handleImageChange = (e) => {\r\n        // Check if file selected\r\n        if (!e.target.files[0]) {\r\n            return;\r\n        }\r\n\r\n        // Check image size (smaller than 1MB)\r\n        if (e.target.files[0].size > 1048576) {\r\n            emitter.emit('showSnackbar', 'error', 'Error: Image must be smaller than 1MB.');\r\n            return;\r\n        }\r\n\r\n        // Encode image with base64\r\n        this.state.reader.readAsDataURL(e.target.files[0]);\r\n    }\r\n\r\n    handleDoneEdit = () => {\r\n        // Reset preview image\r\n        this.resetPreviewImage();\r\n\r\n        // Initialize Materialbox\r\n        setTimeout(this.initMaterialbox, 800);\r\n    }\r\n\r\n    handleSearchOptionsClick = () => {\r\n        this.setState({\r\n            optionsOpen: true\r\n        });\r\n    }\r\n\r\n    handleSearchOptionsClose = () => {\r\n        this.setState({\r\n            optionsOpen: false\r\n        });\r\n    }\r\n\r\n    \r\n    handleSearchOptionChange = (e) => {\r\n        // Update search options\r\n        var option = null;\r\n        var flag = false;\r\n        this.state.searchOptions.map(item => {\r\n            if (item.value === e.currentTarget.value) {\r\n                item.checked = e.currentTarget.checked;\r\n                option = item;\r\n            }\r\n            flag = flag || item.checked;\r\n            return true;\r\n        });\r\n\r\n        // Check whether at least one option checked\r\n        if (!flag) {\r\n            emitter.emit('showSnackbar', 'error', 'Error: Please select at least one option.');\r\n            option.checked = true;\r\n            return;\r\n        }\r\n\r\n        this.setState({\r\n            searchOptions: this.state.searchOptions\r\n        });\r\n    }\r\n\r\n    handleSearchClick = () => {\r\n        // Exit add point mode\r\n        this.handleCancelClick();\r\n\r\n        // Get keyword\r\n        var keyword = document.getElementById('search-box').value;\r\n        if (!keyword) {\r\n            return;\r\n        }\r\n\r\n        // Show searching progress\r\n        this.setState({\r\n            searching: true\r\n        });\r\n\r\n        // Get search options\r\n        var options = {};\r\n        this.state.searchOptions.map(item => {\r\n            options[item.value] = item.checked;\r\n            return true;\r\n        });\r\n\r\n        // Initiate request\r\n    }\r\n\r\n    handlePreviewClick = (e, data) => {\r\n        // Show marker and popup on map\r\n        emitter.emit('displayTempLayer', data);\r\n    }\r\n\r\n    handlePreviewMapClick = () => {\r\n        // Get GeoJSON from map\r\n        emitter.emit('getPoint');\r\n\r\n        this.setState({\r\n            addPointUnwrap: false\r\n        });\r\n    }\r\n\r\n    handleSelectChange = (event) => {\r\n        this.setState({ [event.target.name]: Number(event.target.value) });\r\n    };\r\n\r\n    calculateSustainabilityIndex = () => {\r\n        const { Ic, Ih, Ig, Io, If, IoType } = this.state;\r\n        let IoValue = Io === 1 ? IoType : 0;\r\n        const index = 2.45 * Ic + 2.18 * Ih + 1.64 * Ig + 1.09 * IoValue + 1 * If;\r\n        this.setState({ sustainabilityIndex: index });\r\n    };\r\n\r\n\r\n    componentDidMount() {\r\n        // Initialize popover\r\n        var anchorEl = document.getElementById('anchorEl');\r\n\r\n        // Initialize file reader\r\n        var reader = new FileReader();\r\n        reader.onload = (e) => {\r\n            // Get image info\r\n            var image = new Image();\r\n            image.src = e.target.result;\r\n\r\n            // Construct preview image object\r\n            var previewImage = {\r\n                longitude: image.height > image.width,\r\n                src: e.target.result\r\n            }\r\n\r\n            // Preview image\r\n            this.setState({\r\n                previewImage: previewImage\r\n            });\r\n        };\r\n\r\n        this.setState({\r\n            reader: reader,\r\n            anchorEl: anchorEl\r\n        });\r\n\r\n        // Bind event listeners\r\n        this.openBiodivControllerListener = emitter.addListener('openBiodivController', () => {\r\n            this.setState({\r\n                open: true\r\n            });\r\n         });\r\n\r\n        this.closeAllControllerListener = emitter.addListener('closeAllController', () => {\r\n            this.setState({\r\n                open: false\r\n            });\r\n        });\r\n\r\n        this.updatePointListener = emitter.addListener('setPoint', (feature, styleCode, zoom) => {\r\n            var [lng, lat] = feature.geometry.coordinates;\r\n            var previewMapUrl = `https://api.mapbox.com/styles/v1/${styleCode}/static/pin-s+f00(${lng},${lat})/${lng},${lat},${zoom},0,1/250x155@2x?access_token=${ACCESS_TOKEN}`;\r\n\r\n            this.setState({\r\n                addPointUnwrap: true,\r\n                previewMapUrl: previewMapUrl,\r\n                geometry: feature,\r\n                previewCoordinate: {\r\n                    lng: parseFloat(lng).toFixed(3),\r\n                    lat: parseFloat(lat).toFixed(3)\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    \r\n    setIc(e){\r\n        this.setState({\r\n            Ic:e\r\n        })\r\n    }\r\n    setIh(e){\r\n        this.setState({\r\n            Ih:e\r\n        })\r\n    }\r\n    setIg(e){\r\n        this.setState({\r\n            Ig:e\r\n        })\r\n    }\r\n    setIo(e){\r\n        this.setState({\r\n            Io:e\r\n        })\r\n    }\r\n    setIoType(e){\r\n        this.setState({\r\n            IoType:e\r\n        })\r\n    }\r\n    setIf(e){\r\n        this.setState({\r\n            If:e\r\n        })\r\n    }\r\n\r\n    handleCalculate = async (endpoint, resultKey) => {\r\n        this.setState({ error: null, loading: true });\r\n\r\n        try {\r\n            const response = await fetch(endpoint);\r\n            if (!response.ok) throw new Error('Error al procesar la solicitud');\r\n            const data = await response.json();\r\n            this.setState({ [resultKey]: data });\r\n        } catch (err) {\r\n            console.error(err);\r\n            this.setState({ error: 'Error al calcular el índice. Intenta nuevamente.' });\r\n        } finally {\r\n            this.setState({ loading: false });\r\n        }\r\n    };\r\n\r\n    renderTabContent = (index) => {\r\n        const { loading, error, shannonIndex, chao1Index, chao2Index } = this.state;\r\n\r\n        if (index === 0) {\r\n            return (\r\n                <>\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        style={styles.button}\r\n                        onClick={() => this.handleCalculate('http://localhost:5003/api/shannon', 'shannonIndex')}\r\n                        disabled={loading}\r\n                    >\r\n                        Calcular Índice Shannon\r\n                    </Button>\r\n                    {loading && <CircularProgress style={styles.loading} />}\r\n                    {error && (\r\n                        <Typography color=\"error\" style={styles.result}>\r\n                            {error}\r\n                        </Typography>\r\n                    )}\r\n                    {shannonIndex && (\r\n                        <Typography style={styles.result}>\r\n                            Índice de Shannon: {shannonIndex.shannon_index.toFixed(2)}\r\n                        </Typography>\r\n                    )}\r\n                </>\r\n            );\r\n        }\r\n\r\n        if (index === 1) {\r\n            return (\r\n                <>\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        style={styles.button}\r\n                        onClick={() => this.handleCalculate('http://localhost:5003/api/chao1', 'chao1Index')}\r\n                        disabled={loading}\r\n                    >\r\n                        Calcular Índice Chao1\r\n                    </Button>\r\n                    {loading && <CircularProgress style={styles.loading} />}\r\n                    {error && (\r\n                        <Typography color=\"error\" style={styles.result}>\r\n                            {error}\r\n                        </Typography>\r\n                    )}\r\n                    {chao1Index && (\r\n                        <Typography style={styles.result}>\r\n                            Índice Chao1: {chao1Index.chao1_index.toFixed(2)}\r\n                        </Typography>\r\n                    )}\r\n                </>\r\n            );\r\n        }\r\n\r\n        if (index === 2) {\r\n            return (\r\n                <>\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        style={styles.button}\r\n                        onClick={() => this.handleCalculate('http://localhost:5003/api/chao2', 'chao2Index')}\r\n                        disabled={loading}\r\n                    >\r\n                        Calcular Índice Chao2\r\n                    </Button>\r\n                    {loading && <CircularProgress style={styles.loading} />}\r\n                    {error && (\r\n                        <Typography color=\"error\" style={styles.result}>\r\n                            {error}\r\n                        </Typography>\r\n                    )}\r\n                    {chao2Index && (\r\n                        <Typography style={styles.result}>\r\n                            Índice Chao2: {chao2Index.chao2_index.toFixed(2)}\r\n                        </Typography>\r\n                    )}\r\n                </>\r\n            );\r\n        }\r\n\r\n        return null;\r\n    };\r\n    handleTabChange = (event, newValue) => {\r\n        this.setState({ activeTab: newValue });\r\n    };\r\n    componentWillUnmount() {\r\n        // Remove event listeners\r\n        emitter.removeListener(this.openBiodivControllerListener);\r\n        emitter.removeListener(this.closeAllControllerListener);\r\n        emitter.removeListener(this.addPointListener);\r\n        emitter.removeListener(this.updatePointListener);\r\n\r\n        // Destory Materialbox\r\n        //                         {loading ? <p>Cargando datos...</p> : <Plot data={traces} layout={layout} />}\r\n\r\n        var elems = document.querySelectorAll('.materialboxed');\r\n        elems.map(elem => elem.destory());\r\n    }\r\n\r\n    render() {        \r\n        const { activeTab } = this.state;\r\n\r\n        return (\r\n            <MuiThemeProvider theme={theme}>\r\n                                <Slide direction=\"left\" in={this.state.open}>\r\n\r\n                                <Card style={styles.root}>\r\n                                <CardContent style={styles.header}>\r\n                            <Typography gutterBottom style={{ fontFamily: 'Lato, Arial, sans-serif', color:'white', fontWeight:'3' }} variant=\"h5\" component=\"h2\">Cálculo de Índices de Biodiversidad</Typography>\r\n                            <Typography variant=\"body2\" color=\"textSecondary\">Cálculo de Índices de Biodiversidad</Typography>\r\n                            <IconButton style={styles.closeBtn} aria-label=\"Close\" onClick={() => this.setState({ open: false })}>\r\n                                <Icon fontSize=\"inherit\">chevron_right</Icon>\r\n                            </IconButton>\r\n                        </CardContent>\r\n\r\n                    <Tabs\r\n                        value={activeTab}\r\n                        onChange={this.handleTabChange}\r\n                        indicatorColor=\"secondary\"\r\n                        textColor=\"inherit\"\r\n                        variant=\"fullWidth\"\r\n                        style={styles.tabs}\r\n                    >\r\n                        <Tab label=\"Shannon\" />\r\n                        <Tab label=\"Chao1\" />\r\n                        <Tab label=\"Chao2\" />\r\n                    </Tabs>\r\n                    <CardContent>\r\n                        <Box>{this.renderTabContent(activeTab)}</Box>\r\n                    </CardContent>\r\n                </Card>\r\n                </Slide>\r\n            </MuiThemeProvider>\r\n        );\r\n    }\r\n}\r\n\r\nexport default BiodiversityController;","/* Written by Ye Liu */\r\n\r\nimport React from 'react';\r\nimport { SnackbarProvider } from 'notistack';\r\n\r\nimport Snackbar from '@components/snackbar';\r\nimport About from '@components/about';\r\nimport Navigator from '@components/navigator';\r\nimport Menu from '@components/menu';\r\nimport Login from '@components/login';\r\nimport Feature from '@components/feature';\r\nimport StyleController from '@components/controllers/styleController';\r\nimport LayerController from '@components/controllers/layerController';\r\nimport Canvas from '@components/canvas';\r\nimport Popup from '@components/popup';\r\nimport '@styles/materialize.min.style.css';\r\nimport RusleController from '../components/controllers/rusleController';\r\nimport BushEncroacher from '../components/controllers/bushEncoracherController';\r\nimport SearchController from '../components/controllers/searchContoller';\r\nimport DataController from '../components/controllers/dataController';\r\nimport ModelController from '../components/controllers/modelController';\r\nimport ImportController from '../components/controllers/importController';\r\nimport VegInspectorController from '../components/controllers/vegInspectorController';\r\nimport SpatioTemporalAnalysisController from '../components/controllers/spatioTemporalAnalysisController';\r\nimport BandController from '../components/controllers/bandContoller';\r\nimport BiodiversityController from '../components/controllers/biodiversityController';\r\n\r\nclass Main extends React.Component {\r\n    render() {\r\n        return (\r\n            <SnackbarProvider maxSnack={3}>\r\n                <React.Fragment>\r\n                    <Snackbar />\r\n                    <About />\r\n                    <Navigator />\r\n                    <Menu />\r\n                    <Login />\r\n                    <Feature />\r\n                    <BushEncroacher/>\r\n                    <BandController/>\r\n                    <SearchController/>\r\n                    <SpatioTemporalAnalysisController/>\r\n                    <BiodiversityController/>\r\n                    <VegInspectorController/>\r\n                    <StyleController />\r\n                    <LayerController />\r\n                    <ModelController />\r\n                    <DataController/>\r\n                    <ImportController/>\r\n                    <RusleController />\r\n                    <Popup />\r\n                    <Canvas />\r\n                </React.Fragment>\r\n            </SnackbarProvider>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Main;\r\n","/* Written by Ye Liu */\n\nimport React from 'react';\nimport { HashRouter, Route, Switch } from 'react-router-dom';\n\nimport Main from '@pages/main';\n\nconst Router = () => (\n    <HashRouter>\n        <Switch>\n            <Route exact path=\"/\" component={Main} />\n        </Switch>\n    </HashRouter>\n);\n\nexport default Router;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n  // [::1] is the IPv6 localhost address.\n  window.location.hostname === '[::1]' ||\n  // 127.0.0.1/8 is considered localhost for IPv4.\n  window.location.hostname.match(\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n  )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n            'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","/* Written by Ye Liu */\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport Router from '@router/router';\nimport * as serviceWorker from '@/serviceWorker';\n\nconst App = () => (\n    <Router />\n);\n\n// Render pages\nReactDOM.render(<App />, document.getElementById('root'));\n\n// Let the app work offline and load faster\nserviceWorker.register();"],"sourceRoot":""}